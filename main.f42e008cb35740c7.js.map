{"version":3,"file":"main.f42e008cb35740c7.js","mappings":"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","sources":["./src/app/components/modals/modal.component.ts","./src/app/components/modals/qr-scanner/qr-scanner.component.html","./src/app/components/modals/qr-scanner/qr-scanner.component.ts","./src/app/components/ui/asset/asset.component.html","./src/app/components/ui/asset/asset.component.ts","./src/app/components/ui/button/toggle/toggle.component.ts","./src/app/components/ui/button/toggle/advanced/advanced.component.ts","./src/app/components/ui/button/toggle/advanced/advanced.component.html","./src/app/components/ui/chart/chart.component.html","./src/app/components/ui/chart/chart.component.ts","./src/app/components/ui/dropdown/dropdown.component.ts","./src/app/components/ui/generic/list.component.ts","./src/app/components/views/logged-in/account-view/activity/event/event.component.html","./src/app/components/views/logged-in/account-view/activity/event/event.component.ts","./src/app/components/views/logged-in/account-view/activity/activity.component.html","./src/app/components/views/logged-in/account-view/activity/activity.component.ts","./src/app/components/views/logged-in/account-view/nfts/token/token.component.html","./src/app/components/views/logged-in/account-view/nfts/token/token.component.ts","./src/app/components/ui/search/search.component.html","./src/app/components/ui/search/search.component.ts","./src/app/components/views/logged-in/account-view/nfts/body/body.component.html","./src/app/components/views/logged-in/account-view/nfts/body/body.component.ts","./src/app/components/views/logged-in/account-view/nfts/nfts.component.html","./src/app/components/views/logged-in/account-view/nfts/nfts.component.ts","./src/app/components/ui/button/basic/basic.component.ts","./src/app/components/ui/button/basic/send/send-button.component.html","./src/app/components/ui/button/basic/send/send-button.component.ts","./src/app/components/views/logged-in/account-view/balances/token/balance-token.component.html","./src/app/components/views/logged-in/account-view/balances/token/balance-token.component.ts","./src/app/components/views/logged-in/account-view/balances/balances.component.html","./src/app/components/views/logged-in/account-view/balances/balances.component.ts","./src/app/components/modals/send/detail/token-detail.component.html","./src/app/components/modals/send/detail/token-detail.component.ts","./src/app/components/views/logged-in/account-view/account-view.component.html","./src/app/components/views/logged-in/account-view/account-view.component.ts","./src/app/components/views/logged-in/settings/settings.component.html","./src/app/components/views/logged-in/settings/settings.component.ts","./src/app/components/views/logged-in/delegate-page/delegate-page.component.html","./src/app/components/views/logged-in/logged-in-routing.module.ts","./src/app/components/views/logged-in/delegate-page/delegate-page.component.ts","./src/app/components/views/logged-in/logged-in.module.ts","./src/app/components/views/start/activate/activate.component.html","./src/app/components/views/start/activate/activate.component.ts","./src/app/interfaces.ts","./src/app/pipes/error-handling.pipe.ts","./src/app/pipes/remove-comma.pipe.ts","./src/app/pipes/time-ago.pipe.ts","./src/app/services/activity/activity.service.ts","./src/app/services/balance/balance.service.ts","./src/app/services/beacon/beacon.service.ts","./src/app/services/chart/chart.service.ts","./src/app/services/indexer/signal/signal.service.ts","./src/app/services/coordinator/coordinator.service.ts","./src/app/services/deeplink/deeplink.service.ts","./src/app/services/delegate/delegate.service.ts","./src/app/services/encryption/encryption.service.ts","./src/app/services/estimate/estimate.service.ts","./src/app/services/indexer/indexer.service.ts","./src/app/services/indexer/teztools/teztools.service.ts","./src/app/services/indexer/tzkt/tzkt.service.ts","./src/app/services/input-validation/input-validation.service.ts","./src/app/services/lookup/lookup.service.ts","./src/app/services/message/message.service.ts","./src/app/services/operation/operation.service.ts","./src/app/services/subject/subject.service.ts","./src/app/services/swap-liquidity/classes/Amount.ts","./src/app/services/swap-liquidity/swap-liquidity.service.ts","./src/app/services/tezos-domains/tezos-domains.service.ts","./src/app/services/token-balances/token-balances.service.ts","./src/app/services/indexer/objkt/objkt.service.ts","./src/app/services/token/token.service.ts","./src/app/services/torus/torus.service.ts","./src/app/services/tzrate/tzrate.service.ts","./src/app/services/unlockable/unlockable.service.ts","./src/app/services/wallet/wallet.service.ts","./src/app/services/wallet/wallet.ts","./src/environments/environment.ghostnet.ts","./src/environments/environment.ts","./src/app/services/import/import.service.ts","./src/app/components/views/start/start.component.html","./src/app/components/views/start/start.component.ts","./src/app/services/export/export.service.ts","./src/app/components/views/start/login-types/new-wallet/new-wallet.component.html","./src/app/components/views/start/login-types/new-wallet/new-wallet.component.ts","./src/app/components/views/start/login-types/mnemonic-import/mnemonic-import.component.html","./src/app/components/views/start/login-types/mnemonic-import/mnemonic-import.component.ts","./src/app/services/ledger/ledger.service.ts","./src/app/components/views/start/login-types/connect-ledger/connect-ledger.component.ts","./src/app/components/views/start/login-types/connect-ledger/connect-ledger.component.html","./src/app/components/views/error/404.component.ts","./src/app/components/views/error/404.component.html","./src/app/components/views/error/500.component.ts","./src/app/components/views/error/500.component.html","./src/app/components/views/start/agreement/privacy-policy/privacy-policy.component.ts","./src/app/components/views/start/agreement/privacy-policy/privacy-policy.component.html","./src/app/components/views/start/agreement/terms-of-use/terms-of-use.component.ts","./src/app/components/views/start/agreement/terms-of-use/terms-of-use.component.html","./src/app/services/embedded-auth/embedded-auth.service.ts","./src/app/components/misc/send/interfaces.ts","./src/app/components/modals/swap-liquidity/swap-liquidity.component.html","./src/app/components/modals/swap-liquidity/swap-liquidity.component.ts","./src/app/components/modals/send/confirm/send-confirmation.component.html","./src/app/components/modals/send/confirm/send-confirmation.component.ts","./src/app/components/ui/dropdown/prepare-send/prepare-send-dropdown.component.html","./src/app/components/ui/dropdown/prepare-send/prepare-send-dropdown.component.ts","./src/app/components/modals/send/prepare/prepare-send.component.html","./src/app/components/modals/send/prepare/prepare-send.component.ts","./src/app/components/views/embedded/confirm-send/confirm-send.component.html","./src/app/components/views/embedded/confirm-send/confirm-send.component.ts","./src/app/components/modals/swap-liquidity/swap-liquidity-confirm.component.html","./src/app/components/modals/swap-liquidity/swap-liquidity-confirm.component.ts","./src/app/components/misc/send/send.component.html","./src/app/components/misc/send/send.component.ts","./src/app/components/views/embedded/sign-expr/template/template.component.html","./src/app/components/views/embedded/sign-expr/template/template.component.ts","./src/app/components/views/embedded/sign-expr/sign-expr.component.html","./src/app/components/views/embedded/sign-expr/sign-expr.component.ts","./src/app/components/views/embedded/queue/queue.component.html","./src/app/components/views/embedded/queue/queue.component.ts","./src/app/components/views/embedded/signin/signin.component.html","./src/app/components/views/embedded/signin/signin.component.ts","./src/app/components/views/embedded/card/card.component.ts","./src/app/components/views/embedded/card/card.component.html","./src/app/components/views/embedded/embedded.component.html","./src/app/components/views/embedded/embedded.component.ts","./src/app/components/modals/receive/receive.component.html","./src/app/components/modals/receive/receive.component.ts","./src/app/components/modals/new-implicit/new-implicit.component.html","./src/app/components/modals/new-implicit/new-implicit.component.ts","./src/app/components/ui/dropdown/permission-request/permission-request.component.html","./src/app/components/ui/dropdown/permission-request/permission-request.component.ts","./src/app/components/modals/permission-request/permission-request.component.html","./src/app/components/modals/permission-request/permission-request.component.ts","./src/app/components/modals/sign-expr/sign-expr.component.html","./src/app/components/modals/sign-expr/sign-expr.component.ts","./src/app/components/modals/originate/originate.component.html","./src/app/components/modals/originate/originate.component.ts","./src/app/components/modals/delegate/delegate.component.html","./src/app/components/modals/delegate/delegate.component.ts","./src/app/components/modals/account-list/body/body.component.html","./src/app/components/modals/account-list/body/body.component.ts","./src/app/components/modals/account-list/list.component.ts","./src/app/components/modals/account-list/list.component.html","./src/app/components/modals/export-mnemonic/export-mnemonic.component.html","./src/app/components/modals/export-mnemonic/export-mnemonic.component.ts","./src/app/components/misc/uri-handler/uri-handler.component.ts","./src/app/components/misc/uri-handler/uri-handler.component.html","./src/app/components/views/logged-in/account-view/moonpay/moonpay.component.html","./src/app/components/views/logged-in/account-view/moonpay/moonpay.component.ts","./src/app/app-routing.module.ts","./src/app/components/views/logged-in/logged-in.component.ts","./src/app/components/views/logged-in/logged-in.component.html","./src/app/components/modals/info/info.component.html","./src/app/components/modals/info/info.component.ts","./src/app/components/modals/alert/alert.component.html","./src/app/components/modals/alert/alert.component.ts","./src/app/components/ui/messages/messages.component.html","./src/app/components/ui/messages/messages.component.ts","./src/app/components/ui/dropdown/account/account-dropdown.component.html","./src/app/components/ui/dropdown/account/account-dropdown.component.ts","./src/app/components/ui/dropdown/mobile-menu/mobile-menu.component.html","./src/app/components/ui/dropdown/mobile-menu/mobile-menu.component.ts","./src/app/components/views/layouts/header/header.component.html","./src/app/components/views/layouts/header/header.component.ts","./src/app/components/views/layouts/footer/footer.component.html","./src/app/components/views/layouts/footer/footer.component.ts","./src/app/components/ui/spinner/new/spinner-new.component.ts","./src/app/components/ui/spinner/new/spinner-new.component.html","./src/app/components/ui/spinner/spinner.component.html","./src/app/components/ui/spinner/spinner.component.ts","./src/app/components/views/start/agreement/agreement.component.html","./src/app/components/views/start/agreement/agreement.component.ts","./src/app/app.component.html","./src/app/app.component.ts","./src/app/pipes/truncate.pipe.ts","./src/app/app.module.ts","./src/main.ts","./node_modules/moment/locale/ sync ^\\.\\/.*$"],"sourcesContent":["import { Component, OnInit, Optional, ChangeDetectorRef, OnDestroy } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { BehaviorSubject } from 'rxjs';\n\ninterface ModalPayload {\n  name: string | null;\n  data: any;\n  forceClose?: boolean;\n}\n\n@Component({\n  selector: 'app-modal',\n  templateUrl: './modal.component.html'\n})\nexport class ModalComponent implements OnInit, OnDestroy {\n  public isOpen = false;\n  name = '';\n  static currentModel = new BehaviorSubject<ModalPayload>({\n    name: '',\n    data: null\n  });\n  private modalSub: Subscription = new Subscription();\n  constructor(@Optional() public cd?: ChangeDetectorRef) {\n    this.cd = cd;\n    this.modalSub = ModalComponent.currentModel.subscribe((load) => {\n      load.forceClose = load.forceClose === undefined ? true : load.forceClose;\n      if (!!load.name && load.name === this.name) {\n        if (!this.isOpen) {\n          this.willOpen();\n          this.open(load.data);\n        }\n      } else {\n        if (this.isOpen && load.forceClose) {\n          this.close();\n          if (this.cd) {\n            this.cd.detectChanges();\n          }\n        }\n      }\n    });\n  }\n\n  ngOnInit(): void {}\n\n  ngOnDestroy(): void {\n    this.modalSub.unsubscribe();\n  }\n\n  willOpen(): void {}\n\n  open(data?: any): void {\n    if (window.innerHeight < document.body.scrollHeight) {\n      document.body.style.marginRight = '0.5rem !important';\n      document.body.style.overflowY = 'hidden !important';\n    }\n    const isMobile = Number(document.documentElement.style.getPropertyValue('--is-mobile'));\n    if (isMobile) {\n      setTimeout(() => {\n        window.scrollTo({ top: 0 });\n      }, 0);\n    }\n    this.isOpen = true;\n  }\n\n  close(): void {\n    document.body.style.marginRight = '';\n    document.body.style.overflowY = '';\n    this.isOpen = false;\n  }\n}\n","<button *ngIf=\"!override\" class=\"scan\" (click)=\"openModal()\">Scan QR code</button>\n<img *ngIf=\"override\" class=\"scan override\" (click)=\"openModal()\" src=\"assets/img/qr.svg\" />\n<div *ngIf=\"isOpen\" class=\"flex-column kukai-modal\">\n  <form autocomplete=\"off\">\n    <div class=\"content\">\n      <div class=\"flex-row top\">\n        <div class=\"flex-row button close\" (click)=\"closeModal()\"><img class=\"x\"\n            src=\"../../../assets/img/close-btn-x.png\" /></div>\n        <h1 class=\"title\">QR-Scanner</h1>\n      </div>\n      <div class=\"seperator\"></div>\n      <div class=\"flex-column qr-scanner\">\n        <div class=\"video-container\">\n          <video #videoPlayer>\n            Browser not supported\n          </video>\n          <p class=\"no-cam\" *ngIf=\"!qrScanner\">No camera detected</p>\n          <p class=\"no-cam\" *ngIf=\"!!errorMessage\">{{ errorMessage }}</p>\n          <p class=\"no-cam\" *ngIf=\"!!errorMessage\">Please check site permissions</p>\n        </div>\n        <input *ngIf=\"!override\" name=\"none\" type=\"text\" [(ngModel)]=\"manualInput\" class=\"text\" (paste)=\"handlePaste($event)\"\n          placeholder=\"...or paste pairing string here\">\n      </div>\n    </div>\n  </form>\n</div>","import { Component, ViewChild, ElementRef, Input, EventEmitter, Output } from '@angular/core';\nimport { BeaconService } from '../../../services/beacon/beacon.service';\nimport QrScanner from 'qr-scanner';\nimport { DeeplinkService } from '../../../services/deeplink/deeplink.service';\nimport { CONSTANTS as _CONSTANTS, environment } from '../../../../environments/environment';\nimport { MessageService } from '../../../services/message/message.service';\nimport { ModalComponent } from '../modal.component';\n\n@Component({\n  selector: 'app-qr-scanner',\n  templateUrl: './qr-scanner.component.html',\n  styleUrls: ['../../../../scss/components/modals/modal.scss']\n})\nexport class QrScannerComponent extends ModalComponent {\n  readonly CONSTANTS = _CONSTANTS;\n  readonly env = environment;\n  constructor(private beaconService: BeaconService, private deeplinkService: DeeplinkService, private messageService: MessageService) {\n    super();\n  }\n  @Output('scanResponse') scanResponse = new EventEmitter();\n  @ViewChild('videoPlayer') videoplayer: ElementRef;\n  @Input() override = false;\n  qrScanner: QrScanner;\n  manualInput = '';\n  name = 'qr-scanner';\n  loadingCam = false;\n  errorMessage = '';\n  openModal(): void {\n    if (!this.override) {\n      ModalComponent.currentModel.next({ name: this.name, data: null });\n    } else {\n      super.open();\n    }\n    this.scan();\n  }\n  async scan(): Promise<void> {\n    this.loadingCam = true;\n    const hasCamera = await QrScanner.hasCamera();\n    if (hasCamera && this.videoplayer?.nativeElement) {\n      this.errorMessage = '';\n      try {\n        this.qrScanner = new QrScanner(this.videoplayer?.nativeElement, (result: QrScanner.ScanResult) => this.handleQrCode(result), {});\n        await this.qrScanner.start();\n        if (!this.isOpen) {\n          this.qrScanner.stop();\n          this.qrScanner.destroy();\n          this.qrScanner = null;\n        }\n      } catch (e) {\n        this.errorMessage = e;\n      }\n    } else {\n      console.warn('no camera found');\n    }\n    this.loadingCam = false;\n  }\n  handleQrCode(scanResult: QrScanner.ScanResult): void {\n    const qrString = scanResult.data;\n    console.log('QR Code', qrString);\n    try {\n      const pairingInfo = this.deeplinkService.QRtoPairingJson(qrString);\n      if (pairingInfo && !this.override) {\n        this.beaconService.preNotifyPairing(pairingInfo);\n        this.beaconService.addPeer(pairingInfo);\n      } else if (qrString && this.override) {\n        this.scanResponse.emit({ pkh: qrString });\n      }\n      this.closeModal();\n    } catch (e) {\n      if (!this.override) {\n        this.messageService.addError('Invalid Base58 checksum!');\n      }\n    }\n  }\n  handlePaste(ev: ClipboardEvent): void {\n    try {\n      const clipboardString = ev?.clipboardData?.getData('text');\n      const pairingInfo = clipboardString ? this.deeplinkService.QRtoPairingJson(clipboardString) : '';\n      if (!this.override && pairingInfo) {\n        this.beaconService.preNotifyPairing(pairingInfo);\n        this.beaconService.addPeer(pairingInfo);\n      } else if (clipboardString && this.override) {\n        this.scanResponse.emit({ pkh: clipboardString });\n      }\n      this.closeModal();\n    } catch (e) {\n      if (!this.override) {\n        this.messageService.addError('Invalid Base58 checksum!');\n      }\n    }\n  }\n  closeModal(): void {\n    // restore body scrollbar\n    if (this.qrScanner && !this.loadingCam) {\n      this.qrScanner.stop();\n      this.qrScanner.destroy();\n      this.qrScanner = null;\n    }\n    if (!this.override) {\n      ModalComponent.currentModel.next({ name: '', data: null });\n    } else {\n      super.close();\n    }\n    this.manualInput = '';\n  }\n}\n","<ng-container *ngIf=\"this.display === Display.image || (this.display === Display.audio && !!poster)\">\n  <!-- Need crossorigin anonymous here to leverage caching from first GET (check mime type) -->\n  <img crossorigin=\"anonymous\" #postImage [src]=\"postSrc\" id=\"postImage\" [style.objectFit]=\"postSrc?.indexOf(loaderUrl) > -1 ? 'scale-down' : ''\" (error)=\"onError($event)\" (load)=\"onLoad($event)\" />\n  <img crossorigin=\"anonymous\" #preImage [src]=\"preSrc\" id=\"preImage\" (error)=\"onError($event)\" (load)=\"onLoad($event)\" />\n</ng-container>\n<audio crossorigin=\"anonymous\" #audio *ngIf=\"this.display === Display.audio\" preload=\"metadata\" [controls]=\"controls\" [controlsList]=\"controlsList\" id=\"audio\" (error)=\"onError($event)\" (loadeddata)=\"onLoadData($event)\">\n  <source crossorigin=\"anonymous\" [src]=\"dataSrc\" [type]=\"mimeType\" />\n</audio>\n<video crossorigin=\"anonymous\" #video *ngIf=\"this.display === Display.video\" preload=\"metadata\" id=\"video\" [controls]=\"controls\" [playsinline]=\"playsinline\" [muted]=\"muted\" [loop]=\"loop\" [autoplay]=\"autoplay\" (error)=\"onError($event)\" (loadeddata)=\"onLoadData($event)\">\n  <source crossorigin=\"anonymous\" [src]=\"dataSrc\" [type]=\"mimeType\" />\n  <img crossorigin=\"anonymous\" [src]=\"loaderUrl\" class=\"spinner\" />\n</video>\n<div *ngIf=\"this.display === Display.threeD\" class=\"model-wrapper\">\n  <model-viewer crossorigin=\"anonymous\" #model id=\"modelCanvas\" auto-rotate rotation-per-second=\"30deg\"\n    [src]=\"dataSrc\" alt=\"postSrc\" (load)=\"onLoad($event)\" (error)=\"onError($event)\"\n    camera-controls ar ar-modes=\"webxr scene-viewer quick-look\"></model-viewer>\n</div>","import { AfterViewInit, Component, ElementRef, EventEmitter, Input, OnInit, Output, Sanitizer, SimpleChanges, ViewChild } from '@angular/core';\nimport { Asset, CachedAsset, TokenService } from '../../../services/token/token.service';\nimport { CONSTANTS, MODEL_3D_WHITELIST } from '../../../../environments/environment';\n\nenum Display {\n  'none',\n  'audio',\n  'image',\n  'video',\n  'threeD'\n}\n\nenum Size {\n  'icon' = 'icon',\n  'small' = 'small',\n  'medium' = 'medium',\n  'gallery' = 'gallery',\n  'raw' = 'raw'\n}\n\nconst MIMETYPE_OVERLOADS = ['unknown', 'image/gif'];\n\n@Component({\n  selector: 'app-asset',\n  templateUrl: './asset.component.html',\n  styleUrls: ['../../../../scss/components/ui/asset/asset.component.scss']\n})\nexport class AssetComponent implements OnInit, AfterViewInit {\n  Display = Display;\n  display = Display.image;\n  @ViewChild('preImage') preImage;\n  @ViewChild('postImage') postImage;\n  @ViewChild('audio') audio;\n  @ViewChild('video') video;\n  @ViewChild('model') model;\n  @Input() assets: any;\n  @Input() size = Size.medium;\n  @Input() priorityList = ['displayAsset', 'thumbnailAsset'];\n  @Input() controlsList = 'nofullscreen nodownload noremoteplayback noplaybackrate';\n  @Input() poster: CachedAsset;\n  @Input() controls = false;\n  @Input() requires = ['all'];\n  @Input() hideSpinner = false;\n  @Input() muted = false;\n  @Input() autoplay = false;\n  @Input() loop = false;\n  @Input() playsinline = false;\n  @Output() inView = new EventEmitter(null);\n  @Output() load = new EventEmitter(null);\n  readonly loaderUrl = 'assets/img/loader.svg';\n  readonly unknownUrl = 'assets/img/unknown-token-grayscale.svg';\n  dataSrc = undefined;\n  preSrc = this.loaderUrl;\n  postSrc = this.loaderUrl;\n  mimeType = 'image/*';\n  errors = 0;\n  obs: IntersectionObserver;\n\n  constructor(private elRef: ElementRef, private tokenService: TokenService) {}\n\n  ngOnInit(): void {\n    if (this.hideSpinner) {\n      this.display = Display.none;\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (\n      changes?.assets?.previousValue &&\n      changes?.assets?.currentValue &&\n      JSON.stringify(changes?.assets?.previousValue) !== JSON.stringify(changes?.assets?.currentValue)\n    ) {\n      const p0 = this.assetToUrl(this.pickAsset(changes?.assets?.previousValue));\n      const p1 = this.assetToUrl(this.pickAsset(changes?.assets?.currentValue));\n      if (p0 !== p1) {\n        console.log('reload asset', { from: p0, to: p1 });\n        this.reload();\n      }\n    }\n  }\n\n  ngAfterViewInit(): void {\n    this.lazyLoad();\n  }\n  private reload() {\n    this.display = Display.none;\n    this.dataSrc = undefined;\n    this.preSrc = this.loaderUrl;\n    this.postSrc = this.loaderUrl;\n    this.mimeType = 'image/*';\n    this.updateDisplay();\n    this.lazyLoad();\n  }\n  updateDisplay(): void {\n    if (this.isImage() && (this.requires.includes('image') || this.requires.includes('all'))) {\n      this.display = Display.image;\n    } else if (this.isAudio() && (this.requires.includes('audio') || this.requires.includes('all'))) {\n      this.display = Display.audio;\n    } else if (this.isVideo() && (this.requires.includes('video') || this.requires.includes('all'))) {\n      this.display = Display.video;\n    } else if (this.is3D() && (this.requires.includes('model') || this.requires.includes('all'))) {\n      this.display = Display.threeD;\n    } else {\n      this.display = Display.none;\n    }\n  }\n\n  isImage(): boolean {\n    return this.mimeType?.startsWith('image/') || this.mimeType?.startsWith('application/');\n  }\n\n  isVideo(): boolean {\n    return this.mimeType?.startsWith('video/');\n  }\n\n  isAudio(): boolean {\n    return this.mimeType?.startsWith('audio/');\n  }\n\n  is3D(): boolean {\n    return this.mimeType?.startsWith('model/');\n  }\n\n  onLoad(e): void {\n    if (e?.target?.id === 'preImage') {\n      this.postSrc = this.preSrc;\n      this.updateDisplay();\n    }\n  }\n\n  onLoadData(e): void {\n    if (this.isAudio()) {\n      if (this.audio.nativeElement.muted) {\n        this.audio.nativeElement.volume = 1.0;\n      }\n    }\n  }\n\n  onError(e): void {\n    if ((e?.target?.id === 'postImage' || e?.target?.id === 'preImage') && this.isImage()) {\n      this.errors++;\n      if (this.errors <= 2) {\n        console.log('retry lazyload', this.preSrc);\n        this.reload();\n      } else {\n        console.log('failed to load asset', this.preSrc);\n        this.evaluateInvalid();\n      }\n    }\n  }\n\n  evaluateInvalid(): void {\n    this.mimeType = 'image/*';\n    this.updateDisplay();\n    this.preSrc = this.unknownUrl;\n  }\n  pickAsset(assets): Asset {\n    for (let type of this.priorityList) {\n      if (assets && assets[type] && !(typeof assets[type] === 'object' && !assets[type]?.uri)) {\n        return assets[type];\n      }\n    }\n    return null;\n  }\n\n  async evaluate(assets): Promise<void> {\n    if (this.poster) {\n      this.preSrc = this.assetToUrl(this.poster);\n    }\n    let asset = this.pickAsset(assets);\n    if (asset) {\n      try {\n        await this.determineMime(asset);\n      } catch (e) {\n        console.error(e);\n        this.evaluateInvalid();\n        return;\n      }\n      this.setSrc(asset);\n    } else {\n      this.evaluateInvalid();\n    }\n  }\n\n  lazyLoad(): void {\n    this.obs = new IntersectionObserver((entries, _) => {\n      entries.forEach((entry) => {\n        if (entry.isIntersecting) {\n          this.evaluate(this.assets);\n          this.obs.unobserve(this.elRef?.nativeElement);\n        }\n        this.inView.emit();\n      });\n    });\n    if (this.elRef?.nativeElement) {\n      this.obs.observe(this.elRef?.nativeElement);\n    }\n  }\n\n  async determineMime(asset: Asset) {\n    const url = this.assetToUrl(asset);\n    if (!url) {\n      throw new Error('InvalidUrl');\n    }\n    if (url?.startsWith('data:image')) {\n      this.mimeType = 'image/*';\n      return (this.preSrc = url);\n    }\n    // Ignore MIME type provided in metadata for now. Way too unreliable. Exception for nfts in 3d wl. (media proxy don't return the correct mime type)\n    if (\n      typeof asset !== 'string' &&\n      !(asset?.mimeType?.startsWith('model/') && (MODEL_3D_WHITELIST as Array<any>).includes(this.tokenService.getContractAddressFromAsset(asset?.uri)))\n    ) {\n      let response;\n      for (let i = 0; i < 3 && !response?.ok; i++) {\n        response = await fetch(url, { method: 'GET' });\n      }\n      if (!response?.ok) {\n        throw new Error();\n      }\n      this.mimeType = response.headers.get('content-type');\n    } else if (typeof asset === 'string') {\n      this.mimeType = 'image/*';\n    } else {\n      this.mimeType = asset.mimeType;\n    }\n  }\n\n  setSrc(asset): void {\n    this.updateDisplay();\n    if (this.isAudio() || this.isVideo() || this.is3D()) {\n      this.isAudio() ? this.load.emit() : undefined;\n      if (this.is3D()) {\n        const contractAddress = this.tokenService.getContractAddressFromAsset(asset?.uri);\n        if (!(MODEL_3D_WHITELIST as Array<any>).includes(contractAddress)) {\n          console.warn('Content blocked');\n          this.evaluateInvalid();\n          return;\n        }\n      }\n      this.dataSrc = this.assetToUrl(asset);\n    } else if (this.isImage()) {\n      this.preSrc = this.assetToUrl(asset);\n    } else {\n      console.warn(`Unrecognized MIME type: ${this.mimeType}`, '\\n', 'Assuming: image/*');\n      this.mimeType = 'image/*';\n      this.updateDisplay();\n      this.preSrc = this.assetToUrl(asset);\n    }\n  }\n  assetToUrl(asset: Asset): string {\n    let url = '';\n    const uri = typeof asset === 'string' ? asset : asset?.uri;\n    if (uri.startsWith('ipfs://')) {\n      url = `https://static.tcinfra.net/media/${this.size}/ipfs/${uri.slice(7)}`;\n    } else if (uri.startsWith('https://')) {\n      url = `https://static.tcinfra.net/media/${this.size}/web/${uri.slice(8)}`;\n    } else if (!CONSTANTS.MAINNET && (uri.startsWith('http://localhost') || uri.startsWith('http://127.0.0.1'))) {\n      url = uri.slice(16);\n    } else if (typeof asset === 'string') {\n      url = uri;\n    } else {\n      console.warn('failed to parse asset', asset);\n      url = uri;\n    }\n    return url ?? '';\n  }\n}\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\n\n@Component({\n  selector: 'app-ui-toggle',\n  templateUrl: './toggle.component.html'\n})\nexport class ToggleComponent implements OnInit {\n  @Input() state: boolean;\n  @Input() text = 'Advanced:';\n  @Input() default: boolean = false;\n  @Output() stateChange = new EventEmitter<boolean>();\n\n  constructor() {}\n\n  ngOnInit(): void {\n    this.state = this.default;\n  }\n\n  toggle(): void {\n    this.state = !this.state;\n    this.stateChange.emit(this.state);\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ToggleComponent } from '../toggle.component';\n\n@Component({\n  selector: 'app-ui-toggle-advanced',\n  templateUrl: './advanced.component.html',\n  styleUrls: ['../../../../../../scss/components/ui/button/toggle.component.scss']\n})\nexport class AdvancedToggleComponent extends ToggleComponent implements OnInit {\n  constructor() {\n    super();\n  }\n\n  ngOnInit(): void {}\n}\n","<div class=\"flex-row advanced\">\n  <div class=\"flex-row switch-container\">\n    <span class=\"value\">{{ text }}&nbsp;&nbsp;&nbsp;&nbsp;</span>\n    <label class=\"flex-row switch\">\n      <span class=\"key\" [class]=\"state ? 'active' : ''\">{{ state ? ' ON' : 'OFF' }}</span>\n      <span class=\"slider\" [class]=\"state ? 'active' : ''\" (click)=\"toggle()\">\n        <span class=\"round\"></span>\n      </span>\n    </label>\n  </div>\n</div>","<div class=\"title-dropdown\" [class.expanded]=\"ddExpanded\">\n  <ng-container *ngFor=\"let value of ddSets\">\n    <p [class.active]=\"set === value?.name\" (click)=\"toggleSet(value?.name);ddExpanded = !ddExpanded\">{{ value?.name ||\n      '' }}</p>\n  </ng-container>\n</div>\n<div *ngIf=\"sets?.length\" class=\"flex-row mode\">\n  <div class=\"flex-column left\">\n    <span class=\"title\" (click)=\"ddExpanded = !ddExpanded\">{{ set }}<img [class.expanded]=\"ddExpanded\"\n        src=\"assets/img/chevron-down.svg\" /></span>\n    <span class=\"tooltip value\">{{ tooltipValue }}\n      <span class=\"unit\">{{ units }}</span>\n    </span>\n  </div>\n  <div class=\"right\">\n    <div class=\"attributes\">\n      <ng-container *ngFor=\"let key of Object.keys(attributes)\">\n        <span>{{ attributes[key] }}</span>\n      </ng-container>\n    </div>\n  </div>\n</div>\n<svg *ngIf=\"!sets?.length\" class=\"spinner\" viewBox=\"0 0 50 50\">\n  <circle class=\"path\" cx=\"25\" cy=\"25\" r=\"20\" fill=\"none\" stroke-width=\"5\"></circle>\n</svg>\n<span *ngIf=\"!sets?.length\" class=\"loading-text\">Loading Chart...</span>\n<div class=\"expand\" (click)=\"toggleChartExpand(); ddExpanded = false; toggleSet(set)\">{{ !chartExpanded ? 'Expand' : 'Collapse' }}\n</div>\n<ng-container *ngIf=\"design === 'default'\">\n  <div class=\"flex-column canvas-wrapper\">\n    <canvas #chart [class.loaded]=\"sets?.length\"></canvas>\n    <div *ngIf=\"sets?.length\" class=\"flex-row time\" [class.expanded]=\"chartExpanded\">\n      <span *ngIf=\"set !== 'Total Value Locked'\" [class.active]=\"series === 'day'\" (click)=\"toggleSeries('day')\">24H</span><span\n      *ngIf=\"set !== 'Total Value Locked'\" [class.active]=\"series === 'week'\" (click)=\"toggleSeries('week')\">1W</span>\n      <span [class.active]=\"series === 'month'\" (click)=\"toggleSeries('month')\">1M</span><span\n      *ngIf=\"set !== 'Total Value Locked'\" [class.active]=\"series === 'year'\" (click)=\"toggleSeries('year')\">1Y</span>\n    </div>\n  </div>\n</ng-container>\n<ng-container *ngIf=\"design === 'mini'\">\n  <div class=\"canvas-wrapper\">\n    <canvas #chart [class.loaded]=\"sets?.length\"></canvas>\n    <div *ngIf=\"sets?.length\" class=\"flex-row time\" [class.expanded]=\"chartExpanded\">\n      <span *ngIf=\"set !== 'Total Value Locked'\" [class.active]=\"series === 'day'\"\n        (click)=\"toggleSeries('day')\">24H</span><span *ngIf=\"set !== 'Total Value Locked'\"\n        [class.active]=\"series === 'week'\" (click)=\"toggleSeries('week')\">1W</span>\n      <span [class.active]=\"series === 'month'\" (click)=\"toggleSeries('month')\">1M</span><span\n        *ngIf=\"set !== 'Total Value Locked'\" [class.active]=\"series === 'year'\" (click)=\"toggleSeries('year')\">1Y</span>\n    </div>\n  </div>\n</ng-container>","import { Component, ElementRef, EventEmitter, Input, Output, SimpleChange, SimpleChanges, ViewChild } from '@angular/core';\nimport { Chart, ChartOptions, ChartTypeRegistry, registerables } from 'chart.js';\nimport { ChartTitle } from '../../../services/chart/chart.service';\n\nChart.register(...registerables);\n\nlet width, height, gradient;\nfunction getGradientBackground(ctx, chartArea) {\n  const style = getComputedStyle(document.body);\n  const theme = style.getPropertyValue('--theme').replace(/[ \\\"]/g, '');\n  const chartWidth = chartArea.right - chartArea.left;\n  const chartHeight = chartArea.bottom - chartArea.top;\n  if (gradient === null || width !== chartWidth || height !== chartHeight) {\n    width = chartWidth;\n    height = chartHeight;\n    gradient = ctx.createLinearGradient(0, chartArea.bottom, 0, chartArea.top);\n    // gradient.addColorStop(1, '#5963ff88');\n    // gradient.addColorStop(0.5, '#5963ff33');\n    // gradient.addColorStop(0, '#5963ff19');\n    if (theme === 'dark') {\n      gradient.addColorStop(1, '#383d7d');\n      gradient.addColorStop(0.5, '#2e304f');\n      gradient.addColorStop(0, '#2a2c3f');\n    } else {\n      gradient.addColorStop(1, '#c2c5fc');\n      gradient.addColorStop(0.5, '#e0e1fb');\n      gradient.addColorStop(0, '#e8eafb');\n    }\n  }\n\n  return gradient;\n}\n\nexport enum ChartSeries {\n  'day' = 'day',\n  'week' = 'week',\n  'month' = 'month',\n  'year' = 'year'\n}\n@Component({\n  selector: 'app-ui-chart',\n  templateUrl: './chart.component.html',\n  styleUrls: ['../../../../scss/components/ui/chart/chart.component.scss']\n})\nexport class ChartComponent {\n  Object = Object;\n  @Input() attributes: any = {};\n  @Input() type: keyof ChartTypeRegistry = 'line';\n  @Input() data = { datasets: [], labels: [] };\n  @Input() datas = {};\n  @Input() options: ChartOptions = {};\n  @Input() design: string;\n  @Input() ddSets = [];\n  @Input() sets = [];\n  @Input() set = '';\n  @Input() units = {};\n  @Input() layout = 'default';\n  tooltipValue: string = '';\n  @ViewChild('chart') chartRef: ElementRef;\n  @Output('drawn') drawn = new EventEmitter();\n\n  chart = null;\n  series: ChartSeries = ChartSeries.day;\n  ddExpanded = false;\n  chartExpanded = false;\n\n  constructor() {\n    Chart.register({\n      id: 'my-plugin',\n      afterTooltipDraw: (chart, args, options) => {\n        if (chart) {\n          let x = chart.tooltip.dataPoints[0].element.x;\n          let yAxis = chart.scales.y;\n          let ctx = chart.ctx;\n          ctx.save();\n          ctx.beginPath();\n          ctx.moveTo(x, yAxis.bottom + 60);\n          ctx.lineTo(x, yAxis.top + 60);\n          ctx.lineWidth = 2;\n          ctx.setLineDash([3, 1]);\n          ctx.strokeStyle = 'rgba(0, 0, 255, 0.3)';\n          ctx.stroke();\n          ctx.setLineDash([0, 0]);\n          ctx.textAlign = 'center';\n          if (x >= chart.chartArea.right + -30) {\n            ctx.textAlign = 'right';\n          } else if (x <= chart.chartArea.left + 30) {\n            ctx.textAlign = 'left';\n          }\n          ctx.font = '14px sans-serif';\n          ctx.fillStyle = getComputedStyle(document.documentElement).getPropertyValue('--base-font-color-secondary');\n          ctx.fillText(chart.tooltip.title[0], x, yAxis.top + 45);\n          ctx.restore();\n        }\n      }\n    });\n  }\n\n  toggleChartExpand() {\n    this.chartExpanded = !this.chartExpanded;\n    (this.chartRef.nativeElement as HTMLCanvasElement).parentElement.parentElement.classList.toggle('expanded');\n  }\n\n  refreshDDSets(): void {\n    this.ddSets = this.sets?.sort(function (a, b) {\n      const nameA = a.name.toLowerCase(),\n        nameB = b.name.toLowerCase();\n      if (nameA > nameB) return -1;\n      if (nameA < nameB) return 1;\n      return 0;\n    });\n  }\n\n  draw(): void {\n    if (this.set === ChartTitle.totalValueLocked) {\n      const data = this.datas[this.series]?.datasets?.find((ds) => ds.label === ChartTitle.totalValueLocked).data;\n      if (!data) {\n        return;\n      }\n      this.tooltipValue = parseFloat(parseFloat(data[data.length - 1].toString()).toFixed(2)).toLocaleString();\n    } else if (this.set === ChartTitle.XTZtzBTC) {\n      const data = this.datas[this.series]?.datasets?.find((ds) => ds.label === ChartTitle.XTZtzBTC).data;\n      if (!data) {\n        return;\n      }\n      this.tooltipValue = parseFloat(data[data.length - 1].toString()).toFixed(8);\n    } else if (this.set === ChartTitle.tzBTCXTZ) {\n      const data = this.datas[this.series]?.datasets?.find((ds) => ds.label === ChartTitle.tzBTCXTZ).data;\n      if (!data) {\n        return;\n      }\n      this.tooltipValue = parseFloat(parseFloat(data[data.length - 1].toString()).toFixed(6)).toLocaleString();\n    }\n\n    if (this.chartRef?.nativeElement && this.datas[this.series]?.datasets) {\n      const ctx = this.chartRef.nativeElement.getContext('2d');\n      this.chart?.destroy();\n      this.sets = this.data?.datasets.map((set) => ({ name: set.label }));\n      this.chart = new Chart(ctx, {\n        type: this.type,\n        data: this.data,\n        options: this.options,\n        plugins: []\n      });\n      this.drawn.emit(null);\n    }\n  }\n  toggleSeries(series): void {\n    this.series = series;\n    this.data = this.datas[series];\n    this.overrideDatasetConfig();\n    this.options = this.getChartOptions();\n    this.draw();\n  }\n  toggleSet(set): void {\n    this.reset();\n    this.overrideDatasetConfig();\n    for (let key of Object.keys(this.datas)) {\n      for (let i = 0; i < this.datas[key].datasets.length; ++i) {\n        if (this.datas[key].datasets[i].label === set) {\n          this.datas[key].datasets[i].hidden = false;\n          if (set === ChartTitle.XTZtzBTC) {\n            this.units = 'tzBTC';\n          } else if (set === ChartTitle.tzBTCXTZ) {\n            this.units = 'XTZ';\n          } else {\n            this.toggleSeries(ChartSeries['month']);\n            this.units = 'usd';\n          }\n        } else {\n          this.datas[key].datasets[i].hidden = true;\n        }\n      }\n    }\n    this.data = this.datas[this.series];\n    this.sets = this.data?.datasets.map((set) => ({ name: set.label }));\n    this.set = set ?? this.sets[0].name;\n    this.refreshDDSets();\n    this.options = this.getChartOptions();\n    this.draw();\n  }\n  reset(): void {\n    this.ddSets = [];\n    this.sets = [];\n    this.set = '';\n    this.data = null;\n  }\n  overrideDatasetConfig(): void {\n    for (let i = 0; i < this.datas[this.series]?.datasets.length; ++i) {\n      this.datas[this.series].datasets[i].pointHoverBorderWidth = this.design === 'mini' && !this.chartExpanded ? 0 : 6;\n      this.datas[this.series].datasets[i].pointHitRadius = this.design === 'mini' && !this.chartExpanded ? 0 : 6;\n      this.datas[this.series].datasets[i].pointHoverBackgroundColor = this.design === 'mini' && !this.chartExpanded ? '#00000000' : '#5963ff88';\n      this.datas[this.series].datasets[i].pointHoverBorderColor = this.design === 'mini' && !this.chartExpanded ? '#00000000' : '#5963ff88';\n      this.datas[this.series].datasets[i].pointBackgroundColor = this.design === 'mini' && !this.chartExpanded ? '#00000000' : '#5963ff88';\n      this.datas[this.series].datasets[i].backgroundColor = function (context) {\n        const chart = context.chart;\n        const { ctx, chartArea } = chart;\n\n        if (!chartArea) {\n          return null;\n        }\n        return getGradientBackground(ctx, chartArea);\n      };\n    }\n  }\n  getChartOptions(): any {\n    let yTickPadding = -102;\n    if (this.set === ChartTitle.tzBTCXTZ) {\n      yTickPadding = -71;\n    } else if (this.set === ChartTitle.totalValueLocked) {\n      yTickPadding = -95;\n    }\n    return {\n      layout: {\n        padding: 0\n      },\n      scales: {\n        y: {\n          beginAtZero: false,\n          position: 'right',\n          ticks: {\n            maxTicksLimit: 5,\n            display: this.design === 'mini' && this.chartExpanded === false ? false : true,\n            padding: yTickPadding,\n            align: 'start',\n            font: {\n              size: 14,\n              weight: 500,\n              family: 'Roboto'\n            },\n            textStrokeColor: '#333',\n            z: 1,\n            callback: (label, index, ticks) => {\n              if (index >= 1 && index < 4) {\n                return label < 1 ? label.toFixed(8) : Number(label.toFixed(8).replace(/(\\.0+|0+)$/, '')).toLocaleString();\n              } else {\n                return '';\n              }\n            }\n          },\n          grid: {\n            drawBorder: false,\n            lineWidth: 0\n          }\n        },\n        x: {\n          ticks: {\n            maxTicksLimit: 0,\n            display: false\n          },\n          grid: {\n            drawBorder: false,\n            lineWidth: 0\n          }\n        }\n      },\n      responsive: true,\n      maintainAspectRatio: false,\n      legend: {\n        display: false\n      },\n      hover: {\n        mode: 'nearest',\n        axis: 'x',\n        intersect: false\n      },\n      tooltips: {\n        mode: 'index',\n        axis: 'x',\n        intersect: false\n      },\n      interaction: {\n        intersect: false,\n        mode: 'index',\n        axis: 'x'\n      },\n      elements: {\n        line: {\n          tension: 0.0\n        },\n        point: {\n          radius: 0\n        }\n      },\n      plugins: {\n        tooltip: {\n          enabled: this.design === 'mini' && !this.chartExpanded ? false : true,\n          mode: 'nearest',\n          intersect: false,\n          backgroundColor: 'rgba(0, 0, 0, 0.0)',\n          titleColor: 'rgba(0, 0, 0, 0.0)',\n          bodyColor: 'rgba(0, 0, 0, 0.0)',\n          footerColor: 'rgba(0, 0, 0, 0.0)',\n          displayColors: false,\n          callbacks: {\n            label: (item, a, b) => {\n              this.tooltipValue =\n                item.dataset.data[item.dataIndex] < 1\n                  ? item.dataset.data[item.dataIndex].toFixed(8).toLocaleString()\n                  : parseFloat(item.dataset.data[item.dataIndex].toFixed(2).replace(/(\\.0+|0+)$/, '')).toLocaleString() ?? '';\n              return parseFloat(item.dataset.data[item.dataIndex].toFixed(8)).toLocaleString();\n            }\n          }\n        },\n        legend: { display: false }\n      }\n    };\n  }\n}\n","import { Component, EventEmitter, HostListener, Input, OnInit, Output } from '@angular/core';\nimport { ListComponent } from '../generic/list.component';\n\n@Component({\n  selector: 'app-ui-dropdown',\n  templateUrl: './dropdown.component.html'\n})\nexport class DropdownComponent extends ListComponent implements OnInit {\n  @Output() dropdownResponse = new EventEmitter();\n  @Input() options: any[];\n  selection: any;\n  ecmpId = this.constructor['cmp'].id;\n  isOpen = false;\n  constructor() {\n    super();\n  }\n\n  ngOnInit(): void {}\n\n  @HostListener('document:click', ['$event'])\n  @HostListener('document:touchend', ['$event'])\n  closeDropdown(e): void {\n    if (!e.target.closest('#' + this.ecmpId) && this.isOpen) {\n      this.isOpen = false;\n    }\n  }\n\n  toggleDropdown(): void {\n    this.isOpen = !this.isOpen;\n  }\n}\n","import { Component, Input, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-list',\n  templateUrl: './list.component.html'\n})\nexport class ListComponent implements OnInit {\n  @Input() current;\n  @Input() list: any[];\n\n  constructor() {}\n\n  ngOnInit(): void {}\n}\n","<div class=\"flex-column\" [class]=\"getType().replace('undelegated', 'delegated')\"\n  [class.unconfirmed]=\"activity.status === OpStatus.UNCONFIRMED\" [class.half_confirmed]=\"activity.status === OpStatus.HALF_CONFIRMED\"\n  [class.confirmed]=\"activity.status === OpStatus.CONFIRMED\" [class.new]=\"fresh && activity.status === OpStatus.CONFIRMED\"\n  [class.failed]=\"activity.status === OpStatus.FAILED\">\n  <div class=\"flex-row top\">\n    <div class=\"flex-row title\">\n      <ng-container *ngIf=\"!activity.entrypoint; else callEntrypoint\">\n        <ng-container [ngSwitch]=\"getType()?.replace('undelegated', 'delegated')\">\n          <img *ngSwitchCase=\"'sent'\" [src]=\"activity.status === OpStatus.FAILED ? '../../../../assets/img/up-arrow-red.svg' : '../../../../assets/img/up-arrow-black.svg'\"\n            style=\"transform: rotate(45deg)\" />\n          <img *ngSwitchCase=\"'received'\" [src]=\"activity.status === OpStatus.FAILED ? '../../../../assets/img/up-arrow-red.svg' : '../../../../assets/img/up-arrow.svg'\" style=\"transform: rotate(135deg)\" />\n          <div *ngSwitchDefault class=\"blank\"></div>\n        </ng-container>{{ printAmount() }}\n      </ng-container>\n      <ng-template #callEntrypoint>\n        <ng-container *ngIf=\"zeroSent(activity); else notZero\">\n          <div class=\"blank\"></div>\n        </ng-container>\n        <ng-template #notZero>\n          <img src=\"../../../../assets/img/up-arrow-black.svg\" style=\"transform: rotate(45deg)\" />\n        </ng-template>\n        {{ sentKind(activity) }}\n      </ng-template>\n    </div>\n    <span class=\"failed\" *ngIf=\"activity.status === OpStatus.FAILED\">Error</span>\n    <div class=\"updating-balances\" *ngIf=\"activity.status === OpStatus.HALF_CONFIRMED\">\n      <img class=\"spinner\" src=\"../../../../../assets/img/feeLoader.gif\">\n      <span>Updating balances</span>\n    </div>\n  </div>\n  <div class=\"flex-row bottom\">\n    <div class=\"flex-row address\"><img\n        *ngIf=\"!!getCounterparty(activity)?.lookupType && getCounterparty(activity)?.lookupType !== 5\"\n        [src]=\"getEventIcon()\" class=\"event-icon\" />\n      <div class=\"flex-row value\">{{ getAddressPrefix(getType()) }}&nbsp;{{getCounterparty(activity)?.name ||\n        getCounterparty(activity)?.address || ''}}</div>\n      <img class=\"copy\" src=\"../../../../assets/img/copy-icon.svg\"\n          (click)=\"copy(getCounterparty(activity)?.address)\" />\n    </div>\n    <span class=\"flex-row time\">\n      <img [src]=\"getEventStatusIcon()\" />\n      <a class=\"status\" *ngIf=\"activity.status !== OpStatus.UNCONFIRMED\" href=\"{{ explorerURL(activity.hash) }}\" target=\"_blank\">\n        <ng-container *ngIf=\"activity.status !== OpStatus.HALF_CONFIRMED; else halfConfirmed\">\n          {{ activity.timestamp | timeAgo:trigger }}\n        </ng-container>\n        <ng-template #halfConfirmed>\n          Confirmed\n        </ng-template>\n      </a>\n      <div class=\"status\" *ngIf=\"activity.status === OpStatus.UNCONFIRMED\">Unconfirmed</div>\n    </span>\n  </div>\n</div>","import { Component, Input, OnChanges, OnDestroy, OnInit, SimpleChanges } from '@angular/core';\nimport { Account, Activity, OpStatus } from '../../../../../../services/wallet/wallet';\nimport { TimeAgoPipe } from '../../../../../../pipes/time-ago.pipe';\nimport { TranslateService } from '@ngx-translate/core';\nimport { MessageService } from '../../../../../../services/message/message.service';\nimport { ActivityService } from '../../../../../../services/activity/activity.service';\nimport { TokenService } from '../../../../../../services/token/token.service';\nimport { CONSTANTS } from '../../../../../../../environments/environment';\nimport { LookupType } from '../../../../../../services/lookup/lookup.service';\nimport copy from 'copy-to-clipboard';\nimport { SubjectService } from '../../../../../../services/subject/subject.service';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-event',\n  templateUrl: './event.component.html',\n  styleUrls: ['../../../../../../../scss/components/views/logged-in/account-view/cards/activity/event.component.scss']\n})\nexport class EventComponent implements OnInit, OnChanges, OnDestroy {\n  public OpStatus = OpStatus;\n  public LookupType = LookupType;\n  public fresh = undefined;\n  private subscriptions: Subscription = new Subscription();\n  constructor(\n    public translate: TranslateService,\n    public messageService: MessageService,\n    public timeAgoPipe: TimeAgoPipe,\n    private activityService: ActivityService,\n    public tokenService: TokenService,\n    private subjectService: SubjectService\n  ) {}\n  trigger = true;\n  @Input() activity: Activity;\n  @Input() account: Account;\n  ngOnInit(): void {\n    setInterval(() => {\n      this.trigger = !this.trigger;\n    }, 1000);\n    this.subscriptions.add(\n      this.subjectService.confirmedOp.subscribe((opHash) => {\n        if (opHash === this.activity.hash && this.fresh === undefined) {\n          this.fresh = true;\n          setTimeout(() => {\n            this.fresh = false;\n          }, 20000);\n        }\n      })\n    );\n  }\n  ngOnChanges(changes: SimpleChanges): void {}\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n  getType(): string {\n    if (this.activity.type !== 'transaction') {\n      if (this.activity.type === 'delegation') {\n        if (this.activity.destination.address) {\n          return 'delegated';\n        } else {\n          return 'undelegated';\n        }\n      } else {\n        return this.activity.type;\n      }\n    } else {\n      let operationType = '';\n      if (this.activity.source.address === this.account.address) {\n        operationType = 'sent';\n      } else {\n        operationType = 'received';\n      }\n      return operationType;\n    }\n  }\n\n  explorerURL(hash: string): string {\n    const baseURL = CONSTANTS.BLOCK_EXPLORER_URL;\n    return `${baseURL}/${hash}`;\n  }\n  getCounterparty(transaction): any {\n    const c = this.activityService.getCounterparty(transaction, this.account);\n    if (!c.name) {\n      c.name = c.address ? `${c.address.slice(0, 7)}...${c.address.slice(-4)}` : '';\n    }\n    c.name.trim();\n    return c;\n  }\n  getEventIcon(): string {\n    return `../../../../assets/img/${LookupType[this.getCounterparty(this.activity)?.lookupType].toLowerCase().replace('tezosdomains', 'domain')}-logo.svg`;\n  }\n  getEventStatusIcon(): string {\n    return this.fresh && this.activity.status === OpStatus.CONFIRMED\n      ? '../../../../assets/img/event-new.png'\n      : this.activity.status === OpStatus.CONFIRMED\n      ? '../../../../assets/img/event-confirmed.png'\n      : this.activity.status === OpStatus.UNCONFIRMED\n      ? '../../../../assets/img/event-unconfirmed.png'\n      : this.activity.status === OpStatus.FAILED\n      ? '../../../../assets/img/event-error.png'\n      : this.activity.status === OpStatus.HALF_CONFIRMED\n      ? '../../../../../assets/img/event-half-confirmed.png'\n      : '../../../../assets/img/event-unconfirmed.png';\n  }\n  printAmount(): string {\n    switch (this.getType()) {\n      case 'sent':\n        return this.tokenService.formatAmount(this.activity.tokenId, this.activity.amount.toString());\n      case 'received':\n        return this.tokenService.formatAmount(this.activity.tokenId, this.activity.amount.toString());\n      case 'delegated':\n        return 'Staked';\n      case 'undelegated':\n        return 'Unstaked';\n      case 'origination':\n        return this.tokenService.formatAmount(this.activity.tokenId, this.activity.amount.toString());\n      default:\n        return '';\n    }\n  }\n  sentKind(activity): string {\n    if (activity.entrypoint) {\n      if (activity.amount !== '0') {\n        return `${this.printAmount()}, Call ${activity.entrypoint}`;\n      }\n      return `Call ${activity.entrypoint}`;\n    }\n    return '0';\n  }\n  zeroSent(activity): boolean {\n    return this.sentKind(activity).length > 4 && activity.amount === '0';\n  }\n  receivedKind(activity): string {\n    return activity.tokenId && activity.source.address && activity.tokenId.split(':')[0] === activity.source.address ? 'Minted' : 'Received';\n  }\n  getAddressPrefix(type: string) {\n    switch (type.toLowerCase()) {\n      case 'sent':\n        return 'Sent to:';\n      case 'received':\n        return this.receivedKind(this.activity) + ' from:';\n      case 'delegated':\n        return 'To:';\n      case 'undelegated':\n        return 'To:';\n      case 'origination':\n        return 'Originated contract:';\n    }\n  }\n  copy(address: string): void {\n    copy(address);\n    const copyToClipboard = this.translate.instant('OVERVIEWCOMPONENT.COPIEDTOCLIPBOARD');\n    this.messageService.add(address + ' ' + copyToClipboard, 5);\n  }\n}\n","<div class=\"selectable main-container\">\n  <div class=\"top-container-activity\">\n    <h1>Recent Activity</h1>\n    <div class=\"right\">\n      <a class=\"view-all\" href=\"{{ explorerURL(account.address) }}\" target=\"_blank\">View in Explorer</a>\n      <!-- <img class=\"button icon\" src=\"../../../../assets/img/info.svg\" /> -->\n    </div>\n  </div>\n  <div class=\"selectable\" id=\"operations-container\" *ngIf=\"this.translate.store.translations.en\">\n    <ng-container *ngIf=\"account.activities; else loading\">\n      <ng-container *ngIf=\"!account.activities.length\">\n        <div class=\"line\"><span>No activity yet</span></div>\n      </ng-container>\n      <ng-container *ngFor=\"let activity of account.activities | slice:0:10; trackBy: trackEvent\">\n        <app-event [activity]=\"activity\" [account]=\"account\"></app-event>\n      </ng-container>\n    </ng-container>\n    <ng-template #loading>Loading activity...</ng-template>\n  </div>\n</div>","import { Component, Input, OnInit } from '@angular/core';\nimport { Account } from '../../../../../services/wallet/wallet';\nimport { TimeAgoPipe } from '../../../../../pipes/time-ago.pipe';\nimport { TranslateService } from '@ngx-translate/core';\nimport { MessageService } from '../../../../../services/message/message.service';\nimport { CONSTANTS } from '../../../../../../environments/environment';\nimport { TokenService } from '../../../../../services/token/token.service';\n\n@Component({\n  selector: 'app-activity',\n  templateUrl: './activity.component.html',\n  styleUrls: ['../../../../../../scss/components/views/logged-in/account-view/cards/activity/activity.component.scss']\n})\nexport class ActivityComponent implements OnInit {\n  public currTimeStamp: number;\n  constructor(public translate: TranslateService, public messageService: MessageService, public timeAgoPipe: TimeAgoPipe, public tokenService: TokenService) {}\n  trigger = true;\n  @Input() activity: any;\n  @Input() account: Account;\n  ngOnInit(): void {}\n  explorerURL(hash: string): string {\n    const baseURL = CONSTANTS.BLOCK_EXPLORER_URL;\n    return `${baseURL}/${hash}`;\n  }\n\n  trackEvent(index: number, activity: any): string {\n    return activity.block + activity.hash;\n  }\n}\n","<div class=\"flex-row token\" (click)=\"viewToken(token)\">\n  <div class=\"dot\"></div>\n  <div class=\"wrapper\">\n    <app-asset class=\"asset\" (inView)=\"balanceChangeTimer()\" [assets]=\"token\" [size]=\"'small'\" [muted]=\"true\" [autoplay]=\"true\" [playsinline]=\"true\" [loop]=\"true\" [priorityList]=\"['thumbnailAsset', 'displayAsset']\"></app-asset>\n    <div *ngIf=\"Number.parseInt(token?.balance) > 1\" class=\"balance\">x{{\n      formatBalance(token) }}</div>\n  </div>\n  <div class=\"flex-column right\">\n    <div class=\"title\">\n      {{token?.name}}\n    </div>\n    <div *ngIf=\"token?.series\" class=\"series\">\n      {{ token?.series }}\n    </div>\n  </div>\n</div>","import { Component, Input, OnChanges, OnInit, SimpleChanges } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { MessageService } from '../../../../../../services/message/message.service';\nimport { TokenService } from '../../../../../../services/token/token.service';\nimport { CONSTANTS } from '../../../../../../../environments/environment';\nimport { ModalComponent } from '../../../../../modals/modal.component';\nimport { TokenBalancesService } from '../../../../../../services/token-balances/token-balances.service';\nimport { DisplayLinkOption } from '../../../../../../interfaces';\nimport Big from 'big.js';\n\n@Component({\n  selector: 'app-nfts-token',\n  templateUrl: './token.component.html',\n  styleUrls: ['../../../../../../../scss/components/views/logged-in/account-view/cards/nfts/token.component.scss']\n})\nexport class NftsTokenComponent implements OnInit, OnChanges {\n  DisplayLinkOption = DisplayLinkOption;\n  Number = Number;\n  @Input() token;\n  isNew = false;\n  contractAliases = CONSTANTS.CONTRACT_ALIASES;\n  constructor(\n    public translate: TranslateService,\n    public messageService: MessageService,\n    public tokenService: TokenService,\n    public tokenBalancesService: TokenBalancesService\n  ) {}\n  ngOnInit(): void {}\n  ngOnChanges(changes: SimpleChanges): void {\n    if (\n      changes.token.previousValue?.balance > -1 &&\n      changes.token.currentValue?.balance > -1 &&\n      changes.token.currentValue?.balance != changes.token.previousValue?.balance\n    ) {\n      this.isNew = true;\n    }\n  }\n  viewToken(token): void {\n    ModalComponent.currentModel.next({ name: 'token-detail', data: token });\n  }\n  balanceChangeTimer(): void {\n    setTimeout(() => {\n      this.isNew = false;\n    }, 5000);\n  }\n  formatBalance(token): string {\n    return Big(token.balance)\n      .div(10 ** parseInt(token.decimals))\n      .toFixed();\n  }\n}\n","<form autocomplete=\"off\">\n  <div class=\"flex-row\" [id]=\"ecmpId\">\n    <div class=\"flex-row search-bar\" [class.active]=\"isActive\" [class.has-value]=\"hasValue\">\n      <img class=\"search-button\" src=\"assets/img/search.svg\" (click)=\"searchButtonClicked()\" />\n      <input #input name=\"none\" type=\"text\" [(ngModel)]=\"searchText\" [placeholder]=\"placeholderText\" (focus)=\"onFocus()\"\n        (keydown)=\"onKeydown($event)\" />\n      <div *ngIf=\"isActive && hasValue\" class=\"flex-row match-count\"><span>{{ matchCount + ' matches' }}</span></div>\n    </div>\n    <div *ngIf=\"!hasValue\" class=\"flex-row item-count\"><span>{{ '(' + itemCount + ')' }}</span></div>\n  </div>\n</form>","import { Component, ElementRef, EventEmitter, HostListener, Input, OnDestroy, OnInit, Output, ViewChild } from '@angular/core';\nimport { Subject, Subscription } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\nimport { SubjectService } from '../../../services/subject/subject.service';\nimport { DropdownComponent } from '../dropdown/dropdown.component';\n\n@Component({\n  selector: 'app-search-bar',\n  templateUrl: './search.component.html',\n  styleUrls: ['../../../../scss/components/ui/search-bar/search.component.scss']\n})\nexport class SearchBarComponent extends DropdownComponent implements OnInit, OnDestroy {\n  @ViewChild('input') input: ElementRef;\n  @Output() onInput = new EventEmitter();\n  @Input() itemCount = 0;\n  @Input() matchCount = 0;\n  inputUpdated = new Subject<any>();\n  filter = '.*';\n  isActive = false;\n  hasValue = false;\n  @Input() placeholder = '';\n  placeholderText = '';\n  searchText = '';\n  private subscriptions: Subscription = new Subscription();\n\n  constructor(private subjectService: SubjectService) {\n    super();\n    this.subscriptions.add(\n      this.inputUpdated.pipe(debounceTime(150)).subscribe((e) => {\n        this.filter = !!e?.target.value ? `${e.target.value.replace(/(\\W)/g, '\\\\$1')}` : '';\n        if (!!e) {\n          this.onInput.emit(this.filter);\n        }\n        this.hasValue = !!this.filter;\n      })\n    );\n    this.subscriptions.add(\n      this.subjectService.activeAccount.subscribe((_) => {\n        this.reset();\n      })\n    );\n  }\n  ngOnInit(): void {\n    this.placeholderText = this.placeholder;\n  }\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n  onKeydown(e): void {\n    this.inputUpdated.next(e);\n  }\n  onFocus(): void {\n    this.isActive = true;\n    this.onInput.emit(this.filter);\n  }\n  searchButtonClicked(): void {\n    if (!this.isActive) {\n      this.input.nativeElement.focus();\n    }\n  }\n  @HostListener('document:click', ['$event'])\n  @HostListener('document:touchend', ['$event'])\n  onBlur(e): void {\n    if (!e.target.closest('#' + this.ecmpId) && this.isActive && !this.hasValue) {\n      this.isActive = false;\n      this.onInput.emit('');\n    }\n  }\n  reset(): void {\n    this.isActive = false;\n    this.filter = '';\n    this.searchText = '';\n    this.hasValue = false;\n    this.onInput.emit(this.filter);\n  }\n}\n","<app-search-bar *ngIf=\"tokens?.length > 12 && searchable\" [placeholder]=\"'Search'\"\n  [matchCount]=\"tokensToDisplay?.filtered.length || 0\" [itemCount]=\"tokensToDisplay?.raw.length || 0\"\n  (onInput)=\"updateFilter($event)\"></app-search-bar>\n<div class=\"scroll-wrapper\">\n  <div #body [style.display]=\"!isDisplaying ? 'none' : ''\" class=\"body\">\n    <ng-container *ngFor=\"let token of tokensToDisplay.loaded; trackBy:trackToken\">\n      <app-nfts-token class=\"token\" [token]=\"token\"></app-nfts-token>\n    </ng-container>\n    <ng-container *ngIf=\"filter !== '.*' && !tokensToDisplay.filtered.length\">\n      No Matches Found\n    </ng-container>\n  </div>\n</div>","import { AfterViewInit, Component, Input, OnChanges, OnInit, ViewChild } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { MessageService } from '../../../../../../services/message/message.service';\nimport { TokenService } from '../../../../../../services/token/token.service';\nimport { CONSTANTS } from '../../../../../../../environments/environment';\nimport { TokenBalancesService } from '../../../../../../services/token-balances/token-balances.service';\nimport { DisplayLinkOption } from '../../../../../../interfaces';\nimport { Subject } from 'rxjs';\nimport { Token } from '../../../../../../services/wallet/wallet';\n\n@Component({\n  selector: 'app-nfts-body',\n  templateUrl: './body.component.html',\n  styleUrls: ['../../../../../../../scss/components/views/logged-in/account-view/cards/nfts/body.component.scss']\n})\nexport class NftsBodyComponent implements OnInit, OnChanges, AfterViewInit {\n  DisplayLinkOption = DisplayLinkOption;\n  @ViewChild('body') body;\n  @Input() isDisplaying;\n  @Input() tokens;\n  @Input() searchable = false;\n  tokensToDisplay = { loaded: [], filtered: [], raw: [] };\n  contractAliases = CONSTANTS.CONTRACT_ALIASES;\n  readonly chunkSize = 24;\n  sliceEnd = this.chunkSize;\n  inputUpdated = new Subject<any>();\n  filter = '.*';\n\n  constructor(\n    public translate: TranslateService,\n    public messageService: MessageService,\n    public tokenService: TokenService,\n    public tokenBalancesService: TokenBalancesService\n  ) {}\n  ngOnInit(): void {\n    this.refresh();\n  }\n  ngOnChanges(): void {\n    if (this.isDisplaying) {\n      this.refresh();\n    }\n  }\n  refresh(): void {\n    this.tokensToDisplay.raw = this.tokens;\n    this.tokensToDisplay.filtered = this.search(this.tokens);\n    this.tokensToDisplay.loaded = this.tokensToDisplay.filtered.slice(0, this.sliceEnd);\n  }\n  ngAfterViewInit(): void {\n    const cb = (e) => {\n      if (\n        this.body?.nativeElement?.scrollTop >= this.body?.nativeElement?.scrollHeight - this.body?.nativeElement?.clientHeight - 15 &&\n        (this.sliceEnd < this.tokensToDisplay.raw?.length ?? 0)\n      ) {\n        this.sliceEnd += this.chunkSize;\n        this.refresh();\n      }\n    };\n    this.body?.nativeElement.addEventListener('scroll', cb);\n    this.body?.nativeElement.addEventListener('touchmove', cb);\n  }\n  search(tokens): Token[] {\n    if (this.filter.length > 0 && this.filter !== '.*') {\n      return tokens.filter(\n        (t: any) =>\n          t.name.match(new RegExp(`.*${this.filter}.*`, 'i')) ||\n          (!isNaN(Number(this.filter)) && t.id.toString().match(new RegExp(`.*${parseInt(this.filter)}.*`, 'g')))\n      );\n    }\n    return tokens;\n  }\n  updateFilter(filter: string): void {\n    const prevFilter = this.filter;\n    this.filter = filter || '.*';\n    if (prevFilter !== this.filter) {\n      this.sliceEnd = this.chunkSize;\n      this.refresh();\n      this.body.nativeElement.scrollTo(0, 0);\n    }\n  }\n  trackToken(index: number, token: any): string | number {\n    return token?.contractAddress ? token?.contractAddress + ':' + token?.id : index;\n  }\n}\n","<div class=\"main-container\" *ngIf=\"displayTokenCard()\">\n  <div class=\"flex-row top-container-nfts\">\n    <div class=\"flex-row toggle\">\n      <h1 class=\"flex-row\" [class.selected]=\"!isDiscover\" (click)=\"isDiscover = false\">NFT<span> / Collectibles</span>\n      </h1>\n      <h1 class=\"flex-row\" [class.selected]=\"isDiscover\" (click)=\"isDiscover = true\">{{ 'Discover' }}</h1>\n    </div>\n    <div class=\"flex-row right\">\n      <ng-container *ngIf=\"this.nfts && Object.keys(this.nfts).length > 0 && !isDiscover\">\n        <span class=\"flex-row button icon-grey\" [class.selected]=\"filter === 'ALL'\" (click)=\"filter = 'ALL';\">ALL</span>\n        <span class=\"flex-row button icon-grey\" [class.selected]=\"filter !== 'ALL'\" (click)=\"filter = '';\">APP</span>\n      </ng-container>\n      <!-- <img class=\"button icon\" src=\"../../../../assets/img/filter.svg\" />\n      <img class=\"button icon\" src=\"../../../../assets/img/info.svg\" /> -->\n    </div>\n  </div>\n  <div class=\"flex-row-wrap nfts\" [class.d]=\"isDiscover\">\n    <!-- loop through contracts -->\n    <ng-container *ngIf=\"!nftsArray?.length && !isDiscover\"><span>There are no NFTs in this account</span>\n    </ng-container>\n    <ng-container *ngFor=\"let contract of nftsArray; trackBy:trackContract\">\n      <div class=\"flex-column collection\" [class.expanded]=\"filter === sanitizeKey(contract?.key)\"\n        [id]=\"sanitizeKey(contract?.key)\" [style.display]=\"!isDiscover && filter !== 'ALL' ? '' : 'none'\">\n        <div class=\"flex-row head\" (click)=\"toggleDropdown(sanitizeKey(contract?.key))\">\n          <div class=\"flex-row left\">\n            <app-asset class=\"nfts-head-thumbnail\" [assets]=\"{ thumbnailAsset:contract?.thumbnailUrl}\"></app-asset>\n            <div class=\"title\">\n              {{ contract?.name }}\n            </div>\n          </div>\n          <div class=\"flex-row right\">\n            <div class=\"count\">({{ contract?.tokens?.length }})</div>\n            <div class=\"flex-row button toggle\"><img src=\"../../../../assets/img/caret-left.svg\" /></div>\n          </div>\n        </div>\n        <div class=\"flex-column scroll\">\n          <app-nfts-body [isDisplaying]=\"filter === sanitizeKey(contract?.key)\" [tokens]=\"contract?.tokens\">\n          </app-nfts-body>\n        </div>\n      </div>\n    </ng-container>\n    <div class=\"flex-column collection scroll all\" [style.display]=\"!isDiscover && filter === 'ALL' ? '' : 'none'\">\n      <app-nfts-body class=\"all\" [isDisplaying]=\"!isDiscover && filter === 'ALL'\" [tokens]=\"tokens\" [searchable]=\"true\">\n      </app-nfts-body>\n    </div>\n    <ng-container *ngIf=\"isDiscover\">\n      <ng-container *ngFor=\"let contractAlias of contractAliases\">\n        <ng-container *ngIf=\"shouldDisplayLink(contractAlias?.shouldDisplayLink)\">\n          <a class=\"flex-column discover\" rel=\"noreferrer\" [href]=\"contractAlias?.link || '/'\" target=\"_blank\"\n            [style.display]=\"isDiscover ? '' : 'none'\">\n            <div class=\"flex-row top\">{{ getContractAlias(contractAlias?.category) || '' }}</div>\n            <div class=\"flex-column middle\" [class.zoom]=\"contractAlias?.zoomDiscoverImg\"\n              [style.backgroundColor]=\"contractAlias?.backgroundColor\">\n              <app-asset class=\"discover\" [class.zoom]=\"contractAlias?.zoomDiscoverImg\" [size]=\"'raw'\"\n                [assets]=\"{displayAsset: contractAlias.discoverUrl, thumbnailAsset: contractAlias.thumbnailUrl}\">\n              </app-asset>\n            </div>\n            <div class=\"flex-row bottom\">\n              <div class=\"flex-column left\">\n                <div class=\"title\">{{ contractAlias?.name || key }}</div>\n                <div class=\"description\">{{ contractAlias?.description }}</div>\n              </div>\n              <div class=\"flex-column right\">\n                <a class=\"link-to-app\">\n                  <button class=\"flex-row button\">GO <img src=\"assets/img/discover-right-angle.svg\" /></button>\n                </a>\n              </div>\n            </div>\n          </a>\n        </ng-container>\n      </ng-container>\n    </ng-container>\n  </div>\n</div>","import { Component, Input, OnDestroy, OnInit } from '@angular/core';\nimport { TorusWallet } from '../../../../../services/wallet/wallet';\nimport { WalletService } from '../../../../../services/wallet/wallet.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { MessageService } from '../../../../../services/message/message.service';\nimport { TokenService } from '../../../../../services/token/token.service';\nimport { CONSTANTS } from '../../../../../../environments/environment';\nimport { TokenBalancesService } from '../../../../../services/token-balances/token-balances.service';\nimport { SubjectService } from '../../../../../services/subject/subject.service';\nimport { DisplayLinkOption } from '../../../../../interfaces';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-nfts',\n  templateUrl: './nfts.component.html',\n  styleUrls: ['../../../../../../scss/components/views/logged-in/account-view/cards/nfts/nfts.component.scss']\n})\nexport class NftsComponent implements OnInit, OnDestroy {\n  DisplayLinkOption = DisplayLinkOption;\n  Object = Object;\n  nfts = undefined;\n  nftsArray = [];\n  tokens = [];\n  isDiscover: boolean = false;\n  isInitLoad: boolean = true;\n  filter: string = 'APP';\n  contractAliases = Object.keys(CONSTANTS.CONTRACT_ALIASES).map((key: any) => ({ key, ...CONSTANTS.CONTRACT_ALIASES[key] }));\n  activeAddress: string = '';\n  private subscriptions: Subscription = new Subscription();\n  constructor(\n    public translate: TranslateService,\n    public messageService: MessageService,\n    public tokenService: TokenService,\n    public tokenBalancesService: TokenBalancesService,\n    private subjectService: SubjectService,\n    private walletService: WalletService\n  ) {\n    this.subscriptions.add(\n      this.subjectService.nftsUpdated.subscribe((p) => {\n        const activeAddress = this.subjectService.activeAccount.getValue()?.address;\n        if (activeAddress !== this.activeAddress) {\n          this.activeAddress = activeAddress;\n          this.reset();\n        }\n        if (this.isInitLoad) {\n          if (!p?.nfts || !Object.keys(p.nfts)?.length) {\n            this.isDiscover = true;\n          } else {\n            this.isInitLoad = false;\n            this.isDiscover = false;\n          }\n        }\n        this.nfts = p?.nfts;\n        this.nftsArray = p?.nfts ? Object.keys(p.nfts).map((key: any) => ({ key, ...p.nfts[key] })) : [];\n        this.tokens = p?.nfts\n          ? Object.keys(p.nfts)\n              .map((key: any) => p.nfts[key]?.tokens)\n              .flat()\n          : [];\n      })\n    );\n    this.subscriptions.add(\n      this.subjectService.logout.subscribe((o) => {\n        if (o) {\n          this.reset();\n          this.activeAddress = '';\n        }\n      })\n    );\n    this.subscriptions.add(\n      this.subjectService.activeAccount.subscribe((activeAccount) => {\n        const activeAddress = activeAccount?.address;\n        if (activeAddress !== this.activeAddress) {\n          this.activeAddress = activeAddress;\n          this.reset();\n        }\n      })\n    );\n  }\n  @Input() activity: any;\n  @Input() account;\n  ngOnInit(): void {}\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n  displayTokenCard(): boolean {\n    return this.nfts !== undefined;\n  }\n  toggleDropdown(sel): void {\n    if (this.filter === sel) {\n      this.filter = '';\n    } else {\n      this.filter = sel;\n      const c = document.querySelector('#' + sel) as HTMLElement;\n      if (window.innerWidth < 1024) {\n        setTimeout(() => {\n          document.body.scroll(0, c.offsetTop - 25);\n        }, 25);\n      }\n    }\n  }\n  shouldDisplayLink(option: DisplayLinkOption): boolean {\n    if (option === 0 || (option === 1 && this.walletService.wallet instanceof TorusWallet)) {\n      return true;\n    }\n    return false;\n  }\n  sanitizeKey(key: string): string {\n    return 'ku' + key?.replace(/ /g, '');\n  }\n\n  trackContract(index: number, contract: any): string | number {\n    return contract?.key ? contract.key : index;\n  }\n\n  getContractAlias(category): string {\n    return category?.join('  ');\n  }\n  reset(): void {\n    this.nfts = undefined;\n    this.isDiscover = false;\n    this.tokens = [];\n    this.nftsArray = [];\n    this.isInitLoad = true;\n    this.filter = 'APP';\n  }\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-basic-button',\n  templateUrl: './basic.component.html'\n})\nexport class BasicButtonComponent implements OnInit {\n  constructor() {}\n\n  ngOnInit(): void {}\n}\n","<button *ngIf=\"symbol && !override; else detailButton\" class=\"flex-row button button-primary with-image\"\n  [class]=\"symbol === 'tez' ? 'tez' : ''\" (click)=\"prepareTransaction()\">\n  <svg *ngIf=\"symbol === 'tez'\" width=\"18\" height=\"18\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 18 18\">\n    <path id=\"svg_1\"\n      d=\"m16.4439,9.50064c-0.764,0.764 -2.003,0.764 -2.767,0l-2.66,-2.659l0,9.231c0,1.105 -0.895,2 -2,2c-1.104,0 -2,-0.895 -2,-2l0,-9.254l-2.679,2.68c-0.767,0.767 -2.01,0.767 -2.777,0c-0.767,-0.767 -0.767,-2.01 0,-2.776l5.936,-5.936c0.037,-0.044 0.052,-0.099 0.093,-0.14c0.203,-0.203 0.558,-0.344 0.693,-0.439c0.716,-0.307 1.575,-0.176 2.16,0.409c0.101,0.101 0.152,0.227 0.227,0.342l5.774,5.774c0.765,0.764 0.765,2.004 0,2.768z\"\n      fill=\"rgb(255, 255, 255)\" fill-rule=\"evenodd\" />\n  </svg>\n  <img *ngIf=\"symbol !== 'tez'\" [src]=\"'../../../../assets/img/up-arrow.svg'\" />\n  <div class=\"tooltip\">\n    <div class=\"description\">SEND {{ symbol }}</div>\n  </div>\n</button>\n<ng-template #detailButton>\n  <button class=\"button button-primary detail\" (click)=\"prepareTransaction()\">SEND</button>\n</ng-template>","import { Component, OnInit, Input } from '@angular/core';\nimport { Account } from '../../../../../services/wallet/wallet';\nimport { TokenService } from '../../../../../services/token/token.service';\nimport { SubjectService } from '../../../../../services/subject/subject.service';\nimport { BasicButtonComponent } from '../basic.component';\n\n@Component({\n  selector: 'app-send-button',\n  templateUrl: './send-button.component.html',\n  styleUrls: ['../../../../../../scss/components/ui/button/send.component.scss']\n})\nexport class SendButtonComponent extends BasicButtonComponent implements OnInit {\n  @Input() activeAccount: Account;\n  @Input() tokenTransfer: string;\n  @Input() symbol: string;\n  @Input() override = false;\n  asset = null;\n  constructor(public tokenService: TokenService, private subjectService: SubjectService) {\n    super();\n  }\n\n  ngOnInit(): void {\n    this.asset = this.tokenService.getAsset(this.tokenTransfer);\n  }\n  prepareTransaction(): void {\n    this.subjectService.prepareTokenTransfer.next({\n      account: this.activeAccount,\n      tokenTransfer: this.tokenTransfer,\n      symbol: this.symbol\n    });\n  }\n}\n","<div class=\"flex-row balance\">\n  <div class=\"flex-row left\">\n    <app-asset class=\"asset\" [priorityList]=\"['thumbnailAsset', 'displayAsset', 'fallback']\" [assets]=\"token\" [class.sd]=\"token.name === 'tezos'\"\n      (click)=\"viewToken()\">\n    </app-asset>\n    <div class=\"flex-row title\" (click)=\"viewToken()\">{{token.name === 'tezos' ? 'Tezos' : token.symbol}}</div>\n    <div class=\"flex-column prices\">\n      <div class=\"price\">{{ token.name === 'tezos' ? (getBalance() | number: '1.0-' + (token?.decimals || 6) | removeComma) || '' :\n        getBalance() }}</div>\n      <div class=\"price-usd\">{{ getBalanceFiat() ? '$' + (getBalanceFiat() | number:'1.2-2' | removeComma) : '' }}\n      </div>\n    </div>\n  </div>\n  <div class=\"flex-row right\">\n    <ng-container *ngIf=\"token?.name === 'tezos'\">\n      <button *ngIf=\"this.account?.balanceXTZ\" class=\"flex-row button button-primary with-image buy\" (click)=\"this.buyTez()\">\n        <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path d=\"M12 5.00024V19.0002\" stroke=\"#ffffff\" stroke-width=\"3\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n          <path d=\"M5 12H19\" stroke=\"#ffffff\" stroke-width=\"3\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n        </svg>\n        <div class=\"tooltip\">\n          <div class=\"description\">BUY tez</div>\n        </div>\n      </button>\n      <button *ngIf=\"this.account?.balanceXTZ === 0\" class=\"flex-row button button-primary with-image buy tez\" (click)=\"this.buyTez()\">\n        <span>Buy</span>\n        <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path d=\"M12 5.00024V19.0002\" stroke=\"#ffffff\" stroke-width=\"3\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n          <path d=\"M5 12H19\" stroke=\"#ffffff\" stroke-width=\"3\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n        </svg>\n        <div class=\"tooltip alt\">\n          <div class=\"description\">BUY tez</div>\n        </div>\n      </button>\n    </ng-container>\n    <app-send-button *ngIf=\"token && this.account?.balanceXTZ !== 0\" [activeAccount]=\"account\"\n      [tokenTransfer]=\"token?.name === 'tezos' ? null : token?.contractAddress + ':' + token?.id\"\n      [symbol]=\"token?.name === 'tezos' ? 'tez' : token?.symbol\"></app-send-button>\n  </div>\n</div>","import { Component, Input, OnInit } from '@angular/core';\nimport { ModalComponent } from '../../../../../modals/modal.component';\nimport { CONSTANTS } from '../../../../../../../environments/environment';\nimport { Big } from 'big.js';\nimport { RemoveCommaPipe } from '../../../../../../pipes/remove-comma.pipe';\nimport { SubjectService } from '../../../../../../services/subject/subject.service';\n\n@Component({\n  selector: 'app-balance-token',\n  templateUrl: './balance-token.component.html',\n  styleUrls: ['../../../../../../../scss/components/views/logged-in/account-view/cards/balances/balance-token.component.scss']\n})\nexport class BalanceTokenComponent implements OnInit {\n  @Input() token = null;\n  @Input() account;\n  contractAliases = CONSTANTS.CONTRACT_ALIASES;\n\n  constructor(public removeCommaPipe: RemoveCommaPipe, private subjectService: SubjectService) {}\n  ngOnInit(): void {}\n\n  getBalance(): number | string {\n    return this.token?.name === 'tezos'\n      ? this.account?.balanceXTZ !== null\n        ? Big(this.account?.balanceXTZ).div(1000000).toFixed()\n        : undefined\n      : this.token?.balance;\n  }\n\n  getBalanceFiat(): number | undefined {\n    return this.token.name === 'tezos' ? this.account?.balanceUSD || undefined : this.token?.price && this.token.price >= 0.005 ? this.token.price : undefined;\n  }\n  viewToken(): void {\n    if (this.token?.name !== 'tezos') {\n      ModalComponent.currentModel.next({\n        name: 'token-detail',\n        data: this.token\n      });\n    }\n  }\n  buyTez(): void {\n    this.subjectService.moonpay.next(true);\n  }\n}\n","<div class=\"main-container\">\n  <div class=\"flex-row top-container-balances\">\n    <h1>Balances</h1>\n    <div class=\"flex-row button right\">\n      <button class=\"swap-liquidity\" (click)=\"openSwap()\">Liquidity Baking</button>\n    </div>\n  </div>\n  <div class=\"scroll-wrapper\">\n    <app-balance-token [account]=\"account\" [token]=\"{name: 'tezos', fallback: 'assets/img/tezos-xtz-logo.svg'}\" class=\"tez no-box\"></app-balance-token>\n    <div *ngIf=\"!!this.tokenBalancesService?.balances?.length\" class=\"flex-column balances\">\n      <ng-container *ngFor=\"let balance of balances; let i = index; trackBy: trackToken\">\n        <app-balance-token [account]=\"account\" [token]=\"balance\" [class.first]=\"i === 0\"></app-balance-token>\n      </ng-container>\n    </div>\n    <div class=\"flex-row total-balances no-box\">\n      <div class=\"flex-row left\">\n        <h3>TOTAL VALUE:</h3>\n        <h1>{{ !!totalBalances && isFiat ? '$' + (totalBalances | number: '1.2-2' | removeComma) : '' }}{{ !!totalBalances && !isFiat ? (totalBalances | number: '1.0-6' | removeComma) + ' tez' : '' }}{{ !totalBalances ? '' : '' }}</h1>\n      </div>\n      <div class=\"flex-row\" (click)=\"toggleTotalBalances()\">\n        <span class=\"fiat\" [class.selected]=\"isFiat\">\n          {{ 'usd' }}\n        </span>\n        <span class=\"sep\">&nbsp;{{ '|' }}&nbsp;</span>\n        <span class=\"tez\" [class.selected]=\"!isFiat\">\n          {{ 'tez' }}\n        </span>\n      </div>\n    </div>\n  </div>\n</div>","import { AfterViewChecked, Component, Input, OnDestroy, OnInit } from '@angular/core';\nimport { Account } from '../../../../../services/wallet/wallet';\nimport { CONSTANTS } from '../../../../../../environments/environment';\nimport { TokenBalancesService } from '../../../../../services/token-balances/token-balances.service';\nimport { SubjectService } from '../../../../../services/subject/subject.service';\nimport { WalletService } from '../../../../../services/wallet/wallet.service';\nimport { Subscription } from 'rxjs';\nimport { filter } from 'rxjs/operators';\nimport { Big } from 'big.js';\nimport { RemoveCommaPipe } from '../../../../../pipes/remove-comma.pipe';\nimport { ModalComponent } from '../../../../../components/modals/modal.component';\nimport { MessageService } from '../../../../../services/message/message.service';\n\n@Component({\n  selector: 'app-balances',\n  templateUrl: './balances.component.html',\n  styleUrls: ['../../../../../../scss/components/views/logged-in/account-view/cards/balances/balances.component.scss']\n})\nexport class BalancesComponent implements OnInit, AfterViewChecked, OnDestroy {\n  Object = Object;\n  @Input() account: Account;\n  contractAliases = CONSTANTS.CONTRACT_ALIASES;\n  totalBalances: string | number = 0;\n  balances: any[];\n  isFiat = false;\n\n  private subscriptions: Subscription = new Subscription();\n\n  constructor(\n    public tokenBalancesService: TokenBalancesService,\n    private subjectService: SubjectService,\n    private walletService: WalletService,\n    public removeCommaPipe: RemoveCommaPipe,\n    private messageService: MessageService\n  ) {\n    this.subscriptions.add(\n      this.subjectService.activeAccount.pipe(filter((account: Account) => account?.address !== this.account?.address)).subscribe((account) => {\n        this.account = account;\n        this.balances = this.tokenBalancesService?.balances;\n        this.calcTotalBalances();\n      })\n    );\n    this.subscriptions.add(\n      this.subjectService.nftsUpdated.subscribe((p) => {\n        this.balances = p?.balances ?? this.tokenBalancesService?.balances;\n        this.calcTotalBalances();\n      })\n    );\n    this.subscriptions.add(\n      this.subjectService.walletUpdated.subscribe(() => {\n        this.balances = this.tokenBalancesService?.balances;\n        this.calcTotalBalances();\n      })\n    );\n  }\n  e(wrap) {\n    if (!!wrap) {\n      if (wrap.scrollTop < 1 || this.tokenBalancesService?.balances?.length <= 5) {\n        document.querySelector('.scroll-wrapper .tez').classList.add('no-box');\n        document.querySelector('.total-balances').classList.add('no-box');\n      } else {\n        document.querySelector('.scroll-wrapper .tez').classList.remove('no-box');\n        document.querySelector('.total-balances').classList.remove('no-box');\n      }\n\n      if (this.tokenBalancesService?.balances?.length > 4) {\n        wrap.style.overflowY = 'auto';\n        wrap.style.width = 'calc(100% - 2.675rem)';\n        wrap.style.padding = '0 0 0 2rem';\n      } else {\n        wrap.style.overflowY = '';\n        wrap.style.width = '';\n        wrap.style.padding = '';\n      }\n    }\n  }\n  ngOnInit(): void {\n    this.balances = this.tokenBalancesService?.balances;\n    this.calcTotalBalances();\n  }\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n  ngAfterViewChecked(): void {\n    const wrap = document.querySelector('.scroll-wrapper .balances') as HTMLElement;\n    this.e(wrap);\n  }\n  trackToken(index: number, token: any): string | number {\n    return token?.contractAddress ? token.contractAddress + ':' + token?.id + ':' + token?.balance + ':' + token?.thumbnailAsset : index;\n  }\n\n  toggleTotalBalances(): void {\n    this.isFiat = !this.isFiat;\n    this.calcTotalBalances();\n  }\n  calcTotalBalances(): void {\n    this.totalBalances = this.isFiat\n      ? this.balances.reduce((prev, balance) => prev + parseFloat(balance?.price ?? 0), 0) + this.account?.balanceUSD\n      : this.balances.reduce((prev, balance) => prev + parseFloat(balance?.price ?? 0), 0) / this.walletService.wallet.XTZrate +\n        parseFloat(\n          Big(this.account?.balanceXTZ ?? 0)\n            .div(1000000)\n            .toFixed()\n        );\n  }\n  openSwap() {\n    this.messageService.startSpinner();\n    ModalComponent.currentModel.next({ name: 'swap-liquidity', data: null });\n  }\n}\n","<div *ngIf=\"isOpen\" class=\"flex-column kukai-modal\">\n  <div class=\"content\">\n    <div class=\"flex-row top\">\n      <div class=\"flex-row button close\" (click)=\"close()\"><img class=\"x\"\n          src=\"../../../../../assets/img/close-btn-x.png\" />\n      </div>\n      <h1 class=\"title\">Token Info</h1>\n    </div>\n    <div class=\"flex-column token-info\">\n      <div class=\"flex-row-wrap data\">\n        <div class=\"flex-column wrapper\" [class]=\"imageExpanded ? 'expanded' : ''\">\n          <app-asset [style.display]=\"imageExpanded ? 'none' : ''\" class=\"flex-row button sd-only\"\n            [priorityList]=\"['displayAsset', 'thumbnailAsset']\"\n            [assets]=\"{thumbnailAsset: token?.thumbnailAsset, displayAsset: token?.displayAsset}\" [size]=\"'small'\"\n            (click)=\"expandImage()\" (loaded)=\"assetLoaded = true\" [autoplay]=\"true\" [muted]=\"true\" [loop]=\"true\" [playsinline]=\"true\"></app-asset>\n          <app-asset [style.display]=\"!imageExpanded ? 'none' : ''\" class=\"flex-row button sd-only\"\n            [priorityList]=\"['artifactAsset', 'displayAsset', 'thumbnailAsset']\"\n            [assets]=\"{thumbnailAsset: token?.thumbnailAsset, displayAsset: token?.displayAsset, artifactAsset: token?.artifactAsset}\"\n            [size]=\"'raw'\" [poster]=\"token?.displayAsset\" [controls]=\"true\"></app-asset>\n          <img *ngIf=\"imageExpanded\" class=\"flex-row button close\" (click)=\"expandImage()\"\n            src=\"../../../../../assets/img/close-btn-x.png\" />\n          <img *ngIf=\"!imageExpanded && assetLoaded && !token.displayAsset?.mimeType?.startsWith('model/')\"\n            class=\"expand\" src=\"../../../../../assets/img/expand.png\" (click)=\"expandImage()\" />\n          <b *ngIf=\"!imageExpanded && token.artifactAsset?.mimeType?.startsWith('model/')\" class=\"expand icon-threed\"\n            (click)=\"expandImage()\">3D</b>\n        </div>\n        <div class=\"flex-column meta\">\n          <div class=\"flex-column top\">\n            <div *ngIf=\"token?.name\" class=\"flex-column key-value\">\n              <div class=\"key\">\n                name\n              </div>\n              <div class=\"value\">\n                {{ token?.name }}\n              </div>\n            </div>\n            <div *ngIf=\"!isNFT && token?.symbol\" class=\"flex-column key-value\">\n              <div class=\"key\">\n                symbol\n              </div>\n              <div class=\"value\">\n                {{ token?.symbol }}\n              </div>\n            </div>\n            <div *ngIf=\"!isNFT && !!token?.decimals\" class=\"flex-column key-value\">\n              <div class=\"key\">\n                decimals\n              </div>\n              <div class=\"value\">\n                {{ token?.decimals }}\n              </div>\n            </div>\n            <div *ngIf=\"token?.description\" class=\"flex-column key-value desc\">\n              <div class=\"key\">\n                description\n              </div>\n              <div class=\"value\" style=\"white-space: pre-line\">\n                {{token?.description}}\n              </div>\n            </div>\n            <div *ngIf=\"token?.creator\" class=\"flex-column key-value\">\n              <div class=\"key\">\n                creator\n              </div>\n              <div class=\"value\">\n                {{ token?.creator }}\n              </div>\n            </div>\n          </div>\n        </div>\n        <app-asset [style.height]=\"isAudio ? '' : '0px'\" class=\"flex-row audio minimal-controls\" [requires]=\"['audio']\"\n          [assets]=\"token\" [priorityList]=\"['artifactAsset']\" [size]=\"'raw'\" [autoplay]=\"true\" [muted]=\"true\"\n          [hideSpinner]=\"true\" [controls]=\"true\" (load)=\"isAudio = true\"></app-asset>\n      </div>\n      <ng-container *ngFor=\"let type of Object.keys(CONSTANTS.FEATURE_CONTRACTS)\">\n        <ng-container *ngFor=\"let feat of Object.keys(CONSTANTS.FEATURE_CONTRACTS[type])\">\n          <app-ui-toggle-advanced\n            *ngIf=\"CONSTANTS.FEATURE_CONTRACTS[type][feat]?.includes(token?.contractAddress + ':' + token?.id)\"\n            [class]=\"'feat ' + feat\" style=\"width: 100%\" (stateChange)=\"toggleFeature(type, feat)\"\n            [text]=\"(feat + ' Mode').toUpperCase()\" [state]=\"theme === feat\" [default]=\"theme === feat\">\n          </app-ui-toggle-advanced>\n        </ng-container>\n      </ng-container>\n      <div *ngIf=\"!!token\" class=\"flex-row button more-info\" [class]=\"moreInfo ? 'open' : ''\" (click)=\"expand()\">\n        <span>{{ moreInfo ? 'LESS' : 'MORE' }} INFO</span><img src=\"../../../assets/img/chevron-down.svg\" />\n      </div>\n      <div *ngIf=\"!!token\" [style.maxHeight]=\"moreInfo ? (3.25 * Object.keys(tokenFiltered).length) + 'rem' : ''\"\n        [style.overflowY]=\"autoOverflow ? 'auto' : ''\" class=\"flex-column meta-more\">\n        <ng-container *ngFor=\"let key of Object.keys(tokenFiltered)\">\n          <div *ngIf=\"key === 'contractAddress'\" class=\"flex-column key-value\">\n            <div class=\"key\">\n              {{ 'CONTRACT (ID)' }}\n            </div>\n            <div class=\"value\">\n              {{ token[key] + ' ' + '(' + token['id'] + ')' }}\n            </div>\n          </div>\n          <div *ngIf=\"key !== 'contractAddress' && key !== 'description' && key !== 'id' && !!token[key]\"\n            class=\"flex-column key-value\">\n            <div class=\"key\">\n              {{key}}\n            </div>\n            <div class=\"value\">\n              {{ token[key] }}\n            </div>\n          </div>\n        </ng-container>\n      </div>\n      <div *ngIf=\"!token?.isUnknownToken\" class=\"flex-column bottom\">\n        <div class=\"seperator\"></div>\n        <app-send-button class=\"send\" [override]=\"true\" [activeAccount]=\"activeAccount\"\n          [tokenTransfer]=\"!token ? null : token['contractAddress']+':'+token['id']\"\n          [symbol]=\"!token ? 'tez' : token?.symbol\">\n        </app-send-button>\n      </div>\n    </div>\n  </div>\n</div>","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { ModalComponent } from '../../modal.component';\nimport { TokenBalancesService } from '../../../../services/token-balances/token-balances.service';\nimport { Subscription } from 'rxjs';\nimport { SubjectService } from '../../../../services/subject/subject.service';\nimport { CONSTANTS } from '../../../../../environments/environment';\nimport { UnlockableService } from '../../../../services/unlockable/unlockable.service';\n\n@Component({\n  selector: 'app-token-detail',\n  templateUrl: './token-detail.component.html',\n  styleUrls: ['../../../../../scss/components/modals/modal.scss']\n})\nexport class TokenDetail extends ModalComponent implements OnInit, OnDestroy {\n  Object = Object;\n  CONSTANTS = CONSTANTS;\n  token = null;\n  tokenFiltered = {};\n  activeAccount = null;\n  moreInfo = false;\n  imageExpanded = false;\n  autoOverflow = false;\n  descOverflow = false;\n  isNFT = false;\n  assetLoaded = false;\n  isAudio = false;\n  name = 'token-detail';\n  readonly blacklistMeta = [\n    'name',\n    'kind',\n    'artifactAsset',\n    'displayAsset',\n    'thumbnailAsset',\n    'rawUrl',\n    'isTransferable',\n    'isBooleanAmount',\n    'balance',\n    'category',\n    'symbol',\n    'decimals',\n    'status',\n    'shouldPreferSymbol',\n    'price',\n    'formats',\n    'isUnknownToken'\n  ];\n\n  theme = '';\n\n  private subscriptions: Subscription = new Subscription();\n  constructor(private subjectService: SubjectService, private tokenBalancesService: TokenBalancesService, private unlockableService: UnlockableService) {\n    super();\n  }\n\n  ngOnInit(): void {\n    this.subscriptions.add(\n      this.subjectService.activeAccount.subscribe((activeAccount) => {\n        this.activeAccount = activeAccount;\n      })\n    );\n    for (let type of Object.keys(CONSTANTS.FEATURE_CONTRACTS)) {\n      for (let feat of Object.keys(CONSTANTS.FEATURE_CONTRACTS[type])) {\n        if (document.documentElement.classList.contains(feat)) {\n          this.theme = feat;\n        }\n        return;\n      }\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n\n  open(data): void {\n    !!data\n      ? Object.keys(data)\n          .filter((key) => !this.blacklistMeta.includes(key))\n          .forEach((key) => (this.tokenFiltered[key] = data[key]))\n      : undefined;\n    this.token = data;\n    this.isNFT = this.tokenBalancesService.isNFT(this.token);\n    this.descOverflow = this.token?.description && this.token?.description.length > 250 ? true : false;\n    super.open();\n  }\n\n  close(): void {\n    this.reset();\n    super.close();\n  }\n\n  expand(): void {\n    this.moreInfo = !this.moreInfo;\n    if (!this.autoOverflow) {\n      setTimeout(() => {\n        this.autoOverflow = !this.autoOverflow;\n      }, 160);\n    } else {\n      this.autoOverflow = !this.autoOverflow;\n    }\n  }\n\n  expandImage(): void {\n    this.imageExpanded = !this.imageExpanded;\n  }\n\n  async toggleFeature(type, feat): Promise<void> {\n    this.theme = this.unlockableService.toggleFeature(type, feat) ? feat : '';\n  }\n\n  reset(): void {\n    this.moreInfo = false;\n    this.imageExpanded = false;\n    this.descOverflow = false;\n    this.assetLoaded = false;\n    this.isAudio = false;\n  }\n}\n","<div class=\"flex-column wrapper\" *ngIf=\"account\">\n  <div class=\"grid\" [class.more-than-15]=\"moreThan15\">\n    <app-balances [account]=\"account\"></app-balances>\n    <app-nfts [account]=\"account\"></app-nfts>\n    <app-activity [account]=\"account\"></app-activity>\n  </div>\n</div>\n<app-token-detail></app-token-detail>","import { Component, Input, OnDestroy, OnInit } from '@angular/core';\nimport { Account, Activity, ImplicitAccount } from '../../../../services/wallet/wallet';\nimport { TimeAgoPipe } from '../../../../pipes/time-ago.pipe';\nimport { TranslateService } from '@ngx-translate/core';\nimport { MessageService } from '../../../../services/message/message.service';\nimport * as copy from 'copy-to-clipboard';\nimport { CONSTANTS } from '../../../../../environments/environment';\nimport { ActivityService } from '../../../../services/activity/activity.service';\nimport { TokenService } from '../../../../services/token/token.service';\nimport { Subscription } from 'rxjs';\nimport { SubjectService } from '../../../../services/subject/subject.service';\n\n@Component({\n  selector: 'app-account-view',\n  templateUrl: './account-view.component.html',\n  styleUrls: ['../../../../../scss/components/views/logged-in/account-view/account-view.component.scss']\n})\nexport class AccountViewComponent implements OnInit, OnDestroy {\n  account: Account;\n  private subscriptions: Subscription = new Subscription();\n  constructor(\n    public translate: TranslateService,\n    public messageService: MessageService,\n    public timeAgoPipe: TimeAgoPipe,\n    private activityService: ActivityService,\n    public tokenService: TokenService,\n    private subjectService: SubjectService\n  ) {}\n  trigger = true;\n  @Input() activity: any;\n  moreThan15 = false;\n  ngOnInit(): void {\n    this.subscriptions.add(\n      this.subjectService.activeAccount.subscribe((activeAccount) => {\n        this.account = activeAccount;\n      })\n    );\n    this.subscriptions.add(\n      this.subjectService.nftsUpdated.subscribe((p) => {\n        this.moreThan15 = Object.keys(p?.nfts ?? {})?.length > 15 ? true : false;\n      })\n    );\n    setInterval(() => (this.trigger = !this.trigger), 1000);\n  }\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n  getType(transaction: Activity): string {\n    if (transaction.type !== 'transaction') {\n      if (transaction.type === 'delegation') {\n        if (transaction.destination.address) {\n          return 'delegated';\n        } else {\n          return 'undelegated';\n        }\n      } else {\n        return transaction.type;\n      }\n    } else {\n      let operationType = '';\n      if (transaction.source.address === this.account.address) {\n        operationType = 'sent';\n      } else {\n        operationType = 'received';\n      }\n      return operationType;\n    }\n  }\n\n  getCounterparty(transaction: any): string {\n    return this.activityService.getCounterparty(transaction, this.account);\n  }\n  copy(account: Account): void {\n    copy(account.address);\n    const copyToClipboard = this.translate.instant('OVERVIEWCOMPONENT.COPIEDTOCLIPBOARD');\n    this.messageService.add(account.address + ' ' + copyToClipboard, 5);\n  }\n  explorerURL(hash: string): string {\n    const baseURL = CONSTANTS.BLOCK_EXPLORER_URL;\n    return `${baseURL}/${hash}`;\n  }\n  printAmount(activity: Activity): string {\n    return this.tokenService.formatAmount(activity.tokenId, activity.amount.toString());\n  }\n  sentKind(activity): string {\n    if (activity.entrypoint) {\n      return `Called ${activity.entrypoint}`;\n    }\n    return 'Sent';\n  }\n  zeroSent(activity): boolean {\n    return this.sentKind(activity).length > 4 && activity.amount === '0';\n  }\n  receivedKind(activity): string {\n    return activity.tokenId && activity.source.address && activity.tokenId.split(':')[0] === activity.source.address ? 'Minted' : 'Received';\n  }\n  displayTokenCard(): boolean {\n    return this.account instanceof ImplicitAccount || this.account?.tokens?.length > 0;\n  }\n}\n","<div class=\"flex-column settings\">\n  <a><button class=\"flex-row back\" [routerLink]=\"'/account/' + activeAccount?.address\"><img src=\"../../../../../assets/img/left-arrow.svg\">BACK</button></a>\n  <h3>Connect with dApps</h3>\n  <div class=\"seperator\"></div>\n  <div class=\"flex-column handler\">\n    <div>\n      <h4>Connect to dApps on <u>another device</u> by scanning a QR code.</h4>\n    </div>\n    <div class=\"scan-button\">\n      <app-qr-scanner></app-qr-scanner>\n    </div>\n  </div>\n  <h3>Peers</h3>\n  <div class=\"seperator\"></div>\n  <table *ngIf=\"beaconService.peers.length\">\n    <thead>\n      <tr>\n        <th>Name</th>\n        <th>Relay server</th>\n        <th><span (click)=\"beaconService.removePeers()\">Remove&nbsp;all</span></th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr *ngFor=\"let peer of beaconService.peers; index as i\">\n        <td>{{ peer.name }}</td>\n        <td>{{ peer.relayServer }}</td>\n        <td (click)=\"beaconService.removePeer(i)\"><img (click)=\"beaconService.removePeer(i)\" src=\"../../../assets/img/cross.svg\"></td>\n      </tr>\n    </tbody>\n  </table>\n  <h3>Permissions</h3>\n  <div class=\"seperator\"></div>\n  <table *ngIf=\"beaconService.permissions.length\">\n    <thead>\n      <tr>\n        <th>Name</th>\n        <th>Address</th>\n        <th><span (click)=\"beaconService.removePermissions()\">Remove&nbsp;all</span></th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr *ngFor=\"let permission of beaconService.permissions; index as i\"\n        [class.inactive]=\"!accountAvailable(permission.address)\">\n        <td>{{ permission.appMetadata.name }}</td>\n        <td>{{ formatAddress(permission.address) }}</td>\n        <td><img (click)=\"beaconService.removePermission(i)\" src=\"../../../assets/img/cross.svg\"></td>\n      </tr>\n    </tbody>\n  </table>\n  <h3>Tokens</h3>\n  <div class=\"seperator\"></div>\n  <button class=\"rescan\" (click)=\"rescan()\">Rescan unknown tokens</button>\n  <button id=\"all\" class=\"rescan\" (click)=\"rescanAll()\">Clear all token metadata</button>\n  <button *ngIf=\"canRevealMnomonic()\" class=\"reveal-mnemonic\" (click)=\"revealMnemonic()\">Reveal Seed Words</button>\n</div>","import { Component, OnInit, HostListener, OnDestroy } from '@angular/core';\nimport { BeaconService } from '../../../../services/beacon/beacon.service';\nimport { WalletService } from '../../../../services/wallet/wallet.service';\nimport { Router } from '@angular/router';\nimport { TokenService } from '../../../../services/token/token.service';\nimport { MessageService } from '../../../../services/message/message.service';\nimport { Subscription } from 'rxjs';\nimport { CoordinatorService } from '../../../../services/coordinator/coordinator.service';\nimport { SubjectService } from '../../../../services/subject/subject.service';\nimport { ModalComponent } from '../../../../components/modals/modal.component';\nimport { HdWallet, LegacyWalletV3 } from '../../../../services/wallet/wallet';\n\n@Component({\n  selector: 'app-settings',\n  templateUrl: './settings.component.html',\n  styleUrls: ['../../../../../scss/components/views/logged-in/settings/settings.component.scss']\n})\nexport class SettingsComponent implements OnInit, OnDestroy {\n  implicitAccounts = [];\n  wideAccounts = false;\n  activeAccount = null;\n  private subscriptions: Subscription = new Subscription();\n  constructor(\n    public beaconService: BeaconService,\n    private messageService: MessageService,\n    private walletService: WalletService,\n    private router: Router,\n    private tokenService: TokenService,\n    private coordinatorService: CoordinatorService,\n    private subjectService: SubjectService\n  ) {}\n\n  ngOnInit(): void {\n    if (this.walletService.wallet) {\n      this.implicitAccounts = this.walletService.wallet.getImplicitAccounts();\n      this.beaconService.syncBeaconState();\n      this.onResize();\n    }\n\n    this.subscriptions.add(\n      this.subjectService.activeAccount.subscribe((activeAccount) => {\n        this.activeAccount = activeAccount;\n      })\n    );\n  }\n  ngOnDestroy(): void {}\n  accountAvailable(pkh: string): boolean {\n    const index = this.implicitAccounts.findIndex((impAcc: any) => impAcc.pkh === pkh);\n    if (index === -1) {\n      return false;\n    }\n    return true;\n  }\n  @HostListener('window:resize')\n  onResize(): void {\n    this.wideAccounts = window.innerWidth > 600;\n  }\n  formatAddress(address: string): string {\n    if (this.wideAccounts) {\n      return address;\n    } else {\n      return address.slice(0, 6) + '...' + address.slice(-4);\n    }\n  }\n  rescan(): void {\n    this.tokenService.resetCounters();\n    this.messageService.add('Scanning for token metadata...');\n    this.coordinatorService.update(this.activeAccount.address);\n    this.router.navigate([`/account/${this.activeAccount.address}`]);\n  }\n  rescanAll(): void {\n    this.tokenService.resetAllMetadata();\n    this.messageService.add('Rescanning all token metadata...');\n    this.coordinatorService.update(this.activeAccount.address);\n    this.router.navigate([`/account/${this.activeAccount.address}`]);\n  }\n  revealMnemonic(): void {\n    ModalComponent.currentModel.next({ name: 'export-mnemonic', data: null });\n  }\n  canRevealMnomonic(): boolean {\n    return this.walletService.wallet && (this.walletService.wallet instanceof HdWallet || this.walletService.wallet instanceof LegacyWalletV3);\n  }\n}\n","<div class=\"flex-column delegate-page\">\n  <div class=\"content\">\n    <div class=\"flex-column manual\">\n      <div class=\"flex-column delegate\">\n        <a [routerLink]=\"'/account/' + activeAccount?.address\"><button class=\"flex-row back\"><img\n              src=\"../../../../../assets/img/left-arrow.svg\">BACK</button></a>\n        <h1>Staking</h1>\n        <div class=\"flex-row toolbar\"><span class=\"button blue\" (click)=\"toggleCustom()\">Enter Custom Baker</span><span\n            *ngIf=\"!delegates?.length\" class=\"button blue\" (click)=\"this.delegateService.getDelegates()\">Reload</span>\n        </div>\n        <ng-container *ngIf=\"isShowingCustom\">\n          <span>Address or domain of a registered baker</span>\n          <div class=\"custom\">\n            <input [(ngModel)]=\"customAddress\" placeholder=\"Custom baker address\" /><button class=\"button\" (click)=\"stake({address: customAddress})\">STAKE</button>\n          </div>\n        </ng-container>\n      </div>\n    </div>\n    <div class=\"flex-column list\">\n      <ng-container *ngFor=\"let delegate of delegates\">\n        <div class=\"flex-row delegate desktop\">\n          <img class=\"logo\" [src]=\"delegate.logo ? delegate.logo : ''\" />\n          <span class=\"name\">{{ delegate.name }}</span>\n          <span class=\"fee\">SPLIT:&nbsp;<b class=\"value\">{{ toPercent(delegate?.fee) }}</b></span>\n          <span class=\"freespace\">SPACE:&nbsp;<b class=\"value\">{{ round(delegate?.freeSpace) + ' tez' }}</b></span>\n          <span class=\"estROI\">EST REWARDS:&nbsp;<b class=\"value\">{{ toPercent(delegate?.estimatedRoi) }}</b></span>\n          <span class=\"accuracy\">ACCURACY:&nbsp;<b class=\"value\">{{ delegate?.payoutAccuracy }}</b></span>\n          <button *ngIf=\"delegate?.address !== activeAccount?.delegate\" class=\"button\" (click)=\"stake(delegate)\">STAKE</button>\n          <span class=\"current\" *ngIf=\"delegate?.address === activeAccount?.delegate\">CURRENT</span>\n        </div>\n        <div class=\"flex-row delegate mobile\">\n          <div class=\"flex-column props\">\n            <img class=\"logo\" [src]=\"delegate.logo ? delegate.logo : ''\" />\n            <span class=\"name\">{{ delegate.name }}</span>\n            <span class=\"fee\">SPLIT:&nbsp;<b class=\"value\">{{ toPercent(delegate?.fee) }}</b></span>\n            <span class=\"freespace\">SPACE:&nbsp;<b class=\"value\">{{ round(delegate?.freeSpace) + ' tez' }}</b></span>\n            <span class=\"estROI\">EST REWARDS:&nbsp;<b class=\"value\">{{ toPercent(delegate?.estimatedRoi) }}</b></span>\n          </div>\n          <button *ngIf=\"delegate?.address !== activeAccount?.delegate\" class=\"button\" (click)=\"stake(delegate)\">STAKE</button>\n          <span class=\"current\" *ngIf=\"delegate?.address === activeAccount?.delegate\">CURRENT</span>\n        </div>\n      </ng-container>\n    </div>\n  </div>\n</div>","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { AccountViewComponent } from './account-view/account-view.component';\nimport { SettingsComponent } from './settings/settings.component';\nimport { DelegatePageComponent } from './delegate-page/delegate-page.component';\nimport { ActivateComponent } from '../start/activate/activate.component';\n\nconst routes: Routes = [\n  { path: ':address', component: AccountViewComponent },\n  { path: ':address/settings', component: SettingsComponent },\n  { path: ':address/stakers', component: DelegatePageComponent },\n  { path: 'activate', component: ActivateComponent }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class LoggedInRoutingModule {}\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { WalletService } from '../../../../services/wallet/wallet.service';\nimport { DelegateService } from '../../../../services/delegate/delegate.service';\nimport { ModalComponent } from '../../../modals/modal.component';\nimport { InputValidationService } from '../../../../services/input-validation/input-validation.service';\nimport { MessageService } from '../../../../services/message/message.service';\nimport { Subscription } from 'rxjs';\nimport { take } from 'rxjs/operators';\nimport { SubjectService } from '../../../../services/subject/subject.service';\n\n@Component({\n  selector: 'app-delegate-page',\n  templateUrl: './delegate-page.component.html',\n  styleUrls: ['../../../../../scss/components/views/logged-in/delegate/delegate.component.scss']\n})\nexport class DelegatePageComponent implements OnInit, OnDestroy {\n  delegates;\n  activeAccount = null;\n  customAddress: string = '';\n  isShowingCustom = false;\n  private subscriptions: Subscription = new Subscription();\n\n  constructor(\n    public delegateService: DelegateService,\n    public router: Router,\n    public walletService: WalletService,\n    public inputValidationService: InputValidationService,\n    private messageServcie: MessageService,\n    private subjectService: SubjectService\n  ) {\n    this.subscriptions.add(\n      this.subjectService.activeAccount.subscribe((activeAccount) => {\n        if (this.activeAccount !== activeAccount) {\n          this.activeAccount = activeAccount;\n          this.subscriptions.add(\n            this.delegateService.delegates.pipe(take(1)).subscribe((d) => {\n              this.delegates = this.filter(d).sort((x, y) => (x.address === this.activeAccount?.delegate ? -1 : y === this.activeAccount?.delegate ? 1 : 0));\n            })\n          );\n        }\n      })\n    );\n\n    this.subscriptions.add(\n      this.delegateService.delegates.subscribe((d) => {\n        this.delegates = this.filter(d).sort((x, y) => (x.address === this.activeAccount?.delegate ? -1 : y === this.activeAccount?.delegate ? 1 : 0));\n      })\n    );\n  }\n\n  ngOnInit(): void {}\n\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n\n  filter(delegates: any): any[] | null {\n    if (delegates?.length) {\n      const balanceXTZ = this.activeAccount ? Math.ceil(this.activeAccount.balanceXTZ / 1000000) : 0;\n      return delegates\n        .map((d) => {\n          try {\n            if (d.freeSpace > balanceXTZ && d.estimatedRoi > 0 && d.openForDelegation === true && d.minDelegation < balanceXTZ) {\n              return d;\n            }\n          } catch {\n            return null;\n          }\n          return null;\n        })\n        .filter((obj) => obj);\n    }\n    return [];\n  }\n  stake(delegate: any): void {\n    if (delegate.address === '' || this.inputValidationService.address(delegate.address)) {\n      ModalComponent.currentModel.next({\n        name: 'delegate-confirm',\n        data: delegate\n      });\n    } else {\n      this.messageServcie.addError(`Invalid baker address: ${delegate?.address}`);\n    }\n  }\n\n  round(val): string {\n    return Math.round(Number(val)).toString();\n  }\n\n  toPercent(val): string {\n    return parseFloat((Number(val) * 100).toFixed(2)).toString() + '%';\n  }\n\n  toggleCustom(): void {\n    this.isShowingCustom = this.isShowingCustom ? false : true;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { HttpClientModule } from '@angular/common/http';\nimport { EstimateService } from '../../../services/estimate/estimate.service';\nimport { SendComponent } from '../../misc/send/send.component';\nimport { ReceiveComponent } from '../../modals/receive/receive.component';\nimport { DelegateComponent } from '../../modals/delegate/delegate.component';\nimport { DelegatePageComponent } from './delegate-page/delegate-page.component';\nimport { ActivateComponent } from '../start/activate/activate.component';\nimport { NewImplicitComponent } from '../../modals/new-implicit/new-implicit.component';\nimport { UriHandlerComponent } from '../../misc/uri-handler/uri-handler.component';\nimport { PermissionRequestComponent } from '../../modals/permission-request/permission-request.component';\nimport { PermissionRequestDropdownComponent } from '../../ui/dropdown/permission-request/permission-request.component';\nimport { SettingsComponent } from './settings/settings.component';\nimport { QrScannerComponent } from '../../modals/qr-scanner/qr-scanner.component';\nimport { SignExprComponent } from '../../modals/sign-expr/sign-expr.component';\nimport { ConfirmSendComponent } from '../../modals/send/confirm/send-confirmation.component';\nimport { PrepareSendComponent } from '../../modals/send/prepare/prepare-send.component';\nimport { OriginateComponent } from '../../modals/originate/originate.component';\nimport { LoggedInComponent } from './logged-in.component';\nimport { LoggedInRoutingModule } from './logged-in-routing.module';\nimport { ConfirmSendEmbedComponent } from '../embedded/confirm-send/confirm-send.component';\nimport { SignExprEmbedComponent } from '../embedded/sign-expr/sign-expr.component';\nimport { AdvancedToggleComponent } from '../../ui/button/toggle/advanced/advanced.component';\nimport { PrepareSendDropdownComponent } from '../../ui/dropdown/prepare-send/prepare-send-dropdown.component';\nimport { AssetComponent } from '../../ui/asset/asset.component';\nimport { NftsBodyComponent } from './account-view/nfts/body/body.component';\nimport { NftsTokenComponent } from './account-view/nfts/token/token.component';\nimport { AccountListComponent } from '../../modals/account-list/list.component';\nimport { AccountListBodyComponent } from '../../modals/account-list/body/body.component';\nimport { ListComponent } from '../../ui/generic/list.component';\nimport { SearchBarComponent } from '../../ui/search/search.component';\nimport { RemoveCommaPipe } from '../../../pipes/remove-comma.pipe';\nimport { ExprTemplateComponent } from '../embedded/sign-expr/template/template.component';\nimport { QueueEmbedComponent } from '../embedded/queue/queue.component';\nimport { MoonpayComponent } from './account-view/moonpay/moonpay.component';\nimport { SwapLiquidityComponent } from '../../modals/swap-liquidity/swap-liquidity.component';\nimport { SwapLiquidityService } from '../../../services/swap-liquidity/swap-liquidity.service';\nimport { InfoComponent } from '../../modals/info/info.component';\nimport { ExportMnemonicComponent } from '../../modals/export-mnemonic/export-mnemonic.component';\nimport { SwapLiquidityConfirmComponent } from '../../modals/swap-liquidity/swap-liquidity-confirm.component';\nimport { ChartComponent } from '../../ui/chart/chart.component';\nimport { ChartService } from '../../../../app/services/chart/chart.service';\n\n@NgModule({\n  declarations: [\n    SendComponent,\n    ReceiveComponent,\n    DelegatePageComponent,\n    SwapLiquidityComponent,\n    ActivateComponent,\n    LoggedInComponent,\n    NewImplicitComponent,\n    UriHandlerComponent,\n    PermissionRequestComponent,\n    PermissionRequestDropdownComponent,\n    SettingsComponent,\n    QrScannerComponent,\n    SignExprComponent,\n    OriginateComponent,\n    ConfirmSendComponent,\n    PrepareSendComponent,\n    DelegateComponent,\n    AdvancedToggleComponent,\n    ConfirmSendEmbedComponent,\n    SignExprEmbedComponent,\n    QueueEmbedComponent,\n    PrepareSendDropdownComponent,\n    AssetComponent,\n    NftsBodyComponent,\n    NftsTokenComponent,\n    AccountListComponent,\n    AccountListBodyComponent,\n    ListComponent,\n    SearchBarComponent,\n    RemoveCommaPipe,\n    ExprTemplateComponent,\n    MoonpayComponent,\n    SwapLiquidityConfirmComponent,\n    InfoComponent,\n    RemoveCommaPipe,\n    ExportMnemonicComponent,\n    ChartComponent\n  ],\n  imports: [CommonModule, LoggedInRoutingModule, HttpClientModule, FormsModule],\n  exports: [\n    AdvancedToggleComponent,\n    SendComponent,\n    ConfirmSendEmbedComponent,\n    SignExprEmbedComponent,\n    QueueEmbedComponent,\n    AssetComponent,\n    NftsBodyComponent,\n    NftsTokenComponent,\n    PermissionRequestComponent,\n    PermissionRequestDropdownComponent,\n    ListComponent,\n    AccountListComponent,\n    AccountListBodyComponent,\n    SearchBarComponent,\n    RemoveCommaPipe,\n    ExprTemplateComponent,\n    InfoComponent,\n    ChartComponent\n  ],\n  providers: [SwapLiquidityService, ChartService, EstimateService, RemoveCommaPipe]\n})\nexport class LoggedInModule {}\n","<form autocomplete=\"off\">\n  <div class=\"flex-column card\">\n    <a routerLink=\"/import/\" [state]=\"{ option: 2 }\"><button class=\"flex-row back\"><img\n          src=\"../../../../../assets/img/left-arrow.svg\">BACK</button></a>\n    <div class=\"flex-column body\">\n      <h1>\n        Activate a Fundraiser wallet\n      </h1>\n      <p class=\"description\">Wallets created during the fundraiser need to be activated. No private key is required for\n        the activation process.</p>\n      <span class=\"description\">Your public key hash</span>\n      <input name=\"none\" type=\"text\" class=\"text\" [(ngModel)]=\"pkh\" [placeholder]=\"'tz1...'\">\n      <span class=\"description\">Your activation code</span>\n      <input name=\"none\" type=\"text\" class=\"text\" [(ngModel)]=\"secret\" [placeholder]=\"'Code'\">\n      <button class=\"button next\" (click)=\"activate()\">Activate</button>\n      <span *ngIf=\"formInvalid\" class=\"description red\">\n        {{ formInvalid }}\n      </span>\n    </div>\n  </div>\n</form>","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { MessageService } from '../../../../services/message/message.service';\nimport { OperationService } from '../../../../services/operation/operation.service';\nimport { InputValidationService } from '../../../../services/input-validation/input-validation.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-activate',\n  templateUrl: './activate.component.html',\n  styleUrls: ['../../../../../scss/components/views/start/login.component.scss']\n})\nexport class ActivateComponent implements OnInit, OnDestroy {\n  pkh: string;\n  secret: string;\n  formInvalid = '';\n  private subscriptions: Subscription = new Subscription();\n  constructor(\n    private messageService: MessageService,\n    private operationService: OperationService,\n    private inputValidationService: InputValidationService,\n    private translate: TranslateService\n  ) {}\n\n  ngOnInit(): void {}\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n  activate(): void {\n    this.formInvalid = this.checkInput();\n    if (!this.formInvalid) {\n      const pkh = this.pkh;\n      const secret = this.secret;\n      this.pkh = '';\n      this.secret = '';\n      this.subscriptions.add(\n        this.operationService.activate(pkh, secret).subscribe(\n          (ans: any) => {\n            if (ans.success) {\n              if (ans.payload.opHash) {\n                this.subscriptions.add(\n                  this.translate.get('ACTIVATECOMPONENT.ACTIVATESUCCESS').subscribe(\n                    (res: string) => this.messageService.addSuccess(res) // 'Activation successfully broadcasted to the blockchain!'\n                  )\n                );\n              } else {\n                this.subscriptions.add(\n                  this.translate.get('ACTIVATECOMPONENT.RETRIEVEFAIL').subscribe(\n                    (res: string) => this.messageService.addWarning(res) // Could not retrieve an operation hash\n                  )\n                );\n              }\n            } else {\n              let errorMessage = '';\n              if (typeof ans.payload.msg === 'string') {\n                errorMessage = 'NodeError ' + ans.payload.msg;\n              } else {\n                errorMessage = 'NodeError ' + JSON.stringify(ans.payload.msg);\n              }\n              this.messageService.addError(errorMessage);\n              console.log(JSON.stringify(ans.payload.msg));\n            }\n          },\n          (err) => {\n            this.subscriptions.add(\n              this.translate.get('ACTIVATECOMPONENT.ACTIVATEFAIL').subscribe(\n                (res: string) => {\n                  let errorMessage = '';\n                  const activateFailed = res;\n                  if (typeof err.payload.msg === 'string') {\n                    errorMessage = activateFailed + ' ' + err.payload.msg;\n                  } else {\n                    errorMessage = activateFailed;\n                  }\n                  this.messageService.addError(errorMessage);\n                } // 'Failed to activate wallet!'\n              )\n            );\n            console.log(JSON.stringify(err));\n          }\n        )\n      );\n    }\n  }\n  checkInput(): string {\n    if (!this.inputValidationService.address(this.pkh)) {\n      return 'Invalid public key hash!';\n    } else if (!this.inputValidationService.code(this.secret)) {\n      return 'Invalid activation code!';\n    }\n    return '';\n  }\n}\n","import { Activity, Account as WalletAccount } from './services/wallet/wallet';\nimport { Asset, ContractType } from './services/token/token.service';\n\nexport { Activity };\n\nexport interface KeyPair {\n  sk: string | null;\n  pk: string | null;\n  pkh: string;\n}\nexport interface Wallet {\n  seed: null | string;\n  salt: null | string;\n  pk?: string;\n  encryptionVersion: number | null;\n  type: WalletType;\n  balance: Balance;\n  XTZrate: number | null;\n  accounts: Account[];\n  derivationPath?: string;\n}\nexport interface Account {\n  pkh: string | null;\n  delegate: string;\n  balance: Balance;\n  numberOfActivites: number;\n  activities: Activity[];\n}\nexport interface Balance {\n  balanceXTZ: number | null;\n  pendingXTZ: number | null;\n  balanceFiat: number | null;\n  pendingFiat: number | null;\n}\nexport enum WalletType {\n  LegacyWallet,\n  ViewOnlyWallet,\n  ObserverWallet,\n  LedgerWallet,\n  HdWallet\n}\nexport interface Baker {\n  baker_name: string;\n  image: string;\n  rolls: number;\n  identity: string;\n  vote: string;\n  vote2: string;\n  // vote: []\n}\nexport interface Vote {\n  voting_period: string;\n  period_kind: PeriodKind;\n  proposal_hash: string[];\n  proposal_alias: string[];\n  votes: number[];\n  operation: string[];\n}\nexport interface Period {\n  amendment: string;\n  period: number;\n  period_kind: string;\n  proposal_hash: string[];\n  proposal_alias: string[];\n  start_level: number;\n  end_level: number;\n  level: number;\n  progress: number;\n  remaining: number;\n}\nexport interface ParticipationPerPeriod {\n  proposal?: [\n    {\n      hash: string;\n      alias: string;\n      count: number;\n      votes: number;\n    }\n  ];\n  unused_count: number;\n  total_count: number;\n  unused_votes: number;\n  total_votes: number;\n}\nexport interface Ballot {\n  proposal: string;\n  nb_yay: number;\n  nb_nay: number;\n  nb_pass: number;\n  vote_yay: number;\n  vote_nay: number;\n  vote_pass: number;\n}\nexport enum PeriodKind {\n  Proposal,\n  Exploration,\n  Testing,\n  Promotion\n}\nexport interface DefaultTransactionParams {\n  gas: number;\n  storage: number;\n  fee: number;\n  burn: number;\n  reveal?: boolean;\n  customLimits?: {\n    gasLimit: number;\n    storageLimit: number;\n  }[];\n}\n\nexport enum DisplayLinkOption {\n  All,\n  DirectAuth,\n  None\n}\n\nexport interface OpLimits {\n  gas?: number;\n  storage?: number;\n}\n\nexport interface ExternalRequest {\n  operationRequest: any;\n  selectedAccount: WalletAccount;\n}\nexport interface Constants {\n  NAME: string;\n  TEZOS_DOMAIN: {\n    CONTRACT: string;\n    TOP_DOMAINS: string[];\n  };\n  NETWORK: string;\n  MAINNET: boolean;\n  NODE_URL: string;\n  BLOCK_EXPLORER_URL: string;\n  HARD_LIMITS: {\n    hard_gas_limit_per_operation: number;\n    hard_gas_limit_per_block: number;\n    hard_storage_limit_per_operation: number;\n  };\n  ASSETS: Record<string, ContractType>;\n  CONTRACT_OVERRIDES: Record<string, OpLimits>;\n  CONTRACT_ALIASES: Record<\n    string,\n    {\n      name?: string;\n      address: string[];\n      thumbnailUrl: Asset;\n      discoverUrl?: string;\n      zoomDiscoverImg?: boolean;\n      link?: string;\n      shouldDisplayLink: DisplayLinkOption;\n      category?: string[];\n      backgroundColor?: string;\n      description?: string;\n    }\n  >;\n  NFT_CONTRACT_OVERRIDES: string[];\n  FEATURE_CONTRACTS: {};\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n/*\n    Informs users on most common errors\n    RPC errors doc: http://tezos.gitlab.io/mainnet/api/errors.html\n*/\n\n@Pipe({\n  name: 'errorHandling'\n})\nexport class ErrorHandlingPipe implements PipeTransform {\n  ERROR_LIST = [\n    {\n      msg: 'A fatal assertion failed',\n      id: 'proto.alpha.assertion'\n    },\n    {\n      msg: \"The block's proof-of-work stamp is insufficient\",\n      id: 'proto.alpha.baking.insufficient_proof_of_work'\n    },\n    {\n      msg: 'A block was not signed with the expected private key.',\n      id: 'proto.alpha.baking.invalid_block_signature'\n    },\n    {\n      msg: 'The gap of fitness is out of bounds',\n      id: 'proto.alpha.baking.invalid_fitness_gap'\n    },\n    {\n      msg: \"The block's signature is invalid\",\n      id: 'proto.alpha.baking.invalid_signature'\n    },\n    {\n      msg: 'The block timestamp is before the first slot for this baker at this level',\n      id: 'proto.alpha.baking.timestamp_too_early'\n    },\n    {\n      msg: 'The operation is signed by a delegate without endorsement rights.',\n      id: 'proto.alpha.baking.unexpected_endorsement'\n    },\n    {\n      msg: 'A double-baking evidence is inconsistent (two distinct delegates)',\n      id: 'proto.alpha.block.inconsistent_double_baking_evidence'\n    },\n    {\n      msg: 'A double-endorsement evidence is inconsistent (two distinct delegates)',\n      id: 'proto.alpha.block.inconsistent_double_endorsement_evidence'\n    },\n    {\n      msg: 'The block header has invalid commitment.',\n      id: 'proto.alpha.block.invalid_commitment'\n    },\n    {\n      msg: 'A double-baking evidence is inconsistent (two distinct level)',\n      id: 'proto.alpha.block.invalid_double_baking_evidence'\n    },\n    {\n      msg: 'A double-endorsement evidence is malformed',\n      id: 'proto.alpha.block.invalid_double_endorsement_evidence'\n    },\n    {\n      msg: 'A manager operation should not contain more than one revelation',\n      id: 'proto.alpha.block.multiple_revelation'\n    },\n    {\n      msg: 'A double-baking evidence is outdated.',\n      id: 'proto.alpha.block.outdated_double_baking_evidence'\n    },\n    {\n      msg: 'A double-endorsement evidence is outdated.',\n      id: 'proto.alpha.block.outdated_double_endorsement_evidence'\n    },\n    {\n      msg: 'A double-baking evidence is in the future',\n      id: 'proto.alpha.block.too_early_double_baking_evidence'\n    },\n    {\n      msg: 'A double-endorsement evidence is in the future',\n      id: 'proto.alpha.block.too_early_double_endorsement_evidence'\n    },\n    {\n      msg: 'A double-baking evidence is unrequired',\n      id: 'proto.alpha.block.unrequired_double_baking_evidence'\n    },\n    {\n      msg: 'A double-endorsement evidence is unrequired',\n      id: 'proto.alpha.block.unrequired_double_endorsement_evidence'\n    },\n    {\n      msg: 'Unexpected JSON object.',\n      id: 'proto.alpha.context.failed_to_decode_parameter'\n    },\n    {\n      msg: 'The protocol parameters are not valid JSON.',\n      id: 'proto.alpha.context.failed_to_parse_parameter'\n    },\n    {\n      msg: 'An error that should never happen unless something has been deleted or corrupted in the database.',\n      id: 'proto.alpha.context.storage_error'\n    },\n    {\n      msg: 'An operation tried to spend more tez than the account has',\n      id: 'proto.alpha.contract.balance_too_low'\n    },\n    {\n      msg: 'The storage fee is higher than the contract balance',\n      id: 'proto.alpha.contract.cannot_pay_storage_fee'\n    },\n    {\n      msg: 'An operation assumed a contract counter in the future',\n      id: 'proto.alpha.contract.counter_in_the_future'\n    },\n    {\n      msg: 'An operation assumed a contract counter in the past',\n      id: 'proto.alpha.contract.counter_in_the_past'\n    },\n    {\n      msg: 'Forbidden to credit 0 to a contract without code.',\n      id: 'proto.alpha.contract.empty_transaction'\n    },\n    {\n      msg: 'Unexpected contract storage error',\n      id: 'proto.alpha.contract.failure'\n    },\n    {\n      msg: 'A malformed contract notation was given to an RPC or in a script.',\n      id: 'proto.alpha.contract.invalid_contract_notation'\n    },\n    {\n      msg: 'Change is not enough to consume a roll.',\n      id: 'proto.alpha.contract.manager.consume_roll_change'\n    },\n    {\n      msg: 'A revealed manager public key is inconsistent with the announced hash',\n      id: 'proto.alpha.contract.manager.inconsistent_hash'\n    },\n    {\n      msg: 'A provided manager public key is different with the public key stored in the contract',\n      id: 'proto.alpha.contract.manager.inconsistent_public_key'\n    },\n    {\n      msg: 'Delegate has no roll.',\n      id: 'proto.alpha.contract.manager.no_roll_for_delegate'\n    },\n    {\n      msg: 'A snapshot of the rolls distribution does not exist for this cycle.',\n      id: 'proto.alpha.contract.manager.no_roll_snapshot_for_cycle'\n    },\n    {\n      msg: 'A contract cannot be delegated to an unregistered delegate',\n      id: 'proto.alpha.contract.manager.unregistered_delegate'\n    },\n    {\n      msg: 'A contract handle is not present in the context (either it never was or it has been destroyed)',\n      id: 'proto.alpha.contract.non_existing_contract'\n    },\n    {\n      msg: 'One tried to revealed twice a manager public key',\n      id: 'proto.alpha.contract.previously_revealed_key'\n    },\n    {\n      msg: 'One tried to apply a manager operation without revealing the manager public key',\n      id: 'proto.alpha.contract.unrevealed_key'\n    },\n    {\n      msg: 'An operation tried to spend tokens from an unspendable contract',\n      id: 'proto.alpha.contract.unspendable_contract'\n    },\n    {\n      msg: 'Useless delegate reactivation',\n      id: 'proto.alpha.delegate.already_active'\n    },\n    {\n      msg: 'Cannot freeze deposit when the balance is too low',\n      id: 'proto.alpha.delegate.balance_too_low_for_deposit'\n    },\n    {\n      msg: 'Cannot register a delegate when its implicit account is empty',\n      id: 'proto.alpha.delegate.empty_delegate_account'\n    },\n    {\n      msg: 'Tried to unregister a delegate',\n      id: 'proto.alpha.delegate.no_deletion'\n    },\n    {\n      msg: 'Contract already delegated to the given delegate',\n      id: 'proto.alpha.delegate.unchanged'\n    },\n    {\n      msg: 'Proposal lists cannot be empty.',\n      id: 'proto.alpha.empty_proposal'\n    },\n    {\n      msg: 'The sum of gas consumed by all the operations in the block exceeds the hard gas limit per block',\n      id: 'proto.alpha.gas_exhausted.block'\n    },\n    {\n      msg: 'Gas limit was not high enough to deserialize the transaction parameters or origination script code or initial storage, making the operation impossible to parse within the provided gas bounds.',\n      id: 'proto.alpha.gas_exhausted.init_deserialize'\n    },\n    {\n      msg: 'An operation tried to exceed the gas limit',\n      id: 'proto.alpha.gas_exhausted.operation'\n    },\n    {\n      msg: 'A transaction tried to exceed the hard limit on gas',\n      id: 'proto.alpha.gas_limit_too_high'\n    },\n    {\n      msg: 'No manager operations are allowed on an empty account. Make sure you have enough balance.',\n      id: 'proto.alpha.implicit.empty_implicit_contract'\n    },\n    {\n      msg: 'Emptying an implicit delegated account is not allowed.',\n      id: 'proto.alpha.implicit.empty_implicit_delegated_contract'\n    },\n    {\n      msg: 'The number of endorsements must be non-negative and at most the endosers_per_block constant.',\n      id: 'proto.alpha.incorrect_number_of_endorsements'\n    },\n    {\n      msg: 'Block priority must be non-negative.',\n      id: 'proto.alpha.incorrect_priority'\n    },\n    {\n      msg: 'An internal operation was emitted twice by a script',\n      id: 'proto.alpha.internal_operation_replay'\n    },\n    {\n      msg: 'A compile-time constant was invalid for its expected form.',\n      id: 'proto.alpha.invalidSyntacticConstantError'\n    },\n    {\n      msg: 'Negative multiple of periods are not allowed.',\n      id: 'proto.alpha.invalid_arg'\n    },\n    {\n      msg: 'Could not deserialize some piece of data from its binary representation',\n      id: 'proto.alpha.invalid_binary_format'\n    },\n    {\n      msg: 'Fitness representation should be exactly 8 bytes long.',\n      id: 'proto.alpha.invalid_fitness'\n    },\n    {\n      msg: 'Ballot provided for a proposal that is not the current one.',\n      id: 'proto.alpha.invalid_proposal'\n    },\n    {\n      msg: 'Period is negative.',\n      id: 'proto.alpha.malformed_period'\n    },\n    {\n      msg: 'Either no parameter was supplied to a contract with a non-unit parameter type, a non-unit parameter was passed to an account, or a parameter was supplied of the wrong type',\n      id: 'proto.alpha.michelson_v1.bad_contract_parameter'\n    },\n    {\n      msg: 'Unexpected stack at the end of a lambda or script.',\n      id: 'proto.alpha.michelson_v1.bad_return'\n    },\n    {\n      msg: 'The stack has an unexpected length or contents.',\n      id: 'proto.alpha.michelson_v1.bad_stack'\n    },\n    {\n      msg: 'The type of a stack item is unexpected (this error is always accompanied by a more precise one).',\n      id: 'proto.alpha.michelson_v1.bad_stack_item'\n    },\n    {\n      msg: 'The error was too big to be serialized with the provided gas',\n      id: 'proto.alpha.michelson_v1.cannot_serialize_error'\n    },\n    {\n      msg: 'Argument of FAILWITH was too big to be serialized with the provided gas',\n      id: 'proto.alpha.michelson_v1.cannot_serialize_failure'\n    },\n    {\n      msg: 'Execution trace with stacks was to big to be serialized with the provided gas',\n      id: 'proto.alpha.michelson_v1.cannot_serialize_log'\n    },\n    {\n      msg: 'The returned storage was too big to be serialized with the provided gas',\n      id: 'proto.alpha.michelson_v1.cannot_serialize_storage'\n    },\n    {\n      msg: 'A non comparable type was used in a place where only comparable types are accepted.',\n      id: 'proto.alpha.michelson_v1.comparable_type_expected'\n    },\n    {\n      msg: 'A deprecated instruction usage is disallowed in newly created contracts',\n      id: 'proto.alpha.michelson_v1.deprecated_instruction'\n    },\n    {\n      msg: 'Two entrypoints have the same name.',\n      id: 'proto.alpha.michelson_v1.duplicate_entrypoint'\n    },\n    {\n      msg: 'Map literals cannot contain duplicated keys',\n      id: 'proto.alpha.michelson_v1.duplicate_map_keys'\n    },\n    {\n      msg: 'When parsing script, a field was found more than once',\n      id: 'proto.alpha.michelson_v1.duplicate_script_field'\n    },\n    {\n      msg: 'Set literals cannot contain duplicate elements, but a duplicae was found while parsing.',\n      id: 'proto.alpha.michelson_v1.duplicate_set_values_in_literal'\n    },\n    {\n      msg: 'An entrypoint name exceeds the maximum length of 31 characters.',\n      id: 'proto.alpha.michelson_v1.entrypoint_name_too_long'\n    },\n    {\n      msg: 'There is non trivial garbage code after a FAIL instruction.',\n      id: 'proto.alpha.michelson_v1.fail_not_in_tail_position'\n    },\n    {\n      msg: 'The toplevel error thrown when trying to parse a type expression (always followed by more precise errors).',\n      id: 'proto.alpha.michelson_v1.ill_formed_type'\n    },\n    {\n      msg: 'The toplevel error thrown when trying to typecheck a contract code against given input, output and storage types (always followed by more precise errors).',\n      id: 'proto.alpha.michelson_v1.ill_typed_contract'\n    },\n    {\n      msg: 'The toplevel error thrown when trying to typecheck a data expression against a given type (always followed by more precise errors).',\n      id: 'proto.alpha.michelson_v1.ill_typed_data'\n    },\n    {\n      msg: 'The annotations on two types could not be merged',\n      id: 'proto.alpha.michelson_v1.inconsistent_annotations'\n    },\n    {\n      msg: 'The specified field does not match the field annotation in the type',\n      id: 'proto.alpha.michelson_v1.inconsistent_field_annotations'\n    },\n    {\n      msg: 'A stack was of an unexpected length (this error is always in the context of a located error).',\n      id: 'proto.alpha.michelson_v1.inconsistent_stack_lengths'\n    },\n    {\n      msg: 'The two types contain annotations that do not match',\n      id: 'proto.alpha.michelson_v1.inconsistent_type_annotations'\n    },\n    {\n      msg: 'This is the basic type clash error, that appears in several places where the equality of two types have to be proven, it is always accompanied with another error that provides more context.',\n      id: 'proto.alpha.michelson_v1.inconsistent_types'\n    },\n    {\n      msg: 'In a script or data expression, a primitive was applied to an unsupported number of arguments.',\n      id: 'proto.alpha.michelson_v1.invalid_arity'\n    },\n    {\n      msg: 'A script or data expression references a big_map that does not exist or assumes a wrong type for an existing big_map.',\n      id: 'proto.alpha.michelson_v1.invalid_big_map'\n    },\n    {\n      msg: 'A data expression was invalid for its expected type.',\n      id: 'proto.alpha.michelson_v1.invalid_constant'\n    },\n    {\n      msg: 'A script or data expression references a contract that does not exist or assumes a wrong type for an existing contract.',\n      id: 'proto.alpha.michelson_v1.invalid_contract'\n    },\n    {\n      msg: 'In a script or data expression, an expression was of the wrong kind (for instance a string where only a primitive applications can appear).',\n      id: 'proto.alpha.michelson_v1.invalid_expression_kind'\n    },\n    {\n      msg: 'The body of an ITER instruction must result in the same stack type as before the ITER.',\n      id: 'proto.alpha.michelson_v1.invalid_iter_body'\n    },\n    {\n      msg: 'FAIL cannot be the only instruction in the body. The propper type of the return list cannot be inferred.',\n      id: 'proto.alpha.michelson_v1.invalid_map_block_fail'\n    },\n    {\n      msg: 'The body of a map block did not match the expected type',\n      id: 'proto.alpha.michelson_v1.invalid_map_body'\n    },\n    {\n      msg: 'In a script or data expression, a primitive was unknown.',\n      id: 'proto.alpha.michelson_v1.invalid_primitive'\n    },\n    {\n      msg: 'In a script or data expression, a primitive name is unknown or has a wrong case.',\n      id: 'proto.alpha.michelson_v1.invalid_primitive_name'\n    },\n    {\n      msg: 'In a script or data expression, a primitive name is neither uppercase, lowercase or capitalized.',\n      id: 'proto.alpha.michelson_v1.invalid_primitive_name_case'\n    },\n    {\n      msg: 'In a script or data expression, a primitive was of the wrong namespace.',\n      id: 'proto.alpha.michelson_v1.invalid_primitive_namespace'\n    },\n    {\n      msg: 'When parsing script, a field was expected, but not provided',\n      id: 'proto.alpha.michelson_v1.missing_script_field'\n    },\n    {\n      msg: 'An entrypoint was not found when calling a contract.',\n      id: 'proto.alpha.michelson_v1.no_such_entrypoint'\n    },\n    {\n      msg: 'Toplevel error for all runtime script errors',\n      id: 'proto.alpha.michelson_v1.runtime_error'\n    },\n    {\n      msg: 'A FAIL instruction was reached due to the detection of an overflow',\n      id: 'proto.alpha.michelson_v1.script_overflow'\n    },\n    {\n      msg: 'A FAILWITH instruction was reached',\n      id: 'proto.alpha.michelson_v1.script_rejected'\n    },\n    {\n      msg: 'A SELF instruction was encountered in a lambda expression.',\n      id: 'proto.alpha.michelson_v1.self_in_lambda'\n    },\n    {\n      msg: 'An instruction generated a type larger than the limit.',\n      id: 'proto.alpha.michelson_v1.type_too_large'\n    },\n    {\n      msg: 'A binary operation is called on operands of types over which it is not defined.',\n      id: 'proto.alpha.michelson_v1.undefined_binop'\n    },\n    {\n      msg: 'A unary operation is called on an operand of type over which it is not defined.',\n      id: 'proto.alpha.michelson_v1.undefined_unop'\n    },\n    {\n      msg: 'A node in the syntax tree was impropperly annotated',\n      id: 'proto.alpha.michelson_v1.unexpected_annotation'\n    },\n    {\n      msg: 'When parsing script, a big_map type was found in a position where it could end up stored inside a big_map, which is forbidden for now.',\n      id: 'proto.alpha.michelson_v1.unexpected_bigmap'\n    },\n    {\n      msg: 'When parsing script, a contract type was found in the storage or parameter field.',\n      id: 'proto.alpha.michelson_v1.unexpected_contract'\n    },\n    {\n      msg: 'When parsing script, an operation type was found in the storage or parameter field.',\n      id: 'proto.alpha.michelson_v1.unexpected_operation'\n    },\n    {\n      msg: 'Annotations of the same kind must be grouped',\n      id: 'proto.alpha.michelson_v1.ungrouped_annotations'\n    },\n    {\n      msg: 'In a script or data expression, a primitive was unknown.',\n      id: 'proto.alpha.michelson_v1.unknown_primitive_name'\n    },\n    {\n      msg: 'At the join point at the end of two code branches the stacks have inconsistent lengths or contents.',\n      id: 'proto.alpha.michelson_v1.unmatched_branches'\n    },\n    {\n      msg: 'Map keys must be in strictly increasing order',\n      id: 'proto.alpha.michelson_v1.unordered_map_literal'\n    },\n    {\n      msg: 'Set values must be in strictly increasing order',\n      id: 'proto.alpha.michelson_v1.unordered_set_literal'\n    },\n    {\n      msg: 'An entrypoint in the contract is not reachable.',\n      id: 'proto.alpha.michelson_v1.unreachable_entrypoint'\n    },\n    {\n      msg: 'Duplicated revelation for a nonce.',\n      id: 'proto.alpha.nonce.previously_revealed'\n    },\n    {\n      msg: 'Nonce revelation happens before cycle end',\n      id: 'proto.alpha.nonce.too_early_revelation'\n    },\n    {\n      msg: 'Nonce revelation happens too late',\n      id: 'proto.alpha.nonce.too_late_revelation'\n    },\n    {\n      msg: 'The provided nonce is inconsistent with the committed nonce hash.',\n      id: 'proto.alpha.nonce.unexpected'\n    },\n    {\n      msg: 'The operation is ill-formed or for another protocol version',\n      id: 'proto.alpha.operation.cannot_parse'\n    },\n    {\n      msg: 'Two endorsements received from same delegate',\n      id: 'proto.alpha.operation.duplicate_endorsement'\n    },\n    {\n      msg: 'The given key and secret do not correspond to any existing preallocated contract',\n      id: 'proto.alpha.operation.invalid_activation'\n    },\n    {\n      msg: 'The level of an endorsement is inconsistent with the provided block hash.',\n      id: 'proto.alpha.operation.invalid_endorsement_level'\n    },\n    {\n      msg: 'The operation signature is ill-formed or has been made with the wrong public key',\n      id: 'proto.alpha.operation.invalid_signature'\n    },\n    {\n      msg: 'The operation is of a kind that must be signed, but the signature is missing',\n      id: 'proto.alpha.operation.missing_signature'\n    },\n    {\n      msg: 'The block being validated does not include the required minimum number of endorsements for this priority.',\n      id: 'proto.alpha.operation.not_enought_endorsements_for_priority'\n    },\n    {\n      msg: 'Trying to include an endorsement in a block that is not the successor of the endorsed one',\n      id: 'proto.alpha.operation.wrong_endorsement_predecessor'\n    },\n    {\n      msg: 'Trying to onclude a proposal or ballot meant for another voting period',\n      id: 'proto.alpha.operation.wrong_voting_period'\n    },\n    {\n      msg: 'The requested seed is not available',\n      id: 'proto.alpha.seed.unknown_seed'\n    },\n    {\n      msg: 'A script or one of its callee wrote more bytes than the operation said it would',\n      id: 'proto.alpha.storage_exhausted.operation'\n    },\n    {\n      msg: 'A transaction tried to exceed the hard limit on storage',\n      id: 'proto.alpha.storage_limit_too_high'\n    },\n    {\n      msg: 'An addition of two tez amounts overflowed',\n      id: 'proto.alpha.tez.addition_overflow'\n    },\n    {\n      msg: 'Multiplication of a tez amount by a non positive integer',\n      id: 'proto.alpha.tez.invalid_divisor'\n    },\n    {\n      msg: 'A multiplication of a tez amount by an integer overflowed',\n      id: 'proto.alpha.tez.multiplication_overflow'\n    },\n    {\n      msg: 'Multiplication of a tez amount by a negative integer',\n      id: 'proto.alpha.tez.negative_multiplicator'\n    },\n    {\n      msg: 'An subtraction of two tez amounts underflowed',\n      id: 'proto.alpha.tez.subtraction_underflow'\n    },\n    {\n      msg: 'Overflow when adding timestamps.',\n      id: 'proto.alpha.timestamp_add'\n    },\n    {\n      msg: 'Substracting timestamps resulted in negative period.',\n      id: 'proto.alpha.timestamp_sub'\n    },\n    {\n      msg: 'A transaction exceeded the hard limit of internal operations it can emit',\n      id: 'proto.alpha.too_many_internal_operations'\n    },\n    {\n      msg: 'The delegate reached the maximum number of allowed proposals.',\n      id: 'proto.alpha.too_many_proposals'\n    },\n    {\n      msg: 'The delegate provided for the ballot is not in the voting listings.',\n      id: 'proto.alpha.unauthorized_ballot'\n    },\n    {\n      msg: 'The delegate provided for the proposal is not in the voting listings.',\n      id: 'proto.alpha.unauthorized_proposal'\n    },\n    {\n      msg: 'An origination was attemped out of the scope of a manager operation',\n      id: 'proto.alpha.undefined_operation_nonce'\n    },\n    {\n      msg: 'Ballot recorded outside of a voting period.',\n      id: 'proto.alpha.unexpected_ballot'\n    },\n    {\n      msg: 'Level must be non-negative.',\n      id: 'proto.alpha.unexpected_level'\n    },\n    {\n      msg: 'Nonce length is incorrect.',\n      id: 'proto.alpha.unexpected_nonce_length'\n    },\n    {\n      msg: 'Proposal recorded outside of a proposal period.',\n      id: 'proto.alpha.unexpected_proposal'\n    },\n    {\n      msg: 'Block locator is invalid.',\n      id: 'node.bootstrap_pipeline.invalid_locator'\n    },\n    {\n      msg: 'Block locator is too short.',\n      id: 'node.bootstrap_pipeline.too_short_locator'\n    },\n    {\n      msg: 'IO error: connection with a peer is closed.',\n      id: 'node.p2p_io_scheduler.connection_closed'\n    },\n    {\n      msg: 'Fail to connect with a peer: a connection is already established.',\n      id: 'node.p2p_pool.connected'\n    },\n    {\n      msg: 'Connection was refused.',\n      id: 'node.p2p_pool.connection_refused'\n    },\n    {\n      msg: 'The peer identity you tried to connect is banned.',\n      id: 'node.p2p_pool.peer_banned'\n    },\n    {\n      msg: 'Fail to connect with a peer: a connection is already pending.',\n      id: 'node.p2p_pool.pending_connection'\n    },\n    {\n      msg: 'The address you tried to connect is banned.',\n      id: 'node.p2p_pool.point_banned'\n    },\n    {\n      msg: 'Node is in private mode.',\n      id: 'node.p2p_pool.private_mode'\n    },\n    {\n      msg: 'Connection to peer was rejected by us.',\n      id: 'node.p2p_pool.rejected'\n    },\n    {\n      msg: 'Too many connections.',\n      id: 'node.p2p_pool.too_many_connections'\n    },\n    {\n      msg: 'An error occurred while deciphering.',\n      id: 'node.p2p_socket.decipher_error'\n    },\n    {\n      msg: 'An error occurred while decoding.',\n      id: 'node.p2p_socket.decoding_error'\n    },\n    {\n      msg: 'An error occurred while encoding.',\n      id: 'node.p2p_socket.encoding_error'\n    },\n    {\n      msg: 'Rejected peer connection: invalid authentication.',\n      id: 'node.p2p_socket.invalid_auth'\n    },\n    {\n      msg: 'Size of chunks is not valid.',\n      id: 'node.p2p_socket.invalid_chunks_size'\n    },\n    {\n      msg: 'The size of the message to be written is invalid.',\n      id: 'node.p2p_socket.invalid_message_size'\n    },\n    {\n      msg: 'Remote peer is actually yourself.',\n      id: 'node.p2p_socket.myself'\n    },\n    {\n      msg: 'Remote peer cannot be authenticated: not enough proof of work.',\n      id: 'node.p2p_socket.not_enough_proof_of_work'\n    },\n    {\n      msg: 'Rejected peer connection: The peer rejected the socket connection by Nack with a list of alternative peers.',\n      id: 'node.p2p_socket.rejected_by_nack'\n    },\n    {\n      msg: 'Rejected peer connection: rejected socket connection as we have no common network protocol with the peer.',\n      id: 'node.p2p_socket.rejected_no_common_protocol'\n    },\n    {\n      msg: 'Rejected peer connection: rejected socket connection.',\n      id: 'node.p2p_socket.rejected_socket_connection'\n    },\n    {\n      msg: 'Rejecting peer connection with motive.',\n      id: 'node.p2p_socket.rejecting_incoming'\n    },\n    {\n      msg: \"Known invalid block found in the peer's chain\",\n      id: 'node.peer_validator.known_invalid'\n    },\n    {\n      msg: \"Unknown ancestor block found in the peer's chain\",\n      id: 'node.peer_validator.unknown_ancestor'\n    },\n    {\n      msg: 'The block was annotated with a time too far in the future.',\n      id: 'node.prevalidation.future_block_header'\n    },\n    {\n      msg: 'The operation size is bigger than allowed.',\n      id: 'node.prevalidation.oversized_operation'\n    },\n    {\n      msg: 'Raised when an operation has not been parsed correctly during prevalidation.',\n      id: 'node.prevalidation.parse_error'\n    },\n    {\n      msg: 'The prevalidation context is full.',\n      id: 'node.prevalidation.too_many_operations'\n    },\n    {\n      msg: 'Invalid protocol.',\n      id: 'node.protocol_validator.invalid_protocol'\n    },\n    {\n      msg: 'The data directory could not be read. This could be because it was generated with an old version of the tezos-node program. Deleting and regenerating this directory may fix the problem.',\n      id: 'node.state.bad_data_dir'\n    },\n    {\n      msg: 'When commiting the context of a block, the announced context hash was not the one computed at commit time.',\n      id: 'node.state.block.inconsistent_context_hash'\n    },\n    {\n      msg: 'The invalid block to be unmarked was not actually invalid.',\n      id: 'node.state.block_not_invalid'\n    },\n    {\n      msg: 'The chain identifier could not be found in the chain identifiers table.',\n      id: 'node.state.unknown_chain'\n    },\n    {\n      msg: 'The block belongs to a branch that is not compatible with the current checkpoint.',\n      id: 'node.validator.checkpoint_error'\n    },\n    {\n      msg: 'Attempted validation of a block from an inactive chain.',\n      id: 'node.validator.inactive_chain'\n    },\n    {\n      msg: 'Incorrect history mode switch.',\n      id: 'node_config_file.incorrect_history_mode_switch'\n    },\n    {\n      msg: 'Missing key in store',\n      id: 'raw_store.unknown'\n    },\n    {\n      msg: 'The provided list of operations is inconsistent with the block header.',\n      id: 'validator.inconsistent_operations_hash'\n    },\n    {\n      msg: 'Invalid block.',\n      id: 'validator.invalid_block'\n    },\n    {\n      msg: 'Missing test protocol when forking the test chain',\n      id: 'validator.missing_test_protocol'\n    },\n    {\n      msg: 'The protocol required for validating a block is missing.',\n      id: 'validator.unavailable_protocol'\n    },\n    {\n      msg: 'Failed to validate block using exteranl validation process.',\n      id: 'validator.validation_process_failed'\n    },\n    {\n      msg: 'An operation on a worker could not complete before it was shut down.',\n      id: 'worker.closed'\n    },\n    {\n      msg: 'While parsing a piece of Micheline source, an annotation exceeded the maximum length (255).',\n      id: 'micheline.parse_error.annotation_exceeds_max_length'\n    },\n    {\n      msg: 'Tried to interpret an empty piece or Micheline source as a single expression.',\n      id: 'micheline.parse_error.empty_expression'\n    },\n    {\n      msg: 'While parsing a piece of Micheline source, an extra semi colon or parenthesis was encountered.',\n      id: 'micheline.parse_error.extra_token'\n    },\n    {\n      msg: 'While parsing a piece of Micheline source, a sequence of bytes that is not valid UTF-8 was encountered.',\n      id: 'micheline.parse_error.invalid_utf8_sequence'\n    },\n    {\n      msg: 'While parsing a piece of Micheline source, an expression was not aligned with its siblings of the same mother application or sequence.',\n      id: 'micheline.parse_error.misaligned_node'\n    },\n    {\n      msg: 'While parsing a piece of Micheline source, a number was not visually separated from its follower token, leading to misreadability.',\n      id: 'micheline.parse_error.missing_break_after_number'\n    },\n    {\n      msg: 'While parsing a piece of Micheline source, the length of a byte sequence (0x...) was not a multiple of two, leaving a trailing half byte.',\n      id: 'micheline.parse_error.odd_lengthed_bytes'\n    },\n    {\n      msg: 'While parsing a piece of Micheline source, a parenthesis or a brace was unclosed.',\n      id: 'micheline.parse_error.unclosed_token'\n    },\n    {\n      msg: 'While parsing a piece of Micheline source, an unexpected escape sequence was encountered in a string.',\n      id: 'micheline.parse_error.undefined_escape_sequence'\n    },\n    {\n      msg: 'While parsing a piece of Micheline source, an unexpected character was encountered.',\n      id: 'micheline.parse_error.unexpected_character'\n    },\n    {\n      msg: 'While parsing a piece of Micheline source, an unexpected token was encountered.',\n      id: 'micheline.parse_error.unexpected_token'\n    },\n    {\n      msg: 'While parsing a piece of Micheline source, a commentX was not terminated.',\n      id: 'micheline.parse_error.unterminated_comment'\n    },\n    {\n      msg: 'While parsing a piece of Micheline source, an integer was not terminated.',\n      id: 'micheline.parse_error.unterminated_integer'\n    },\n    {\n      msg: 'While parsing a piece of Micheline source, a string was not terminated.',\n      id: 'micheline.parse_error.unterminated_string'\n    },\n    {\n      msg: 'Wrong hash given',\n      id: 'Bad_hash'\n    },\n    {\n      msg: 'The context checkout failed using a given hash',\n      id: 'Block_validator_process.failed_to_checkout_context'\n    },\n    {\n      msg: 'Cannot reconstruct',\n      id: 'CannotReconstruct'\n    },\n    {\n      msg: 'Cannot find context corresponding to hash',\n      id: 'Context_not_found'\n    },\n    {\n      msg: 'The imported block is not the expected one.',\n      id: 'InconsistentImportedBlock'\n    },\n    {\n      msg: 'The operations given do not match their hashes.',\n      id: 'InconsistentOperationHashes'\n    },\n    {\n      msg: 'The data provided by the snapshot is inconsistent',\n      id: 'Inconsistent_snapshot_data'\n    },\n    {\n      msg: 'Error while opening snapshot file',\n      id: 'Inconsistent_snapshot_file'\n    },\n    {\n      msg: 'Invalid specification of block to import',\n      id: 'InvalidBlockSpecification'\n    },\n    {\n      msg: 'The version of the snapshot to import is not valid',\n      id: 'Invalid_snapshot_version'\n    },\n    {\n      msg: 'Mandatory data missing while reaching end of snapshot file.',\n      id: 'Missing_snapshot_data'\n    },\n    {\n      msg: 'RPC lookup failed. Block has been pruned and requested data deleted.',\n      id: 'RPC_context.Gone'\n    },\n    {\n      msg: 'RPC lookup failed. No RPC exists at the URL or the RPC tried to access non-existent data.',\n      id: 'RPC_context.Not_found'\n    },\n    {\n      msg: 'Internal error while restoring the context',\n      id: 'Restore_context_failure'\n    },\n    {\n      msg: 'The imported snapshot is malformed.',\n      id: 'SnapshotImportFailure'\n    },\n    {\n      msg: 'Failed to read file',\n      id: 'System_read_error'\n    },\n    {\n      msg: 'The validator failed because of a system error',\n      id: 'Validator_process.system_error_while_validating'\n    },\n    {\n      msg: 'Cannot write in file for context dump',\n      id: 'Writing_error'\n    },\n    {\n      msg: 'The block to export in the snapshot is not valid.',\n      id: 'WrongBlockExport'\n    },\n    {\n      msg: 'Wrong protocol hash',\n      id: 'WrongProtocolHash'\n    },\n    {\n      msg: 'Snapshot exports is not compatible with the current configuration.',\n      id: 'WrongSnapshotExport'\n    },\n    {\n      msg: 'A fatal assertion failed',\n      id: 'assertion'\n    },\n    {\n      msg: 'A promise was unexpectedly canceled',\n      id: 'canceled'\n    },\n    {\n      msg: 'A key has been provided with an invalid uri.',\n      id: 'cli.key.invalid_uri'\n    },\n    {\n      msg: 'The signer produced an invalid signature',\n      id: 'cli.signature_mismatch'\n    },\n    {\n      msg: 'A key has been provided with an unregistered scheme (no corresponding plugin)',\n      id: 'cli.unregistered_key_scheme'\n    },\n    {\n      msg: 'The byte sequence references a multisig counter that does not match the one currently stored in the given multisig contract',\n      id: 'client.alpha.Bad deserialized counter'\n    },\n    {\n      msg: 'When trying to deserialise an action from a sequence of bytes, we got an expression that does not correspond to a known multisig action',\n      id: 'client.alpha.actionDeserialisation'\n    },\n    {\n      msg: 'When trying to deserialise an action from a sequence of bytes, we got an action for another multisig contract',\n      id: 'client.alpha.badDeserializedContract'\n    },\n    {\n      msg: 'invalid duration in -endorsement-delay',\n      id: 'client.alpha.badEndorsementDelayArg'\n    },\n    {\n      msg: 'invalid priority in -max-priority',\n      id: 'client.alpha.badMaxPriorityArg'\n    },\n    {\n      msg: 'invalid duration in -max-waiting-time',\n      id: 'client.alpha.badMaxWaitingTimeArg'\n    },\n    {\n      msg: 'invalid fee threshold in -fee-threshold',\n      id: 'client.alpha.badMinimalFeesArg'\n    },\n    {\n      msg: 'invalid number of levels in -preserved-levels',\n      id: 'client.alpha.badPreservedLevelsArg'\n    },\n    {\n      msg: 'Invalid  notation in parameter.',\n      id: 'client.alpha.badTezArg'\n    },\n    {\n      msg: 'When trying to deserialise an action from a sequence of bytes, we got an error',\n      id: 'client.alpha.bytesDeserialisation'\n    },\n    {\n      msg: 'A multisig command has referenced a scriptless smart contract instead of a multisig smart contract.',\n      id: 'client.alpha.contractHasNoScript'\n    },\n    {\n      msg: 'A multisig command has referenced a smart contract without storage instead of a multisig smart contract.',\n      id: 'client.alpha.contractHasNoStorage'\n    },\n    {\n      msg: 'A multisig command has referenced a smart contract whose storage is of a different shape than the expected one.',\n      id: 'client.alpha.contractHasUnexpectedStorage'\n    },\n    {\n      msg: 'Attempt to get the code of a contract failed because it has nocode. No scriptless contract should remain.',\n      id: 'client.alpha.contractWithoutCode'\n    },\n    {\n      msg: 'A signature was given for a multisig contract that matched none of the public keys of the contract signers',\n      id: 'client.alpha.invalidSignature'\n    },\n    {\n      msg: 'A wrong number of arguments was provided to a macro',\n      id: 'client.alpha.michelson.macros.bas_arity'\n    },\n    {\n      msg: 'An macro expects a sequence, but a sequence was not provided',\n      id: 'client.alpha.michelson.macros.sequence_expected'\n    },\n    {\n      msg: 'A macro had an annotation, but no annotation was permitted on this macro.',\n      id: 'client.alpha.michelson.macros.unexpected_annotation'\n    },\n    {\n      msg: 'A multisig threshold should be a positive number',\n      id: 'client.alpha.nonPositiveThreshold'\n    },\n    {\n      msg: 'A multisig command has referenced a smart contract whose script is not one of the known multisig contract scripts.',\n      id: 'client.alpha.notASupportedMultisigContract'\n    },\n    {\n      msg: 'To run an action on a multisig contract, you should provide at least as many signatures as indicated by the threshold stored in the multisig contract.',\n      id: 'client.alpha.notEnoughSignatures'\n    },\n    {\n      msg: 'The given threshold is higher than the number of keys, this would lead to a frozen multisig contract',\n      id: 'client.alpha.thresholdTooHigh'\n    },\n    {\n      msg: 'Cannot recover from a corrupted context.',\n      id: 'context.non_recoverable_context'\n    },\n    {\n      msg: '<gf>context_dump.read.cannot_open'\n    },\n    {\n      msg: '<gf>context_dump.read.suspicious'\n    },\n    {\n      msg: '<gf>context_dump.write.cannot_open'\n    },\n    {\n      msg: 'Exception safely wrapped in an error',\n      id: 'failure'\n    },\n    {\n      msg: 'Activation of an Internal Event SINK with an URI failed',\n      id: 'internal-event-activation-error'\n    },\n    {\n      msg: 'The raw context extraction depth argument must be positive.',\n      id: 'raw_context.invalid_depth'\n    },\n    {\n      msg: 'No protocol was registered with the requested hash.',\n      id: 'registered_protocol.unregistered_protocol'\n    },\n    {\n      msg: 'The fetch of a Operation_hash has been canceled',\n      id: 'requester.Operation_hash.fetch_canceled'\n    },\n    {\n      msg: 'The fetch of a Operation_hash has timed out',\n      id: 'requester.Operation_hash.fetch_timeout'\n    },\n    {\n      msg: 'Some Operation_hash is missing from the requester',\n      id: 'requester.Operation_hash.missing'\n    },\n    {\n      msg: 'The fetch of a Protocol_hash has been canceled',\n      id: 'requester.Protocol_hash.fetch_canceled'\n    },\n    {\n      msg: 'The fetch of a Protocol_hash has timed out',\n      id: 'requester.Protocol_hash.fetch_timeout'\n    },\n    {\n      msg: 'Some Protocol_hash is missing from the requester',\n      id: 'requester.Protocol_hash.missing'\n    },\n    {\n      msg: 'The fetch of a block_hash has been canceled',\n      id: 'requester.block_hash.fetch_canceled'\n    },\n    {\n      msg: 'The fetch of a block_hash has timed out',\n      id: 'requester.block_hash.fetch_timeout'\n    },\n    {\n      msg: 'Some block_hash is missing from the requester',\n      id: 'requester.block_hash.missing'\n    },\n    {\n      msg: 'The fetch of a operation_hashes has been canceled',\n      id: 'requester.operation_hashes.fetch_canceled'\n    },\n    {\n      msg: 'The fetch of a operation_hashes has timed out',\n      id: 'requester.operation_hashes.fetch_timeout'\n    },\n    {\n      msg: 'Some operation_hashes is missing from the requester',\n      id: 'requester.operation_hashes.missing'\n    },\n    {\n      msg: 'The fetch of a operations has been canceled',\n      id: 'requester.operations.fetch_canceled'\n    },\n    {\n      msg: 'The fetch of a operations has timed out',\n      id: 'requester.operations.fetch_timeout'\n    },\n    {\n      msg: 'Some operations is missing from the requester',\n      id: 'requester.operations.missing'\n    },\n    {\n      msg: 'Error while decoding a remote signer message',\n      id: 'signer.decoding_error'\n    },\n    {\n      msg: 'Error while encoding a remote signer message',\n      id: 'signer.encoding_error'\n    },\n    {\n      msg: 'Block not found',\n      id: 'state.block.contents_not_found'\n    },\n    {\n      msg: 'Block not found',\n      id: 'state.block.not_found'\n    },\n    {\n      msg: 'Unix System_info failure',\n      id: 'unix.system_info'\n    },\n    {\n      msg: 'An unhandled unix exception',\n      id: 'unix_error'\n    },\n    {\n      msg: 'Canceled',\n      id: 'utils.Canceled'\n    },\n    {\n      msg: 'Timeout',\n      id: 'utils.Timeout'\n    },\n    {\n      msg: 'Fee exceeded hard cap!',\n      id: 'TooHighFee'\n    },\n    {\n      msg: 'Node error: Timeout has occurred! Please try again later.',\n      id: 'Timeout has occurred'\n    }\n  ];\n  transform(errorId: string, withObj?: any, location?: number): any {\n    const protocol = errorId.match(/[0-9]{3}-P\\w{7}/g);\n    if (protocol && protocol[0]) {\n      errorId = errorId.replace(protocol[0], 'alpha');\n    }\n    let errorMessage = '';\n    const index = this.ERROR_LIST.findIndex((s) => s.id === errorId);\n    console.log('errorId', errorId);\n    if (errorId === 'proto.alpha.michelson_v1.script_rejected' && withObj) {\n      if (withObj.string) {\n        errorMessage = `${this.ERROR_LIST[index].msg} | ${withObj.string}`;\n      } else if (withObj?.int === '4' && location === 206) {\n        errorMessage = 'Tokens deposited is greater than maximum tokens deposited. Please retry in a while.';\n      } else {\n        let jsonWith = JSON.stringify(withObj);\n        if (jsonWith.length > 200) {\n          jsonWith = '[...]';\n          console.error('FAILWITH', withObj);\n        }\n        errorMessage = `${this.ERROR_LIST[index].msg} ${jsonWith}`;\n      }\n      console.log(withObj);\n    } else if (index !== -1) {\n      errorMessage = this.ERROR_LIST[index].msg;\n    } else {\n      if (errorId.indexOf('branch refused (Error:') !== -1 && errorId.indexOf('already used for contract') !== -1) {\n        errorMessage =\n          'Counter error: Another operation in mempool is blocking your operation. Wait for it to be included in a block or pruned from mempool (up to 60 minutes).';\n      } else {\n        if (errorId?.startsWith('Failed to parse the request body')) {\n          const lines = errorId.split('At /kind, unexpected string instead of ');\n          for (let line of lines) {\n            if (line.startsWith('reveal\\n  Unhandled error')) {\n              return line.replace('reveal\\n  ', '');\n            }\n          }\n        }\n        errorMessage = 'Unrecognized error: ' + errorId;\n      }\n    }\n    return errorMessage;\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'removeComma'\n})\nexport class RemoveCommaPipe implements PipeTransform {\n  transform(value: string): string {\n    if (value !== undefined && value !== null) {\n      return value.replace(/,/g, '');\n    } else {\n      return '';\n    }\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\nimport { TranslateService } from '@ngx-translate/core'; // Multiple instances created ?\nimport * as timediff from 'timediff';\n\n@Pipe({\n  name: 'timeAgo',\n  pure: true // if false pipe will be called at each changes - necessary for translation - is there a better way?\n})\nexport class TimeAgoPipe implements PipeTransform {\n  constructor(private translate: TranslateService) {}\n  transform(timestamp: number): string {\n    const now = this.translate.instant('TIMEAGOPIPE.JUSTNOW');\n    const sec = this.translate.instant('TIMEAGOPIPE.SEC');\n    const secs = sec;\n    const mn = this.translate.instant('TIMEAGOPIPE.MINUTE');\n    const mns = mn;\n    const hr = this.translate.instant('TIMEAGOPIPE.HOUR');\n    const hrs = this.translate.instant('TIMEAGOPIPE.HOURS');\n    const day = this.translate.instant('TIMEAGOPIPE.DAY');\n    const days = this.translate.instant('TIMEAGOPIPE.DAYS');\n    const month = this.translate.instant('TIMEAGOPIPE.MONTH');\n    const months = this.translate.instant('TIMEAGOPIPE.MONTHS');\n    const year = this.translate.instant('TIMEAGOPIPE.YEAR');\n    const years = this.translate.instant('TIMEAGOPIPE.YEARS');\n\n    const timeNow = new Date().getTime();\n    const diff = timediff(timestamp, timeNow, 'YMDHmS');\n\n    const keys = Object.keys(diff);\n    let count = 0;\n    let output = '';\n\n    for (const key of keys) {\n      if (diff[key] || count) {\n        if (count) {\n          output = output + ' ';\n        }\n        switch (key) {\n          case 'years':\n            output = `${diff[key]}${diff[key] === 1 ? year : years}`;\n            break;\n          case 'months':\n            output = output + `${diff[key]}${diff[key] === 1 ? month : months}`;\n            break;\n          case 'days':\n            output = output + `${diff[key]}${diff[key] === 1 ? day : days}`;\n            break;\n          case 'hours':\n            output = output + `${diff[key]}${diff[key] === 1 ? hr : hrs}`;\n            break;\n          case 'minutes':\n            output = output + `${diff[key]}${diff[key] === 1 ? mn : mns}`;\n            break;\n          case 'seconds':\n            if (!diff.minutes && diff.seconds < 60) {\n              output = now;\n            } else if (diff.minutes < 2) {\n              output = output + `${diff[key]}${diff[key] === 1 ? sec : secs}`;\n            }\n            break;\n        }\n        if (count++) {\n          break;\n        }\n      }\n    }\n    return output;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { WalletService } from '../wallet/wallet.service';\nimport { of, Observable, from as fromPromise } from 'rxjs';\nimport { flatMap } from 'rxjs/operators';\nimport { delay, takeUntil } from 'rxjs/operators';\nimport { Activity, Account, OpStatus } from '../wallet/wallet';\nimport { MessageService } from '../message/message.service';\nimport { LookupService } from '../lookup/lookup.service';\nimport { IndexerService } from '../indexer/indexer.service';\nimport { TokenService } from '../token/token.service';\nimport { BehaviorSubject } from 'rxjs';\nimport { SubjectService } from '../subject/subject.service';\n\n@Injectable()\nexport class ActivityService {\n  readonly maxTransactions = 10;\n  public tokenBalanceUpdated = new BehaviorSubject(null);\n  constructor(\n    private walletService: WalletService,\n    private messageService: MessageService,\n    private lookupService: LookupService,\n    private indexerService: IndexerService,\n    private tokenService: TokenService,\n    private subjectService: SubjectService\n  ) {}\n  updateTransactions(pkh): Observable<any> {\n    try {\n      const account = this.walletService.wallet.getAccount(pkh);\n      return this.getTransactonsCounter(account).pipe(\n        flatMap((ans: any) => {\n          return of(ans);\n        })\n      );\n    } catch (e) {\n      console.log(e);\n    }\n  }\n  getTransactonsCounter(account: Account): Observable<any> {\n    const knownTokenIds: string[] = this.tokenService.knownTokenIds();\n    return fromPromise(this.indexerService.accountInfo(account.address, knownTokenIds)).pipe(\n      flatMap((data) => {\n        const counter = data.counter;\n        const unknownTokenIds = data.unknownTokenIds ? data.unknownTokenIds : [];\n        this.tokenService.searchAllMetadata(unknownTokenIds);\n        this.tokenService.recheckMetadata(data?.tokens);\n        if (account.state !== counter) {\n          if (data.tokens) {\n            this.updateTokenBalances(account, data.tokens);\n          } else {\n            this.updateTokenBalances(account, []);\n          }\n          return this.getAllTransactions(account, counter);\n        } else {\n          if (!account.state) {\n            if (!account.activities || !account.tokens) {\n              if (!account.activities) {\n                account.activities = [];\n              }\n              if (!account.tokens) {\n                account.tokens = [];\n              }\n              this.updateTokenBalances(account, []);\n              this.walletService.storeWallet();\n            }\n          }\n          return of({\n            upToDate: true,\n            balance: data?.balance ? data.balance : 0\n          });\n        }\n      })\n    );\n  }\n  async updateTokenBalances(account, tokens) {\n    if (Array.isArray(tokens)) {\n      const idsWithBalance: string[] = [];\n      if (!tokens.length) {\n        account.updateTokenBalance('', '');\n      } else {\n        for (const token of tokens) {\n          idsWithBalance.push(token.tokenId);\n          account.updateTokenBalance(token.tokenId, token.balance.toString());\n        }\n        const currentTokenIds = account.getTokenBalances().map((token) => {\n          return token.tokenId;\n        });\n        for (const tokenId of currentTokenIds) {\n          if (!idsWithBalance.includes(tokenId)) {\n            account.updateTokenBalance(tokenId, '0');\n          }\n        }\n      }\n      this.tokenBalanceUpdated.next(true);\n      this.walletService.storeWallet();\n    }\n  }\n  getAllTransactions(account: Account, counter: string): Observable<any> {\n    const knownTokenIds: string[] = this.tokenService.knownTokenIds();\n    return fromPromise(this.indexerService.getOperations(account.address, knownTokenIds, this.walletService.wallet)).pipe(\n      flatMap((resp) => {\n        const operations = resp.operations;\n        this.tokenService.searchAllMetadata(resp.unknownTokenIds);\n        if (Array.isArray(operations)) {\n          const oldActivities = account.activities;\n          const unconfirmedOps = [];\n          if (oldActivities && oldActivities.length) {\n            for (let op of oldActivities) {\n              if (op.status === OpStatus.UNCONFIRMED || op.status === OpStatus.HALF_CONFIRMED) {\n                let save = true;\n                for (const opNew of operations) {\n                  if (opNew.hash === op.hash) {\n                    save = false;\n                    break;\n                  }\n                }\n                if (save) {\n                  unconfirmedOps.push(op);\n                }\n              }\n            }\n          }\n          account.activities = unconfirmedOps.concat(operations);\n          const oldState = account.state;\n          account.state = counter;\n          this.walletService.storeWallet();\n          if (oldState !== '') {\n            // Exclude inital loading\n            this.promptNewActivities(account, oldActivities, operations);\n          }\n          for (const activity of operations) {\n            const counterParty = this.getCounterparty(activity, account, false);\n            this.lookupService.check(counterParty);\n          }\n        }\n        return of({\n          upToDate: false\n        });\n      })\n    );\n  }\n  promptNewActivities(account: Account, oldActivities: Activity[], newActivities: Activity[]) {\n    for (const activity of newActivities) {\n      const index = oldActivities.findIndex((a) => a.hash === activity.hash && a.status === OpStatus.CONFIRMED);\n      if (index === -1) {\n        const now = new Date().getTime();\n        const timeDiff = now - (activity?.timestamp ? activity.timestamp : now);\n        if (timeDiff < 1800000) {\n          // 1/2 hour\n          if (activity.hash) {\n            setTimeout(() => {\n              this.subjectService.confirmedOp.next(activity.hash);\n            }, 0);\n          }\n          if (activity.type === 'transaction') {\n            if (account.address === activity.source.address) {\n              this.messageService.addSuccess(account.shortAddress() + ': Sent ' + this.tokenService.formatAmount(activity.tokenId, activity.amount.toString()));\n            }\n            if (account.address === activity.destination.address) {\n              const ref = activity.tokenId ? Date.now().toString() + activity.tokenId : '';\n              this.messageService.addSuccess(\n                (account.shortAddress() + ': Received ' + this.tokenService.formatAmount(activity.tokenId, activity.amount.toString())).replace(\n                  '[Unknown token]',\n                  'Token'\n                ),\n                undefined,\n                ref\n              );\n              if (activity.tokenId && this.tokenService.getAsset(activity.tokenId) === null) {\n                // unknown token\n                this.subjectService.metadataUpdated.pipe(takeUntil(of(true).pipe(delay(8000)))).subscribe((token: any) => {\n                  // unsub after 8s\n                  if (token?.contractAddress && token.id !== undefined) {\n                    const tokenId = token.contractAddress + ':' + token.id.toString();\n                    if (activity.tokenId === tokenId) {\n                      this.messageService.modify(\n                        account.shortAddress() + ': Received ' + this.tokenService.formatAmount(activity.tokenId, activity.amount.toString()),\n                        ref\n                      );\n                    }\n                  }\n                });\n              }\n            }\n          } else if (activity.type === 'delegation') {\n            this.messageService.addSuccess(account.shortAddress() + ': Delegate updated');\n          } else if (activity.type === 'origination') {\n            this.messageService.addSuccess(account.shortAddress() + ': Contract originated');\n          } else if (activity.type === 'activation') {\n            this.messageService.addSuccess(account.shortAddress() + ': Account activated');\n          }\n          const counter = this.getCounterparty(activity, account, false);\n          if (counter?.address) {\n            this.lookupService.check(counter.address, true);\n          }\n        }\n      }\n    }\n  }\n  getCounterparty(transaction: Activity, account: Account, withLookup = true): any {\n    let counterParty = { address: '' };\n    if (transaction.type === 'delegation') {\n      if (transaction.destination) {\n        counterParty = transaction.destination;\n      } else {\n        counterParty = { address: '' }; // User has undelegated\n      }\n    } else if (transaction.type === 'transaction') {\n      if (account.address === transaction.source.address) {\n        counterParty = transaction.destination; // to\n      } else {\n        counterParty = transaction.source; // from\n      }\n    } else if (transaction.type === 'origination') {\n      if (account.address === transaction.source.address) {\n        counterParty = transaction.destination ? transaction.destination : { address: '' };\n      } else {\n        counterParty = transaction.source;\n      }\n    } else {\n      counterParty = { address: '' };\n    }\n    if (withLookup) {\n      return this.lookupService.resolve(counterParty);\n    } else {\n      return counterParty;\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { WalletService } from '../wallet/wallet.service';\nimport { TzrateService } from '../tzrate/tzrate.service';\nimport { OperationService } from '../operation/operation.service';\nimport { Account } from '../wallet/wallet';\n\n@Injectable()\nexport class BalanceService {\n  constructor(private walletService: WalletService, private tzrateService: TzrateService, private operationService: OperationService) {}\n\n  getBalanceAll() {\n    for (const account of this.walletService.wallet.getAccounts()) {\n      this.getAccountBalance(account);\n    }\n  }\n  getAccountBalance(account: Account) {\n    console.log('for ' + account.address);\n    this.operationService.getBalance(account.address).subscribe((ans: any) => {\n      if (ans.success) {\n        this.updateAccountBalance(account, Number(ans.payload.balance));\n      } else {\n        console.log('Balance Error: ' + JSON.stringify(ans.payload.msg));\n      }\n    });\n  }\n  updateAccountBalance(account: Account, newBalance: number) {\n    if (account && (account.balanceXTZ === null || account.balanceXTZ === undefined || newBalance !== account.balanceXTZ)) {\n      account.balanceXTZ = newBalance;\n      this.updateTotalBalance();\n      this.tzrateService.updateFiatBalances();\n      this.walletService.storeWallet();\n    }\n  }\n  updateTotalBalance() {\n    let balance = 0;\n    let change = false;\n    for (const account of this.walletService.wallet.getAccounts()) {\n      if (!(account.balanceXTZ === null || account.balanceXTZ === undefined)) {\n        balance = balance + Number(account.balanceXTZ);\n        change = true;\n      }\n    }\n    if (change) {\n      this.walletService.wallet.totalBalanceXTZ = balance;\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { MessageService } from '../../services/message/message.service';\nimport {\n  WalletClient,\n  BeaconMessageType,\n  PermissionResponseInput,\n  SignPayloadResponseInput,\n  P2PPairingRequest,\n  BeaconErrorType,\n  BEACON_VERSION,\n  ErrorResponse,\n  getSenderId,\n  ExtendedP2PPairingResponse\n} from '@airgap/beacon-sdk';\nimport { Asset } from '../token/token.service';\nimport { TzktService } from '../indexer/tzkt/tzkt.service';\n@Injectable({\n  providedIn: 'root'\n})\nexport class BeaconService {\n  client: WalletClient = null;\n  peers = [];\n  permissions = [];\n  constructor(private messageService: MessageService, private tzktService: TzktService) {}\n  preNotifyPairing(pairInfoJson: string) {\n    const pairInfo: P2PPairingRequest = JSON.parse(pairInfoJson);\n    if (this.isNewPairingRequest(pairInfo)) {\n      this.messageService.addBeaconWait(`Pairing with ${pairInfo.name}. Please wait!`);\n    }\n  }\n  isNewPairingRequest(pairInfo: P2PPairingRequest): boolean {\n    const peersJson = localStorage.getItem('beacon:communication-peers-wallet');\n    let newPublicKey = true;\n    if (peersJson) {\n      const peers = JSON.parse(peersJson);\n      if (peers && peers.length > 0 && pairInfo.publicKey) {\n        for (const peer of peers) {\n          if (peer.publicKey && peer.publicKey === pairInfo.publicKey) {\n            newPublicKey = false;\n            console.log('Existing public key found!');\n            break;\n          }\n        }\n      }\n    }\n    return newPublicKey;\n  }\n  async addPeer(pairInfoJson: string, force = true) {\n    const pairInfo = JSON.parse(pairInfoJson);\n    console.log('PairInfo', pairInfo);\n    await this.client.addPeer(pairInfo, force);\n    this.syncBeaconState();\n    this.messageService.removeBeaconMsg();\n    if (pairInfo.icon && pairInfo.icon.startsWith('https://')) {\n      this.cacheIcon(pairInfo);\n    }\n  }\n  async cacheIcon(pairInfo: any) {\n    const key = 'beacon:communication-peers-wallet';\n    const asset: Asset = pairInfo.icon;\n    const json = localStorage.getItem(key);\n    if (!json || !asset) {\n      return;\n    }\n    const peers = JSON.parse(json);\n    if (peers) {\n      for (const peer of peers) {\n        if (peer.icon === pairInfo.icon) {\n          peer.cachedIcon = asset;\n          break;\n        }\n      }\n      localStorage.setItem(key, JSON.stringify(peers));\n      this.syncBeaconState();\n    }\n  }\n  async syncBeaconState() {\n    this.peers = await this.getPeers();\n    this.permissions = await this.getPermissions();\n  }\n  async removePeers() {\n    while (this.peers.length > 0) {\n      await this.removePeer(0);\n    }\n  }\n  async removePeer(index: number) {\n    const pairInfo: P2PPairingRequest = this.peers[index];\n    const senderId = await getSenderId(pairInfo.publicKey);\n    const peerResponse: ExtendedP2PPairingResponse = {\n      ...pairInfo,\n      type: 'p2p-pairing-response',\n      senderId\n    };\n    await this.client.removePeer(peerResponse);\n    await this.client.removeAppMetadata(senderId);\n    this.syncBeaconState();\n  }\n  async removePermissions() {\n    await this.client.removeAllPermissions();\n    this.syncBeaconState();\n  }\n  async removePermission(index: number) {\n    await this.client.removePermission(this.permissions[index].accountIdentifier);\n    this.syncBeaconState();\n  }\n  async getPeers(): Promise<any> {\n    return await this.client.getPeers();\n  }\n  async getPermissions(): Promise<any> {\n    return await this.client.getPermissions();\n  }\n  async getAppMetadataList(): Promise<any> {\n    return await this.client.getAppMetadataList();\n  }\n  async rejectOnPermission(message: any) {\n    await this.respondWithError(BeaconErrorType.NOT_GRANTED_ERROR, message);\n  }\n  async rejectOnNetwork(message: any) {\n    await this.respondWithError(BeaconErrorType.NETWORK_NOT_SUPPORTED, message);\n  }\n  async rejectOnUserAbort(message: any) {\n    await this.respondWithError(BeaconErrorType.ABORTED_ERROR, message);\n  }\n  async rejectOnSourceAddress(message: any) {\n    await this.respondWithError(BeaconErrorType.NO_PRIVATE_KEY_FOUND_ERROR, message);\n  }\n  async rejectOnTooManyOps(message: any) {\n    await this.respondWithError(BeaconErrorType.TOO_MANY_OPERATIONS, message);\n  }\n  async rejectOnUnknown(message: any) {\n    await this.respondWithError(BeaconErrorType.UNKNOWN_ERROR, message);\n  }\n  async rejectOnParameters(message: any) {\n    await this.respondWithError(BeaconErrorType.PARAMETERS_INVALID_ERROR, message);\n  }\n  async rejectOnBroadcastError(message: any) {\n    await this.respondWithError(BeaconErrorType.BROADCAST_ERROR, message);\n  }\n  async respondWithError(errorType: BeaconErrorType, requestMessage: any) {\n    if (requestMessage) {\n      const response: ErrorResponse = {\n        type: BeaconMessageType.Error,\n        errorType,\n        version: BEACON_VERSION,\n        id: requestMessage.id,\n        senderId: await this.client.beaconId\n      };\n      await this.client.respond(response);\n    }\n  }\n  async approvePermissionRequest(message: any, publicKey: string) {\n    const response: PermissionResponseInput = {\n      type: BeaconMessageType.PermissionResponse,\n      network: message.network,\n      scopes: message.scopes,\n      id: message.id,\n      publicKey: publicKey\n    };\n    await this.client.respond(response);\n  }\n  async approveSignPayloadRequest(message: any, signature: string) {\n    const response: SignPayloadResponseInput = {\n      type: BeaconMessageType.SignPayloadResponse,\n      id: message.id,\n      signingType: message.signingType,\n      signature\n    };\n    await this.client.respond(response);\n  }\n  async responseSync() {\n    localStorage.setItem('beacon:request-response', 'true');\n    localStorage.removeItem('beacon:request-response');\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ChartSeries } from '../../../app/components/ui/chart/chart.component';\nimport { SwapLiquidityService } from '../swap-liquidity/swap-liquidity.service';\n\nexport enum ChartTitle {\n  XTZtzBTC = 'XTZ/tzBTC',\n  tzBTCXTZ = 'tzBTC/XTZ',\n  totalValueLocked = 'Total Value Locked'\n}\n\nlet width, height, gradient;\nfunction getGradientBackground(ctx, chartArea) {\n  const style = getComputedStyle(document.body);\n  const theme = style.getPropertyValue('--theme').replace(/[ \\\"]/g, '');\n  const chartWidth = chartArea.right - chartArea.left;\n  const chartHeight = chartArea.bottom - chartArea.top;\n  if (gradient === null || width !== chartWidth || height !== chartHeight) {\n    width = chartWidth;\n    height = chartHeight;\n    gradient = ctx.createLinearGradient(0, chartArea.bottom, 0, chartArea.top);\n    if (theme === 'dark') {\n      gradient.addColorStop(1, '#383d7d');\n      gradient.addColorStop(0.5, '#2e304f');\n      gradient.addColorStop(0, '#2a2c3f');\n    } else {\n      gradient.addColorStop(1, '#c2c5fc');\n      gradient.addColorStop(0.5, '#e0e1fb');\n      gradient.addColorStop(0, '#e8eafb');\n    }\n  }\n\n  return gradient;\n}\n\n@Injectable({ providedIn: 'root' })\nexport class ChartService {\n  ChartTitle = ChartTitle;\n  stats = null;\n  constructor(private swapLiquidityService: SwapLiquidityService) {}\n\n  async fetchLBGraphData(series: ChartSeries = ChartSeries.day): Promise<{ labels: any[]; datasets: any[] }> {\n    let tzbtc = await this.fetchHistoricalQuotesByContract(this.swapLiquidityService.tzBTCContract + '_0', series);\n    let stats = (this.stats = !this.stats ? await this.fetchHistoricalStatsByContract(this.swapLiquidityService.lqdContract, series) : this.stats);\n    let interval = 1000 * 60 * 60 * 24;\n    const a = [];\n    const b = [];\n    const d = [];\n    const labels = [];\n    let now = new Date().getTime();\n    if (series === ChartSeries.month) {\n      interval = 1000 * 60 * 60 * 24;\n      tzbtc = tzbtc.slice(0, 32);\n      stats = stats.slice(0, 32);\n    } else if (series === ChartSeries.day) {\n      interval = 1000 * 60 * 60;\n      tzbtc = tzbtc.slice(0, 25);\n      stats = stats.slice(0, 25);\n    } else if (series === ChartSeries.week) {\n      interval = 1000 * 60 * 60 * 4;\n      tzbtc = tzbtc.slice(0, 7 * 24).filter((e, i) => i % 4 === 0);\n      stats = stats.slice(0, 7 * 24).filter((e, i) => i % 4 === 0);\n    } else if (series === ChartSeries.year) {\n      interval = 1000 * 60 * 60 * 24 * 31;\n      tzbtc = tzbtc.slice(0, 365).filter((e, i) => i % 31 === 0);\n      stats = stats.slice(0, 365).filter((e, i) => i % 31 === 0);\n    }\n    tzbtc = tzbtc.reverse();\n    stats = stats.reverse();\n    for (let i = 0; i < tzbtc.length; ++i) {\n      a.push(1 / parseFloat(tzbtc[i].close));\n      b.push(parseFloat(tzbtc[i].close));\n      if (stats[i]?.tvlUsd) {\n        d.push(parseFloat(stats[i].tvlUsd));\n      }\n      const c = new Date((now -= interval));\n      if (series === ChartSeries.month) {\n        labels.push(c.toLocaleString('en-US', { month: 'short' }) + ' ' + c.getDate());\n      } else if (series === ChartSeries.day) {\n        labels.push('' + c.getHours() + ':00');\n      } else if (series === ChartSeries.week) {\n        labels.push(c.toLocaleString('en-US', { month: 'short' }) + ' ' + c.getDate() + ' ' + (c.getHours() + 1) + ':00');\n      } else if (series === ChartSeries.year) {\n        labels.push(c.toLocaleString('en-US', { month: 'short' }) + ' ' + c.getDate());\n      }\n    }\n    const defaultDatasetValues = {\n      hidden: true,\n      backgroundColor: function (context) {\n        const chart = context.chart;\n        const { ctx, chartArea } = chart;\n\n        if (!chartArea) {\n          return null;\n        }\n        return getGradientBackground(ctx, chartArea);\n      },\n      borderColor: '#5963ff88',\n      borderRadius: 1,\n      borderWidth: 3,\n      pointBorderWidth: 0,\n      pointBackgroundColor: '#5963ff88',\n      pointBorderColor: '#5963ff88',\n      pointRadius: 0,\n      pointHoverBorderWidth: 6,\n      pointHoverColor: '#5963ff88',\n      pointHitRadius: 6,\n      fill: true\n    };\n    const datasets = [\n      {\n        label: ChartTitle.XTZtzBTC,\n        data: a,\n        ...defaultDatasetValues\n      },\n      {\n        label: ChartTitle.tzBTCXTZ,\n        data: b,\n        ...defaultDatasetValues\n      },\n      {\n        label: ChartTitle.totalValueLocked,\n        data: d,\n        ...defaultDatasetValues\n      }\n    ];\n    return { datasets, labels: labels.reverse() };\n  }\n\n  async fetchHistoricalQuotesByContract(\n    contract: string = 'KT1TxqZ8QtKvLu3V3JH7Gx58n7Co8pgtpQU5',\n    series: ChartSeries = ChartSeries.day,\n    offset: number = 0\n  ): Promise<any> {\n    const baseUrl = `https://dex.dipdup.net/v1/graphql`;\n    let req;\n    if (series === ChartSeries.month || series === ChartSeries.year) {\n      req = {\n        query: `{quotes1d(offset: ${offset} limit: 100 where: {exchangeId:{_eq: \"${this.swapLiquidityService.lqdContract}\"} tokenId: {_eq: \"${contract}\"}, close: {_is_null: false}}) { close }}`\n      };\n    } else if (series === ChartSeries.day || series === ChartSeries.week) {\n      req = {\n        query: `{quotes1h(offset: ${offset} limit: 100 where: {exchangeId:{_eq: \"${this.swapLiquidityService.lqdContract}\"} tokenId: {_eq: \"${contract}\"}, close: {_is_null: false}}) { close }}`\n      };\n    }\n    try {\n      let result = await (\n        await fetch(baseUrl, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(req)\n        })\n      ).json();\n      if (series === ChartSeries.week) {\n        if (result.data?.quotes1h.length === 100) {\n          result = result?.data?.quotes1h;\n          offset += 100;\n          return result.concat(await this.fetchHistoricalQuotesByContract(this.swapLiquidityService.tzBTCContract + '_0', series, offset));\n        } else {\n          return result?.data?.quotes1h;\n        }\n      }\n      if (series === ChartSeries.month) {\n        return result?.data?.quotes1d;\n      } else if (series === ChartSeries.day) {\n        return result?.data?.quotes1h;\n      } else if (series === ChartSeries.year) {\n        if (result.data?.quotes1d.length === 100) {\n          result = result?.data?.quotes1d;\n          offset += 100;\n          return result.concat(await this.fetchHistoricalQuotesByContract(this.swapLiquidityService.tzBTCContract + '_0', series, offset));\n        } else {\n          return result?.data?.quotes1d;\n        }\n      }\n    } catch (e) {\n      return [];\n    }\n  }\n\n  async fetchHistoricalStatsByContract(\n    contract: string = 'KT1TxqZ8QtKvLu3V3JH7Gx58n7Co8pgtpQU5',\n    series: string = 'day',\n    offset: number = 0\n  ): Promise<Array<any>> {\n    const baseUrl = `https://dex.dipdup.net/v1/graphql`;\n    let req;\n    if (series === 'day') {\n      req = {\n        query: `{  stats1d(\n        where: {exchangeId: {_eq: \"${contract}\"}, bucket: {_is_null: false}, tvlUsd: {_is_null: false}}\n      ) {\n        bucket\n        exchangeId\n        interactions\n        sharePx\n        sharePxBtc\n        sharePxUsd\n        tvl\n        tvlBtc\n        tvlUsd\n        users\n      }}`\n      };\n    } else if (series === 'week') {\n      req = {\n        query: `{  stats1d(\n        where: {exchangeId: {_eq: \"${contract}\"}, bucket: {_is_null: false}, tvlUsd: {_is_null: false}}\n      ) {\n        bucket\n        exchangeId\n        interactions\n        sharePx\n        sharePxBtc\n        sharePxUsd\n        tvl\n        tvlBtc\n        tvlUsd\n        users\n      }}`\n      };\n    } else if (series === 'month') {\n      req = {\n        query: `{  stats1d(\n        where: {exchangeId: {_eq: \"${contract}\"}, bucket: {_is_null: false}, tvlUsd: {_is_null: false}}\n      ) {\n        bucket\n        exchangeId\n        interactions\n        sharePx\n        sharePxBtc\n        sharePxUsd\n        tvl\n        tvlBtc\n        tvlUsd\n        users\n      }}`\n      };\n    } else if (series === 'year') {\n      req = {\n        query: `{  stats1d(\n        where: {exchangeId: {_eq: \"${contract}\"}, bucket: {_is_null: false}, tvlUsd: {_is_null: false}}\n      ) {\n        bucket\n        exchangeId\n        interactions\n        sharePx\n        sharePxBtc\n        sharePxUsd\n        tvl\n        tvlBtc\n        tvlUsd\n        users\n      }}`\n      };\n    }\n    try {\n      let result = await (\n        await fetch(baseUrl, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(req)\n        })\n      ).json();\n      if (series === ChartSeries.week) {\n        if (result.data?.stats1d.length === 100) {\n          result = result?.data?.stats1d;\n          offset += 100;\n          return result.concat(await this.fetchHistoricalStatsByContract(this.swapLiquidityService.tzBTCContract + '_0', series, offset));\n        } else {\n          return result?.data?.stats1d;\n        }\n      }\n      if (series === ChartSeries.month) {\n        return result?.data?.stats1d;\n      } else if (series === ChartSeries.day) {\n        return result?.data?.stats1d;\n      } else if (series === ChartSeries.year) {\n        return result?.data?.stats1d;\n      }\n    } catch {\n      return [];\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HubConnectionBuilder } from '@microsoft/signalr';\nimport { CONSTANTS } from '../../../../environments/environment';\nimport { WalletService } from '../../wallet/wallet.service';\nimport { Account, OpStatus } from '../../wallet/wallet';\nimport { ActivityService } from '../../activity/activity.service';\nimport { OperationService } from '../../operation/operation.service';\nimport { BalanceService } from '../../balance/balance.service';\nimport { DelegateService } from '../../delegate/delegate.service';\nimport { timeout } from 'rxjs/operators';\nimport { of } from 'rxjs';\n@Injectable({\n  providedIn: 'root'\n})\nexport class SignalService {\n  connection: any = null;\n  constructor(\n    private walletService: WalletService,\n    private activityService: ActivityService,\n    private operationService: OperationService,\n    private balanceService: BalanceService,\n    private delegateService: DelegateService\n  ) {\n    this.init();\n  }\n  async init() {\n    this.connection = new HubConnectionBuilder().withUrl(`https://api.${CONSTANTS.NETWORK}.tzkt.io/v1/events`).build();\n    this.connection.on('operations', (msg) => {\n      for (const op of msg.data) {\n        if (op?.status === 'applied') {\n          console.log('%csignalR msg', 'color: green;', op);\n          const sender: string = op?.sender?.address ?? '';\n          const target: string = op?.target?.address ?? '';\n          const opHash: string = op?.hash ?? '';\n          const invoke: boolean = !!op?.parameter;\n          this.confirmStatus(opHash, sender, op.timestamp, invoke);\n          this.confirmStatus(opHash, target, op.timestamp, invoke);\n        }\n      }\n    });\n    this.connection.onclose(async () => {\n      await this.start();\n    });\n    this.start();\n  }\n  confirmStatus(opHash: string, address: string, timestamp: string, invoke: boolean) {\n    if (opHash && address && this.walletService.wallet) {\n      if (this.walletService.wallet) {\n        const account: Account = this.walletService.wallet.getAccount(address);\n        if (account) {\n          for (let i in account.activities) {\n            if (account.activities[i].hash === opHash && account.activities[i].status === OpStatus.UNCONFIRMED) {\n              account.activities[i].timestamp = new Date(timestamp).getTime();\n              if (invoke) {\n                account.activities[i].status = OpStatus.HALF_CONFIRMED;\n              } else {\n                account.activities[i].status = OpStatus.CONFIRMED;\n                this.activityService.promptNewActivities(account, [], [account.activities[i]]);\n                this.updateAccountData(address);\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n  updateAccountData(pkh: string) {\n    this.operationService.getAccount(pkh).subscribe((ans: any) => {\n      if (ans.success) {\n        this.balanceService.updateAccountBalance(this.walletService.wallet?.getAccount(pkh), Number(ans.payload.balance));\n        const acc = this.walletService.wallet?.getAccount(pkh);\n        this.delegateService.handleDelegateResponse(acc, ans.payload.delegate);\n      } else {\n      }\n    });\n  }\n\n  async start() {\n    try {\n      if (!!this.connection?.start) {\n        await this.connection?.start();\n        console.log('%cSignalR Connected!', 'color:green;');\n      } else {\n        setTimeout(() => {\n          this.start();\n        }, 5000);\n      }\n    } catch (err) {\n      console.log(err);\n      setTimeout(() => {\n        this.start();\n      }, 5000);\n    }\n  }\n\n  async subscribeToAccount(address: string) {\n    console.log('Listen to: ' + address);\n    await this.connection.invoke('SubscribeToOperations', {\n      address,\n      types: 'transaction,delegation,origination'\n    });\n  }\n  ngOnDestroy(): void {\n    try {\n      this.connection.stop();\n      console.log('%cSignalR Disconnected!', 'color:red;');\n    } catch (e) {}\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ActivityService } from '../activity/activity.service';\nimport { TzrateService } from '../tzrate/tzrate.service';\nimport { BalanceService } from '../balance/balance.service';\nimport { WalletService } from '../wallet/wallet.service';\nimport { DelegateService } from '../delegate/delegate.service';\nimport { OperationService } from '../operation/operation.service';\nimport { Account, OpStatus } from '../wallet/wallet';\nimport Big from 'big.js';\nimport { TokenService } from '../token/token.service';\nimport { LookupService } from '../lookup/lookup.service';\nimport { CONSTANTS } from '../../../environments/environment';\nimport { SubjectService } from '../subject/subject.service';\nimport { TeztoolsService } from '../indexer/teztools/teztools.service';\nimport { interval } from 'rxjs';\nimport { SignalService } from '../indexer/signal/signal.service';\nimport { UnlockableService } from '../unlockable/unlockable.service';\n\nexport interface ScheduleData {\n  pkh: string;\n  state: State;\n  interval: any;\n  stateCounter: number;\n}\nenum State {\n  UpToDate,\n  Wait,\n  Updating\n}\n\n@Injectable()\nexport class CoordinatorService {\n  scheduler: Map<string, any> = new Map<string, any>(); // pkh + delay\n  defaultDelayActivity = CONSTANTS.MAINNET ? 60000 : 30000; // 60/30s\n  shortDelayActivity = 5000; // 5s\n  longDelayActivity = 120000; // 2m\n  defaultDelayPrice = 300000; // 5m\n  tzrateInterval: any;\n  accounts: Account[];\n  constructor(\n    private activityService: ActivityService,\n    private tzrateService: TzrateService,\n    private walletService: WalletService,\n    private balanceService: BalanceService,\n    private delegateService: DelegateService,\n    private operationService: OperationService,\n    private tokenService: TokenService,\n    private teztoolsService: TeztoolsService,\n    private lookupService: LookupService,\n    private subjectService: SubjectService,\n    private signalService: SignalService,\n    private unlockableService: UnlockableService\n  ) {\n    this.subjectService.logout.subscribe((o) => {\n      if (!!o) {\n        this.stopAll();\n      }\n    });\n    this.subjectService.activeAccount.subscribe((activeAccount) => {\n      if (this.walletService.wallet) {\n        this.accounts = this.walletService.wallet.getAccounts();\n        this.accounts.forEach(({ address }) => {\n          if (address === activeAccount?.address) {\n            this.start(activeAccount.address, this.defaultDelayActivity);\n          } else {\n            this.start(address, this.longDelayActivity);\n          }\n        });\n        this.startXTZ();\n      }\n    });\n  }\n  startXTZ() {\n    if (!this.tzrateInterval) {\n      console.log('Start scheduler XTZ');\n      const update = () => {\n        this.tzrateService.getTzrate();\n        this.teztoolsService.getMarkets();\n        this.lookupService.recheckWalletAddresses(true);\n      };\n      this.tzrateInterval = interval(this.defaultDelayPrice).subscribe(() => update());\n      update();\n    }\n  }\n  async start(pkh: string, delay: number) {\n    this.unlockableService.restoreFeatures();\n    if (pkh && !this.scheduler.get(pkh)) {\n      this.accounts = this.walletService.wallet.getAccounts();\n      console.log('Start scheduler ' + this.scheduler.size + ' ' + pkh);\n      const scheduleData: ScheduleData = {\n        pkh: pkh,\n        state: State.UpToDate,\n        interval: interval(this.defaultDelayActivity).subscribe(() => this.update(pkh)),\n        stateCounter: 0\n      };\n      this.scheduler.set(pkh, scheduleData);\n      this.update(pkh);\n      this.updateAccountData(pkh);\n    } else if (pkh && this.scheduler.get(pkh)) {\n      this.setDelay(pkh, delay);\n    }\n  }\n  async boost(pkh: string, metadata: any = null) {\n    // Expect action\n    console.log('boost ' + pkh);\n    if (this.walletService.addressExists(pkh)) {\n      if (metadata) {\n        this.addUnconfirmedOperations(pkh, metadata);\n      }\n      if (!this.scheduler.get(pkh)) {\n        await this.start(pkh, this.defaultDelayActivity);\n      }\n      this.signalService.subscribeToAccount(pkh);\n      if (this.scheduler.get(pkh).state !== State.Wait) {\n        this.changeState(pkh, State.Wait);\n        this.update(pkh);\n        const counter = this.scheduler.get(pkh).stateCounter;\n        setTimeout(() => {\n          // Failsafe\n          if (this.scheduler?.size && this.scheduler.get(pkh).stateCounter === counter) {\n            console.log('Timeout from wait state');\n            this.changeState(pkh, State.UpToDate);\n          }\n        }, 150000);\n      }\n    }\n  }\n  async update(pkh) {\n    this.setDelay(pkh, this.defaultDelayActivity);\n    this.activityService.updateTransactions(pkh).subscribe(\n      (ans: any) => {\n        switch (this.scheduler.get(pkh) ? this.scheduler.get(pkh).state : -1) {\n          case State.UpToDate: {\n            if (!ans.upToDate) {\n              this.changeState(pkh, State.Updating);\n            } else if (ans?.balance) {\n              const balance = this.walletService.wallet?.getAccount(pkh).balanceXTZ;\n              if (balance !== ans.balance) {\n                console.log('recheck balance');\n                this.updateAccountData(pkh);\n              }\n            }\n            break;\n          }\n          case State.Wait: {\n            if (!ans.upToDate) {\n              this.changeState(pkh, State.Updating);\n            } else {\n              this.setDelay(pkh, this.shortDelayActivity);\n            }\n            break;\n          }\n          case State.Updating: {\n            if (ans.upToDate) {\n              this.changeState(pkh, State.UpToDate);\n            } else {\n              this.setDelay(pkh, this.shortDelayActivity);\n            }\n            break;\n          }\n          default: {\n            console.log('No state found!');\n            break;\n          }\n        }\n        const acc = this.walletService.wallet?.getAccount(pkh);\n        if (acc?.activities?.length) {\n          const latestActivity = acc.activities[0];\n          if (latestActivity.status === OpStatus.UNCONFIRMED) {\n            const age = new Date().getTime() - new Date(latestActivity.timestamp).getTime();\n            if (age > 1800000) {\n              // 30m\n              acc.activities.shift();\n              this.walletService.storeWallet();\n            }\n          }\n        }\n      },\n      (err) => {\n        console.log('Error in update()');\n        console.error(err);\n      },\n      () => {\n        console.log(\n          `account[${this.accounts.findIndex((a) => a.address === pkh)}][${\n            typeof this.scheduler.get(pkh)?.state !== 'undefined' ? this.scheduler.get(pkh).state : '*'\n          }]: <<`\n        );\n      }\n    );\n  }\n  changeState(pkh: string, newState: State) {\n    const scheduleData: ScheduleData = this.scheduler.get(pkh);\n    scheduleData.state = newState;\n    if (newState === State.UpToDate || newState === State.Updating) {\n      this.updateAccountData(pkh);\n    }\n    if (newState === State.Wait || newState === State.Updating) {\n      scheduleData.interval.unsubscribe();\n      scheduleData.interval = interval(this.shortDelayActivity).subscribe(() => this.update(pkh));\n    }\n    scheduleData.stateCounter++;\n    this.scheduler.set(pkh, scheduleData);\n  }\n  setDelay(pkh: string, time: number) {\n    const scheduleData: ScheduleData = this.scheduler.get(pkh);\n    if (scheduleData.interval) {\n      scheduleData.interval.unsubscribe();\n    }\n    scheduleData.interval = interval(time).subscribe(() => this.update(pkh));\n    this.scheduler.set(pkh, scheduleData);\n  }\n  stopAll() {\n    if (this.walletService.wallet) {\n      if (this.accounts?.length) {\n        console.log('Stop all schedulers');\n        for (const account of this.accounts) {\n          this.stop(account.address);\n        }\n      }\n      if (this.tzrateInterval) {\n        this.tzrateInterval.unsubscribe();\n        this.tzrateInterval = null;\n      }\n    }\n  }\n  async stop(pkh) {\n    console.log('Stop scheduler ' + this.accounts.findIndex((a) => a.address === pkh));\n    if (this.scheduler.get(pkh)) {\n      this.scheduler.get(pkh).interval.unsubscribe();\n      this.scheduler.get(pkh).interval = null;\n      this.scheduler.delete(pkh);\n    }\n  }\n  updateAccountData(pkh: string) {\n    // Maybe also check for originations to account?\n    console.log('update account data for ' + pkh);\n    this.operationService.getAccount(pkh).subscribe((ans: any) => {\n      if (ans.success) {\n        this.balanceService.updateAccountBalance(this.walletService.wallet?.getAccount(pkh), Number(ans.payload.balance));\n        const acc = this.walletService.wallet?.getAccount(pkh);\n        this.delegateService.handleDelegateResponse(acc, ans.payload.delegate);\n      } else {\n        console.log('updateAccountData -> getAccount failed ', ans.payload.msg);\n      }\n    });\n  }\n  addUnconfirmedOperations(from: string, metadata: any) {\n    if (metadata.transactions) {\n      console.log('Unconfirmed transactions:');\n      console.log(metadata.transactions);\n      const decimals =\n        metadata.tokenTransfer && this.tokenService.getAsset(metadata.tokenTransfer) ? this.tokenService.getAsset(metadata.tokenTransfer).decimals : 6;\n      for (const op of metadata.transactions) {\n        const transaction = {\n          type: 'transaction',\n          status: OpStatus.UNCONFIRMED,\n          amount: Big(op.amount)\n            .times(10 ** decimals)\n            .toString(),\n          fee: null,\n          source: { address: from },\n          destination: { address: op.destination },\n          hash: metadata.opHash,\n          block: null,\n          timestamp: new Date().getTime(),\n          tokenId: metadata.tokenTransfer ? metadata.tokenTransfer : undefined,\n          entrypoint: op.parameters?.entrypoint ? op.parameters.entrypoint : ''\n        };\n        let account = this.walletService.wallet?.getAccount(from);\n        account.activities.unshift(transaction);\n        account = this.walletService.wallet?.getAccount(op.destination);\n        if (account) {\n          account.activities.unshift({ ...transaction });\n        }\n      }\n    } else if (metadata.delegate !== undefined) {\n      const delegation = {\n        type: 'delegation',\n        status: OpStatus.UNCONFIRMED,\n        amount: null,\n        fee: null,\n        source: { address: from },\n        destination: { address: metadata.delegate },\n        hash: metadata.opHash,\n        block: null,\n        timestamp: new Date().getTime()\n      };\n      const account = this.walletService.wallet?.getAccount(from);\n      account?.activities.unshift(delegation);\n    } else if (metadata.origination !== undefined) {\n      const origination = {\n        type: 'origination',\n        status: OpStatus.UNCONFIRMED,\n        amount: metadata.origination.balance,\n        fee: null,\n        source: { address: from },\n        destination: { address: metadata.kt1 },\n        hash: metadata.opHash,\n        block: null,\n        timestamp: new Date().getTime()\n      };\n      const account = this.walletService.wallet?.getAccount(from);\n      account?.activities.unshift(origination);\n    } else {\n      console.log('Unknown metadata', metadata);\n    }\n    this.walletService.storeWallet();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Params } from '@angular/router';\nimport { OperationService } from '../operation/operation.service';\nimport { WalletService } from '../../services/wallet/wallet.service';\nimport { MessageService } from '../../services/message/message.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DeeplinkService {\n  private pairingJson = '';\n  constructor(private operationService: OperationService, private walletService: WalletService, private messageService: MessageService) {}\n  set(params: Params) {\n    console.log(params);\n    this.pairingJson = this.extractPairingJson(params);\n    if (this.pairingJson && !this.walletService.wallet) {\n      this.messageService.addWarning('Access your wallet to complete the pairing');\n    }\n    console.log(this.pairingJson);\n  }\n  extractPairingJson(params: Params): string {\n    if (params.type === 'tzip10' && params.data) {\n      try {\n        return this.operationService.b58cdecode(params.data, '').toString();\n      } catch (e) {\n        return '';\n      }\n    }\n    return '';\n  }\n  popPairingJson(): string {\n    const pairingJson = this.pairingJson;\n    this.pairingJson = '';\n    return pairingJson;\n  }\n  QRtoPairingJson(qrPayload: string): string {\n    if (qrPayload.length > 26 && qrPayload.slice(0, 26) === 'tezos://?type=tzip10&data=') {\n      qrPayload = qrPayload.slice(26);\n    }\n    try {\n      return this.operationService.b58cdecode(qrPayload, '').toString();\n    } catch {}\n    return '';\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { WalletService } from '../wallet/wallet.service';\nimport { OperationService } from '../operation/operation.service';\nimport { Account } from '../wallet/wallet';\nimport { CONSTANTS } from '../../../environments/environment';\nimport { BehaviorSubject } from 'rxjs';\nimport { take } from 'rxjs/operators';\nimport { Router } from '@angular/router';\nimport { Location } from '@angular/common';\n\n@Injectable()\nexport class DelegateService {\n  private readonly network = CONSTANTS.NETWORK.replace('edonet', 'edo2net');\n  public readonly bcd = 'https://api.baking-bad.org/v2';\n  public readonly tzkt = `https://staging.api.${this.network}.tzkt.io/v1`;\n  public delegates = new BehaviorSubject<any>([]);\n\n  constructor(private walletService: WalletService, private operationService: OperationService, public router: Router, private location: Location) {\n    const path = this.location.path();\n    const embedded = path.startsWith('/embedded');\n    if (!embedded) {\n      this.getDelegates();\n    }\n  }\n  getDelegate(account: Account) {\n    this.operationService.getDelegate(account.address).subscribe(\n      (data: any) => {\n        if (data.success) {\n          this.handleDelegateResponse(account, data.payload.delegate);\n        }\n      },\n      (err) => console.log(JSON.stringify(err))\n    );\n  }\n  handleDelegateResponse(account: Account, data: any) {\n    if (data) {\n      if (account.delegate !== data) {\n        account.delegate = data;\n        this.walletService.storeWallet();\n      } else {\n        console.log('delegate for ' + account.address + ' up to date');\n      }\n    } else {\n      if (account.delegate !== '') {\n        account.delegate = '';\n        this.walletService.storeWallet();\n      }\n    }\n  }\n  getDelegates(): void {\n    fetch(`${this.bcd}/bakers`)\n      .then((response) => response.json())\n      .then((d) => this.delegates.next(d));\n  }\n\n  resolveDelegateByAddress(address: string): Promise<any> {\n    return new Promise((resolve) => {\n      this.delegates.pipe(take(1)).subscribe((d) => resolve(d?.find((d) => d?.address === address)));\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport * as pbkdf2 from 'pbkdf2';\nimport * as AES from 'aes-js';\nimport * as scrypt from 'scryptsy';\nimport * as cryptob from 'crypto-browserify';\nimport * as forge from 'node-forge';\ndeclare const Buffer;\n@Injectable()\nexport class EncryptionService {\n  constructor() {}\n  async encrypt(plaintext: any, password: string, version: number, salt: string = null): Promise<any> {\n    if (version === 1) {\n      throw new Error('Encryption version no longer supported');\n    } else if (version === 2) {\n      return this.encrypt_v2(plaintext, password);\n    } else if (version === 3) {\n      return this.encrypt_v2(plaintext, password, salt);\n    } else {\n      throw new Error('Unrecognized encryption format');\n    }\n  }\n  async decrypt(chiphertext: string, password: string, salt: string, version: number): Promise<any> {\n    if (version === 1) {\n      return this.decrypt_v1(chiphertext, password, salt);\n    } else if (version === 2 || version === 3) {\n      return this.decrypt_v2(chiphertext, password, salt);\n    } else {\n      throw new Error('Unrecognized encryption format');\n    }\n  }\n  // Version 1\n  async encrypt_v1(plaintext: any, password: string, salt: string): Promise<string> {\n    return new Promise((resolve) => {\n      try {\n        if (!password || !salt) {\n          throw new Error('Missing password or salt');\n        }\n        pbkdf2.pbkdf2(password, salt, 10000, 32, 'sha512', (err, key) => {\n          if (err) {\n            throw err;\n          }\n          const aesCtr = new AES.ModeOfOperation.ctr(key);\n          let chiphertext = aesCtr.encrypt(plaintext);\n          chiphertext = AES.utils.hex.fromBytes(chiphertext);\n          resolve(chiphertext);\n        });\n      } catch (e) {\n        console.warn(e);\n        resolve('');\n      }\n    });\n  }\n  async decrypt_v1(chiphertext: string, password: string, salt: string): Promise<any> {\n    return new Promise((resolve) => {\n      try {\n        if (!password || !salt) {\n          throw new Error('Missing password or salt');\n        }\n        pbkdf2.pbkdf2(password, salt, 10000, 32, 'sha512', (err, key) => {\n          if (err) {\n            throw err;\n          }\n          chiphertext = AES.utils.hex.toBytes(chiphertext);\n          const aesCtr = new AES.ModeOfOperation.ctr(key);\n          const plaintext = aesCtr.decrypt(chiphertext);\n          resolve(plaintext);\n        });\n      } catch (e) {\n        resolve('');\n      }\n    });\n  }\n  // Version 2\n  async encrypt_v2(plaintext: any, password: string, salt?: string): Promise<any> {\n    if (!password) {\n      throw new Error('Missing password');\n    }\n    let salty;\n    if (salt) {\n      salty = new Buffer(salt, 'hex');\n    } else {\n      salty = cryptob.randomBytes(16);\n    }\n    const key = await scrypt.async(password, salty, 65536, 8, 1, 32);\n    const cipher: any = forge.cipher.createCipher('AES-GCM', key.toString('binary'));\n    cipher.start({\n      iv: salty\n    });\n    const byteStringBuffer = forge.util.createBuffer(plaintext.toString('binary'), 'utf-8');\n    cipher.update(byteStringBuffer);\n    cipher.finish();\n    const chiphertext = cipher.output.toHex() + '==' + cipher.mode.tag.toHex();\n    return { chiphertext: chiphertext, iv: salty.toString('hex') };\n  }\n  async decrypt_v2(chipher: string, password: string, salt: string): Promise<string> {\n    try {\n      if (!password || !salt) {\n        throw new Error('Missing password or salt');\n      }\n      const parts = chipher.split('==');\n      const chiphertext = parts[0];\n      const tag = parts[1];\n      const key = await scrypt.async(password, new Buffer(salt, 'hex'), 65536, 8, 1, 32);\n      const decipher: any = forge.cipher.createDecipher('AES-GCM', key.toString('binary'));\n      decipher.start({\n        iv: new Buffer(salt, 'hex'),\n        tag: forge.util.createBuffer(new Buffer(tag, 'hex').toString('binary'), 'utf-8') // authentication tag from encryption\n      });\n      decipher.update(forge.util.createBuffer(new Buffer(chiphertext, 'hex').toString('binary'), 'utf-8'));\n      const pass = decipher.finish();\n      if (pass) {\n        return new Buffer(decipher.output.toHex(), 'hex');\n      } else {\n        return null;\n      }\n    } catch (err) {\n      return null;\n    }\n  }\n  shiftIV(salt: string, offset: number) {\n    if (!Number.isInteger(offset) || offset > 255 || offset < 1) {\n      throw new Error('Invalid offset for IV');\n    }\n    const buf = new Buffer(salt, 'hex');\n    buf[13] = (buf[13] + offset) % 256;\n    return buf.toString('hex');\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { OperationService } from '../operation/operation.service';\nimport { flatMap, catchError } from 'rxjs/operators';\nimport { of, Observable } from 'rxjs';\nimport { DefaultTransactionParams, OpLimits } from '../../interfaces';\nimport Big from 'big.js';\nimport { CONSTANTS } from '../../../environments/environment';\nimport { InputValidationService } from '../input-validation/input-validation.service';\n\nconst httpOptions = { headers: { 'Content-Type': 'application/json' } };\n@Injectable()\nexport class EstimateService {\n  readonly costPerByte = '250';\n  readonly revealGasLimit = 1000;\n  readonly contractsOverride: Record<string, OpLimits>;\n  queue = [];\n  nodeURL = CONSTANTS.NODE_URL;\n  pkh: string;\n  pk: string;\n  hash: string;\n  chainId: string;\n  manager: string;\n  counter: number;\n  constructor(private http: HttpClient, private operationService: OperationService, private imputValidationService: InputValidationService) {\n    this.contractsOverride = CONSTANTS.CONTRACT_OVERRIDES;\n  }\n  init(hash: string, chainId: string, counter: number, manager: string, pk: string, pkh: string) {\n    this.hash = hash;\n    this.chainId = chainId;\n    this.counter = counter;\n    this.manager = manager;\n    this.pk = pk;\n    this.pkh = pkh;\n  }\n  async preLoadData(pkh: string, pk: string) {\n    this.pkh = pkh;\n    this.pk = pk;\n    const [head, counter, manager] = await Promise.all([this.operationService.getHeader().toPromise(), this.getCounter(pkh), this.getManager(pkh)]);\n    if (head && counter && (manager || manager === null)) {\n      this.init(head.hash, head.chain_id, counter, manager, pk, pkh);\n    }\n  }\n  public async estimateTransactions(transactions: any, from: string, tokenTransfer: string = '', callback) {\n    this.estimate(transactions, from, tokenTransfer, callback, false);\n  }\n  public async estimateOrigination(origination: any, from: string, callback) {\n    this.estimate([origination], from, '', callback, true);\n  }\n  private async estimate(transactions: any, from: string, tokenTransfer: string = '', callback, isOrigination: boolean) {\n    this.queue.push({ transactions, from, callback });\n    if (this.queue.length === 1) {\n      while (this.queue.length > 0) {\n        while (this.queue.length > 1) {\n          this.queue[0].callback(null);\n          this.queue.shift();\n        }\n        let retry = false;\n        for (let i = 0; i < 1 || (retry && i < 2); i++) {\n          await this._estimate(this.queue[0].transactions, this.queue[0].from, tokenTransfer, isOrigination)\n            .then((res) => {\n              this.queue[0].callback(res);\n            })\n            .catch(async (error) => {\n              if (error.message && error.message === 'An operation assumed a contract counter in the past' && !retry) {\n                console.log('Update counter');\n                await this.preLoadData(this.pkh, this.pk);\n                retry = true;\n              } else {\n                this.queue[0].callback({ error });\n              }\n            });\n        }\n        this.queue.shift();\n      }\n    }\n  }\n  private async _estimate(operations: any, from: string, tokenTransfer: string, isOrigination: boolean = false): Promise<any> {\n    if (!this.hash) {\n      return null;\n    }\n    const simulation = {\n      fee: 0,\n      gasLimit: Math.min(\n        CONSTANTS.HARD_LIMITS.hard_gas_limit_per_operation,\n        Math.floor(CONSTANTS.HARD_LIMITS.hard_gas_limit_per_block / (operations.length + 1))\n      ),\n      storageLimit: CONSTANTS.HARD_LIMITS.hard_storage_limit_per_operation\n    };\n    for (const tx of operations) {\n      console.log(tx);\n      if (!isOrigination) {\n        if (!tx.amount) {\n          tx.amount = 0;\n        }\n        if (tx.destination.slice(0, 3) !== 'KT1' && !tokenTransfer) {\n          tx.amount = 0.000001;\n        }\n      }\n      tx.gasLimit = simulation.gasLimit;\n      tx.storageLimit = simulation.storageLimit;\n    }\n    if (this.hash && this.counter && (this.manager || this.manager === null)) {\n      const op = isOrigination\n        ? this.operationService.createOriginationObject(this.hash, this.counter, this.manager, operations[0], simulation.fee, this.pk, this.pkh)\n        : this.operationService.createTransactionObject(\n            this.hash,\n            this.counter,\n            this.manager,\n            operations,\n            this.pkh,\n            this.pk,\n            from,\n            simulation.fee,\n            tokenTransfer\n          );\n      const result = await this.simulate(op)\n        .toPromise()\n        .catch((e) => {\n          console.warn(e);\n          return null;\n        });\n      if (result && result.contents) {\n        let reveal = false;\n        const limits = [];\n        for (const i in result.contents) {\n          if (result.contents[i].kind === 'reveal') {\n            reveal = true;\n          } else if (['transaction', 'origination'].includes(result.contents[i].kind) && result.contents[i].metadata.operation_result.status === 'applied') {\n            const index: number = Number(i) + (result.contents[0]?.kind === 'reveal' ? -1 : 0);\n            const opObj = index > -1 ? operations[index] : null;\n            const { gas, storage } = this.getOpUsage(result.contents[i], opObj);\n            limits.push({ gasLimit: gas, storageLimit: storage });\n          } else {\n            return null;\n          }\n        }\n        return await this.operationService\n          .localForge(op)\n          .pipe(\n            flatMap((fop) => {\n              const bytes = fop.length / 2 + 64;\n              const gas = this.totalGasLimit(limits);\n              const storage = this.totalStorageLimit(limits);\n              const dtp: DefaultTransactionParams = {\n                customLimits: limits,\n                fee: this.recommendFee(limits, reveal, bytes),\n                burn: this.burnFee(limits),\n                gas,\n                storage,\n                reveal\n              };\n              console.log(JSON.stringify(dtp));\n              return of(dtp);\n            })\n          )\n          .toPromise();\n      } else if (typeof result?.success === 'boolean' && result.success === false) {\n        console.log(result);\n        throw new Error(result.payload.msg);\n      }\n    }\n    return null;\n  }\n  getOpUsage(content: any, op: any): OpLimits {\n    let gasUsage = 0;\n    let burn = Big(0);\n    if (content.source && content.source === this.pkh) {\n      burn = burn.minus(content.amount ? content.amount : '0');\n      burn = burn.minus(content.fee ? content.fee : '0');\n      burn = burn.minus(content.balance ? content.balance : '0');\n    }\n    if (content.destination && content.destination === this.pkh) {\n      burn = burn.plus(content.amount ? content.amount : '0');\n    }\n    if (content.metadata.operation_result.balance_updates) {\n      for (const balanceUpdate of content.metadata.operation_result.balance_updates) {\n        if (balanceUpdate.contract === this.pkh) {\n          burn = burn.minus(balanceUpdate.change);\n        }\n      }\n    }\n    if (content.metadata.balance_updates) {\n      for (const balanceUpdate of content.metadata.balance_updates) {\n        if (balanceUpdate.contract === this.pkh) {\n          burn = burn.minus(balanceUpdate.change);\n        }\n      }\n    }\n    gasUsage += content.metadata.operation_result.consumed_gas ? Number(content.metadata.operation_result.consumed_gas) : 0;\n    if (content.metadata.internal_operation_results) {\n      for (const internalResult of content.metadata.internal_operation_results) {\n        if (internalResult.result) {\n          if (internalResult.result.consumed_gas) {\n            gasUsage += internalResult.result && internalResult.result.consumed_gas ? Number(internalResult.result.consumed_gas) : 0;\n          }\n          if (internalResult.result.balance_updates) {\n            for (const balanceUpdate of internalResult.result.balance_updates) {\n              if (balanceUpdate.contract === this.pkh && balanceUpdate.change.slice(0, 1) === '-') {\n                burn = burn.minus(balanceUpdate.change);\n              }\n            }\n          }\n        }\n      }\n    }\n    const storageUsage = Math.round(burn / Number(this.costPerByte));\n    if (\n      gasUsage < 0 ||\n      gasUsage > CONSTANTS.HARD_LIMITS.hard_gas_limit_per_operation ||\n      storageUsage < 0 ||\n      storageUsage > CONSTANTS.HARD_LIMITS.hard_storage_limit_per_operation\n    ) {\n      throw new Error('InvalidUsageCalculation');\n    }\n    return this.getOpLimits(content, op, gasUsage, storageUsage);\n  }\n  /*\n    Need to be updated when fee market appear or default behavior for bakers changes\n  */\n  recommendFee(limits: any, reveal: boolean, bytes: number): number {\n    const minimalFee = 100;\n    const feePerByte = 1;\n    const feePerGasUnit = 0.1;\n    let gasUnits = 0;\n    let numberOfOperations = 0;\n    if (reveal) {\n      gasUnits += this.revealGasLimit;\n      numberOfOperations++;\n    }\n    for (const data of limits) {\n      gasUnits += data.gasLimit;\n      numberOfOperations++;\n    }\n    bytes += 10 * numberOfOperations; // add 10 extra bytes for variation in amount & fee\n    return Number(\n      Big(Math.ceil(minimalFee + feePerByte * bytes + feePerGasUnit * gasUnits))\n        .div(1000000)\n        .toString()\n    );\n  }\n  totalGasLimit(limits: any): number {\n    let totalGasLimit = 0;\n    for (const data of limits) {\n      totalGasLimit += data.gasLimit;\n    }\n    return totalGasLimit;\n  }\n  totalStorageLimit(limits: any): number {\n    let totalStorageLimit = 0;\n    for (const data of limits) {\n      totalStorageLimit += data.storageLimit;\n    }\n    return totalStorageLimit;\n  }\n  burnFee(limits: any): number {\n    let totalStorageLimit = Big(0);\n    for (const data of limits) {\n      totalStorageLimit = totalStorageLimit.plus(data.storageLimit);\n    }\n    return Number(Big(totalStorageLimit).times(this.costPerByte).div('1000000').toString());\n  }\n  simulate(op: any): Observable<any> {\n    op.signature = 'edsigtXomBKi5CTRf5cjATJWSyaRvhfYNHqSUGrn4SdbYRcGwQrUGjzEfQDTuqHhuA8b2d8NarZjz8TRf65WkpQmo423BtomS8Q';\n    return this.operationService\n      .postRpc('chains/main/blocks/head/helpers/scripts/run_operation', {\n        operation: op,\n        chain_id: this.chainId\n      })\n      .pipe(\n        flatMap((res) => {\n          this.operationService.checkApplied([res]);\n          return of(res);\n        })\n      )\n      .pipe(\n        catchError((err) => {\n          return this.operationService.errHandler(err);\n        })\n      );\n  }\n  private getOpLimits(content: any, op: any, gasUsage: number, storageUsage: number): OpLimits {\n    // check for hardcoded override\n    let limit: OpLimits = {};\n    const entrypoint = content?.parameters?.entrypoint;\n    const destination = content?.destination;\n    if (entrypoint && destination) {\n      const contractOverride: OpLimits = this.contractsOverride[`${destination}:${entrypoint}`];\n      if (contractOverride) {\n        limit = contractOverride;\n      }\n    }\n    // gas\n    if (!limit.gas) {\n      let gasRecommendation: number = 0;\n      if (op?.gasRecommendation) {\n        if (this.imputValidationService.gas(op.gasRecommendation)) {\n          gasRecommendation = Number(op.gasRecommendation);\n        } else if (this.imputValidationService.relativeLimit(op.gasRecommendation)) {\n          let percentage: number = Number(op.gasRecommendation.slice(1, -1));\n          percentage = Math.min(Math.max(percentage, 2), 900);\n          gasRecommendation = Math.round(gasUsage * (1 + percentage / 100));\n        }\n      }\n      const gasEstimation = Math.max(Math.ceil(gasUsage * 1.02), Math.round(gasUsage + 80));\n      limit.gas = Math.max(gasRecommendation, gasEstimation); // make sure dapps don't underestimate (ithaca side effect)\n    }\n    // storage\n    if (!limit.storage) {\n      let storageRecommendation: number = 0;\n      if (op?.storageRecommendation) {\n        if (this.imputValidationService.storage(op.storageRecommendation)) {\n          storageRecommendation = Number(op.storageRecommendation);\n        } else if (this.imputValidationService.relativeLimit(op.storageRecommendation)) {\n          const percentage: number = Number(op.storageRecommendation.slice(1, -1));\n          storageRecommendation = Math.round(storageUsage * (1 + percentage / 100));\n        }\n      }\n      const storageEstimation = Math.round(storageUsage);\n      limit.storage = Math.max(storageRecommendation, storageEstimation);\n    }\n    return limit;\n  }\n  private async getCounter(pkh: string): Promise<number> {\n    return this.operationService.getRpc(`chains/main/blocks/head/context/contracts/${pkh}/counter`).toPromise();\n  }\n  private async getManager(pkh: string): Promise<string> {\n    return this.operationService.getRpc(`chains/main/blocks/head/context/contracts/${pkh}/manager_key`).toPromise();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { TzktService } from './tzkt/tzkt.service';\nimport { WalletObject } from '../wallet/wallet';\nimport { Asset } from '../token/token.service';\n\nexport interface Indexer {\n  getContractAddresses(pkh: string): Promise<any>;\n  accountInfo(address: string, knownTokenIds: string[], init: boolean): Promise<any>;\n  getOperations(address: string, knownTokenIds: string[], wallet: WalletObject): Promise<any>;\n}\n@Injectable({\n  providedIn: 'root'\n})\nexport class IndexerService {\n  constructor(public tzktService: TzktService) {}\n  async isUsedAccount(address: string): Promise<boolean> {\n    return this.tzktService.isUsedAccount(address);\n  }\n  async getContractAddresses(address: string): Promise<any> {\n    return this.tzktService.getContractAddresses(address);\n  }\n  async accountInfo(address: string, knownTokenIds: string[] = []): Promise<any> {\n    return this.tzktService.accountInfo(address, knownTokenIds);\n  }\n  async getOperations(address: string, knownTokenIds: string[], wallet: WalletObject): Promise<any> {\n    return this.tzktService.getOperations(address, knownTokenIds, wallet);\n  }\n  async getTokenMetadata(contractAddress: string, id: string, skipTzkt = false): Promise<any> {\n    return this.tzktService.getTokenMetadata(contractAddress, id, skipTzkt);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { SubjectService } from '../../subject/subject.service';\nimport { CONSTANTS } from '../../../../environments/environment';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TeztoolsService {\n  readonly storeKey = 'teztools';\n  //public markets = new BehaviorSubject<any>([]);\n  public defiTokens = [];\n  constructor(private subjectService: SubjectService) {\n    this.rehydrate();\n  }\n  getMarkets() {\n    if (CONSTANTS.MAINNET) {\n      fetch('https://api.teztools.io/v1/prices')\n        .then((response) => response.json())\n        .then((r) => {\n          const _defiTokens = [];\n          const _markets = [];\n          for (const contract of r.contracts) {\n            const id = contract?.tokenId !== undefined ? contract.tokenId : 0;\n            if (contract?.tokenAddress) {\n              const tokenId: string = `${contract.tokenAddress}:${id}`;\n              _defiTokens.push(tokenId);\n              if (contract.usdValue && contract.tezPool) {\n                const threshold = contract.tezPool % 1 === 0 ? 100000000 : 100;\n                if (contract.tezPool > threshold) {\n                  _markets.push({\n                    tokenId,\n                    usdValue: contract.usdValue\n                  });\n                }\n              }\n            }\n          }\n          this.subjectService.markets.next(_markets);\n          this.defiTokens = _defiTokens;\n          this.store();\n        });\n    }\n  }\n  store() {\n    localStorage.setItem(\n      this.storeKey,\n      JSON.stringify({\n        defiTokens: this.defiTokens,\n        markets: this.subjectService.markets.value\n      })\n    );\n  }\n  rehydrate() {\n    const json = localStorage.getItem(this.storeKey);\n    if (json) {\n      const parsed = JSON.parse(json);\n      if (parsed) {\n        this.defiTokens = parsed.defiTokens;\n        this.subjectService.markets.next(parsed.markets);\n      }\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { CONSTANTS, MODEL_3D_WHITELIST } from '../../../../environments/environment';\nimport { Indexer } from '../indexer.service';\nimport * as cryptob from 'crypto-browserify';\nimport { WalletObject, Activity, OpStatus, Token } from '../../wallet/wallet';\nimport { TezosToolkit } from '@taquito/taquito';\nimport { Tzip12Module, tzip12 } from '@taquito/tzip12';\nimport { TezosStorageHandler } from '@taquito/tzip16';\nimport { Handler, IpfsHttpHandler, MetadataProvider } from '@taquito/tzip16';\nimport { SubjectService } from '../../subject/subject.service';\nimport Big from 'big.js';\n\ninterface TokenMetadata {\n  name: string;\n  tokenType: 'FA2' | 'FA1.2';\n  decimals: number;\n  symbol?: string;\n  description?: string;\n  artifactUri?: string;\n  displayUri?: string;\n  thumbnailUri?: string;\n  category?: string;\n  isTransferable?: boolean;\n  shouldPreferSymbol?: boolean;\n  isBooleanAmount?: boolean;\n  series?: string;\n  ttl?: number;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TzktService implements Indexer {\n  tokenBalanceCache = {};\n  readonly network = CONSTANTS.NETWORK.replace('hangzhounet', 'hangzhou2net');\n  public readonly tzkt = `https://api.${this.network}.tzkt.io/v1`;\n  readonly TZKT_TOKEN_QUERY_SIZE: number = 10000;\n  Tezos: TezosToolkit;\n  constructor(private subjectService: SubjectService) {\n    this.Tezos = new TezosToolkit(CONSTANTS.NODE_URL);\n    const customHandlers = new Map<string, Handler>([\n      ['ipfs', new IpfsHttpHandler('cloudflare-ipfs.com')],\n      ['tezos-storage', new TezosStorageHandler()]\n    ]);\n    const customMetadataProvider = new MetadataProvider(customHandlers);\n    this.Tezos.addExtension(new Tzip12Module(customMetadataProvider));\n  }\n  async getContractAddresses(pkh: string): Promise<any> {\n    return fetch(`${this.tzkt}/operations/originations?contractManager=${pkh}`)\n      .then((response) => response.json())\n      .then((data) =>\n        data\n          .map((op: any) => {\n            return op?.status === 'applied' && op?.originatedContract?.kind === 'delegator_contract' ? op.originatedContract.address : '';\n          })\n          .filter((address: string) => address.length)\n      );\n  }\n  async getHashAndBlockById(transactionId: number, ops: any): Promise<any> {\n    try {\n      for (const op of ops) {\n        if (op.type === 'transaction' && op.id === transactionId) {\n          if (op.hash && op.block) {\n            return { hash: op.hash, block: op.block };\n          }\n          break;\n        }\n      }\n    } catch (e) {\n      console.error(e);\n    }\n    return fetch(`${this.tzkt}/operations/transactions?id=${transactionId}`)\n      .then((res) => {\n        return res.json();\n      })\n      .then((o) => {\n        return o?.length && o[0].hash && o[0].block ? { hash: o[0].hash, block: o[0].block } : '';\n      });\n  }\n  async accountInfo(address: string, knownTokenIds: string[]): Promise<any> {\n    const unknownTokenIds = [];\n    const data = await (await fetch(`${this.tzkt}/accounts/${address}`)).json();\n    const tokenBalances = address.startsWith('tz') ? await this.getAllTokenBalances(address) : [];\n    if (data) {\n      if (tokenBalances?.length) {\n        for (const token of tokenBalances) {\n          if (!knownTokenIds.includes(token.tokenId)) {\n            unknownTokenIds.push(token.tokenId);\n          }\n        }\n      }\n      tokenBalances.sort(function (a: any, b: any) {\n        if (a.tokenId < b.tokenId) {\n          return -1;\n        } else {\n          return 1;\n        }\n      });\n      const payload: string = (data.balance ? data.balance : '') + (data.counter ? data.counter : '') + (tokenBalances ? JSON.stringify(tokenBalances) : '');\n      const input = Buffer.from(payload);\n      const hash = cryptob.createHash('sha512').update(input).digest('hex');\n      if (payload && payload !== '[]') {\n        const balance = data?.balance !== undefined ? data.balance : 0;\n        return { counter: hash, unknownTokenIds, tokens: tokenBalances, balance };\n      }\n    }\n    return { counter: '', tokens: tokenBalances };\n  }\n  async isUsedAccount(address: string): Promise<boolean> {\n    const accountInfo = await (await fetch(`${this.tzkt}/accounts/${address}`)).json();\n    if (accountInfo && (accountInfo.balance || accountInfo.tokenBalancesCount)) {\n      return true;\n    } else {\n      const tokenCount = await (await fetch(`${this.tzkt}/accounts/count`)).json();\n      if (tokenCount && Object.keys(tokenCount).length > 0) {\n        return true;\n      }\n    }\n    return false;\n  }\n  async getOperations(address: string, knownTokenIds: string[], wallet: WalletObject): Promise<any> {\n    const ops = await fetch(`${this.tzkt}/accounts/${address}/operations?limit=20&type=delegation,origination,transaction`)\n      .then((response) => response.json())\n      .then((data) =>\n        data\n          .map((op) => {\n            if (!op.hasInternals || !wallet.getAccount(op.target.address)) {\n              const status: OpStatus = op.status === 'applied' ? OpStatus.CONFIRMED : OpStatus.FAILED;\n              let destination = { address: '' };\n              let amount = '0';\n              let entrypoint = '';\n              let opId = '';\n              switch (op.type) {\n                case 'transaction':\n                  if (address !== op.target.address && address !== op.sender.address) {\n                    return null;\n                  }\n                  destination = op.target;\n                  amount = op.amount.toString();\n                  entrypoint = this.extractEntrypoint(op);\n                  opId = op?.id ? `t${op.id}` : '';\n                  break;\n                case 'delegation':\n                  if (address !== op.sender.address) {\n                    return null;\n                  }\n                  destination = op.newDelegate ? op.newDelegate : { address: '' };\n                  amount = '0';\n                  opId = op?.id ? `d${op.id}` : '';\n                  break;\n                case 'origination':\n                  destination = op.originatedContract;\n                  if (op.contractBalance) {\n                    amount = op.contractBalance.toString();\n                  }\n                  opId = op?.id ? `o${op.id}` : '';\n                  break;\n                default:\n                  console.log(`Ignoring kind ${op.type}`);\n                  return null;\n              }\n              const activity: Activity = {\n                type: op.type,\n                block: op.block,\n                status,\n                amount,\n                source: op.sender,\n                destination,\n                hash: op.hash,\n                counter: op.counter,\n                timestamp: new Date(op.timestamp).getTime(),\n                entrypoint,\n                opId\n              };\n              return activity;\n            }\n          })\n          .filter((obj) => obj)\n      );\n    const unknownTokenIds: string[] = [];\n    const tokenTxs = await (await fetch(`${this.tzkt}/tokens/transfers?anyof.from.to=${address}&limit=20&offset=0&sort.desc=id`)).json();\n    const tokenArr = [];\n    for (let i = 0; i < tokenTxs.length; ++i) {\n      const tokenId = `${tokenTxs[i].token.contract.address}:${tokenTxs[i].token.tokenId}`;\n      if (tokenTxs[i].token.contract && tokenId) {\n        if (!knownTokenIds.includes(tokenId)) {\n          unknownTokenIds.push(tokenId);\n        }\n        const source: any = { address: tokenTxs[i].from?.address };\n        if (tokenTxs[i].from === '' && tokenTxs[i].token.contract) {\n          source.address = tokenTxs[i].contract.address;\n        }\n        let hash = '';\n        let block = '';\n        if (tokenTxs[i].transactionId) {\n          const o = await this.getHashAndBlockById(tokenTxs[i].transactionId, ops);\n          if (o) {\n            hash = o.hash;\n            block = o.block;\n          }\n        }\n        const activity: Activity = {\n          type: 'transaction',\n          block,\n          hash,\n          status: OpStatus.CONFIRMED,\n          amount: tokenTxs[i].amount,\n          tokenId,\n          source,\n          destination: { address: tokenTxs[i].to?.address ?? '' },\n          timestamp: new Date(tokenTxs[i].timestamp).getTime(),\n          opId: `t${tokenTxs[i].transactionId}`\n        };\n        tokenArr.push(activity);\n      }\n    }\n    let operations = tokenArr\n      .concat(ops)\n      .filter((op) => op?.entrypoint !== 'transfer' && op?.entrypoint !== 'claim')\n      .sort(function (a: any, b: any) {\n        if (b.timestamp === a.timestamp && a.opId && b.opId) {\n          return parseInt(new Big(b.opId.substring(1)).minus(a.opId.substring(1)).toString());\n        }\n        return b.timestamp - a.timestamp;\n      });\n    return { operations, unknownTokenIds };\n  }\n  private extractEntrypoint(op: any): string {\n    return op?.entrypoint ?? op?.parameter?.entrypoint ?? '';\n  }\n  async getTokenMetadata(contractAddress: string, id: string, skipTzkt: boolean): Promise<TokenMetadata> {\n    let meta;\n    let tokenType = 'FA2';\n    const tokenId = `${contractAddress}:${id}`;\n    if (this.tokenBalanceCache[tokenId]) {\n      meta = this.tokenBalanceCache[tokenId].token.metadata;\n      tokenType = this.tokenBalanceCache[tokenId].token.standard && this.tokenBalanceCache[tokenId].token.standard === 'fa1.2' ? 'FA1.2' : 'FA2';\n    }\n    if (meta) {\n      this.normalizeMetadata(meta, contractAddress, id);\n      this.filterMetadata(meta);\n    }\n    if (!(meta && (meta.name || meta.symbol) && !isNaN(meta.decimals) && meta.decimals >= 0) || skipTzkt) {\n      meta = null;\n    }\n    if (!meta) {\n      console.log('fallback on taquito', { contractAddress, id });\n      meta = await this.getTokenMetadataWithTaquito(contractAddress, id);\n      if (meta) {\n        this.normalizeMetadata(meta, contractAddress, id);\n        this.filterMetadata(meta);\n      }\n    }\n    if (!(meta && (meta.name || meta.symbol) && !isNaN(meta.decimals) && meta.decimals >= 0)) {\n      meta = null;\n    }\n    if (!meta) {\n      console.warn(`cannot find token_id ${id} for contract: ${contractAddress}`);\n      return null;\n    }\n    return { ...meta, tokenType };\n  }\n  async getTokenMetadataWithTaquito(contractAddress, id) {\n    const contract = await this.Tezos.contract.at(contractAddress, tzip12);\n    let metadata: any;\n    if (['KT1TnVQhjxeNvLutGvzwZvYtC7vKRpwPWhc6'].includes(contractAddress)) {\n      // nl hotfix\n      const contract = await this.Tezos.contract.at(contractAddress);\n      const storage: any = await contract.storage();\n      const parsed_uri = storage.token_metadata_uri.replace('{tokenId}', id);\n      const response = await (await fetch(parsed_uri)).json();\n      if (response) {\n        response.tokenId = id;\n        metadata = response;\n      }\n    } else {\n      metadata = await contract.tzip12().getTokenMetadata(Number(id));\n    }\n    return metadata;\n  }\n  async getAllTokenBalances(address: string): Promise<Array<Token>> {\n    const fetchToken = async (offset: number): Promise<Array<any>> => {\n      let res = await (await fetch(`${this.tzkt}/tokens/balances?account=${address}&offset=${offset}&limit=${this.TZKT_TOKEN_QUERY_SIZE}&balance.ne=0`)).json();\n      if (res?.length) {\n        if (res.length === this.TZKT_TOKEN_QUERY_SIZE) {\n          // get more if limit reached\n          return [...res, ...(await fetchToken(offset + this.TZKT_TOKEN_QUERY_SIZE))];\n        } else {\n          return res;\n        }\n      } else {\n        return [];\n      }\n    };\n    let tzktTokensResponse = await fetchToken(0);\n    const tokenBalances: Token[] = [];\n    for (let i = 0; i < tzktTokensResponse.length; ++i) {\n      if (tzktTokensResponse[i]?.balance && tzktTokensResponse[i].token?.contract?.address && tzktTokensResponse[i].token?.tokenId !== undefined) {\n        const tokenId: string = `${tzktTokensResponse[i].token.contract.address}:${tzktTokensResponse[i].token.tokenId}`;\n        tokenBalances.push({ tokenId, balance: tzktTokensResponse[i].balance });\n        this.tokenBalanceCache[tokenId] = tzktTokensResponse[i];\n      }\n    }\n    return tokenBalances;\n  }\n  private filterMetadata(meta: any) {\n    const keys = [\n      { key: 'name', type: 'string' },\n      { key: 'balance', type: 'string' },\n      { key: 'symbol', type: 'string' },\n      { key: 'contractAddress', type: 'string' },\n      { key: 'id', type: 'string' },\n      { key: 'decimals', type: 'string' },\n      { key: 'description', type: 'string' },\n      { key: 'artifactUri', type: 'string', toAsset: true },\n      { key: 'displayUri', type: 'string', toAsset: true },\n      { key: 'thumbnailUri', type: 'string', toAsset: true },\n      { key: 'isTransferable', type: 'boolean' },\n      { key: 'shouldPreferSymbol', type: 'boolean' },\n      { key: 'isBooleanAmount', type: 'boolean' },\n      { key: 'series', type: 'string' },\n      { key: 'ttl', type: 'string' }\n    ];\n    let metadata: any = {};\n    for (const a of keys) {\n      if (typeof meta[a.key] === a.type) {\n        if (a.toAsset) {\n          // extract mime type\n          if (meta?.formats?.length && Array.isArray(meta?.formats)) {\n            const index = meta.formats.findIndex((b) => b.uri === meta[a.key]);\n            if (index !== -1 && meta.formats[index].uri && meta.formats[index].mimeType) {\n              meta[a.key] = { uri: meta[a.key], mimeType: meta.formats[index].mimeType };\n            }\n          }\n          if (typeof meta[a.key] === 'string') {\n            meta[a.key] = { uri: meta[a.key], mimeType: 'unknown' };\n          }\n        }\n        metadata[a.key] = meta[a.key];\n      }\n    }\n    return metadata;\n  }\n  private normalizeMetadata(meta: any, contractAddress: string, id: string) {\n    mutableConvertObjectPropertiesSnakeToCamel(meta);\n    for (let key of Object.keys(meta)) {\n      if (typeof meta[key] === 'number') {\n        meta[key] = `${meta[key]}`;\n      }\n    }\n    this.handleMetadataExceptions(meta, contractAddress, id);\n    if (meta?.isTransferable && typeof meta?.isTransferable === 'string') {\n      meta.isTransferable = meta.isTransferable?.toLowerCase() === 'false' ? false : meta.isTransferable?.toLowerCase() === 'true' ? true : undefined;\n    }\n    if (meta?.shouldPreferSymbol && typeof meta?.shouldPreferSymbol === 'string') {\n      meta.shouldPreferSymbol =\n        meta.shouldPreferSymbol?.toLowerCase() === 'false' ? false : meta.shouldPreferSymbol?.toLowerCase() === 'true' ? true : undefined;\n    }\n    if (meta?.isBooleanAmount && typeof meta?.isBooleanAmount === 'string') {\n      meta.isBooleanAmount = meta.isBooleanAmount?.toLowerCase() === 'false' ? false : meta.isBooleanAmount?.toLowerCase() === 'true' ? true : undefined;\n    }\n  }\n  handleMetadataExceptions(meta: any, contractAddress: string, id: string) {\n    // hen\n    if (meta?.symbol === 'OBJKT') {\n      if (!meta.displayUri && meta.formats?.length) {\n        meta.displayUri = meta.formats[0].uri;\n      }\n      if (meta.displayUri && meta.thumbnailUri) {\n        delete meta.thumbnailUri;\n      }\n    }\n    if (['KT1NVvPsNDChrLRH5K2cy6Sc9r1uuUwdiZQd', 'KT1CAbPGHUWvkSA9bxMPkqSgabgsjtmRYEda'].includes(contractAddress) /* Dogami */ && meta?.formats) {\n      if (typeof meta.formats[0] === 'string') {\n        meta.formats = JSON.parse(meta.formats);\n      }\n    }\n    // fxHash\n    if (contractAddress === 'KT1U6EHmNxJTkvaWJ4ThczG4FSDaHC21ssvi' && meta?.artifactUri) {\n      delete meta.artifactUri;\n    }\n    // Plenty + HEH\n    if (!meta.displayUri && !meta.thumbnailUri && meta?.icon) {\n      meta.thumbnailUri = { uri: meta.icon, mimeType: 'unknown' };\n    }\n    if (\n      (contractAddress === 'KT1AWoUQAuUudqpc75cGukWufbfim3GRn8h6' /* Flex */ ||\n        contractAddress === 'KT1Lz7Jd6Sh1zUE66nDGS7hGnjwcyTBCiYbF' /* BV */ ||\n        contractAddress === 'KT1D1XtWFoQDPtuYzbkeRJhcDgH6CDem2FkZ' /* BV */ ||\n        contractAddress === 'KT1NVvPsNDChrLRH5K2cy6Sc9r1uuUwdiZQd') /* Dogami */ &&\n      meta?.formats?.length\n    ) {\n      meta.displayUri = meta.artifactUri = meta.formats?.find((f) => f?.mimeType?.startsWith('model/')) ?? meta.displayUri;\n    }\n    if (contractAddress === 'KT1NVvPsNDChrLRH5K2cy6Sc9r1uuUwdiZQd') {\n      // override wrong mimeType\n      meta.thumbnailUri = { uri: meta.thumbnailUri, mimeType: 'video/mp4' };\n    }\n    // Rarible\n    if (contractAddress === 'KT18pVpRXKPY2c4U2yFEGSH3ZnhB2kL8kwXS') {\n      meta.thumbnailUri = meta.displayUri = meta.formats[0].uri;\n    }\n  }\n}\nexport function mutableConvertObjectPropertiesSnakeToCamel(data: Object) {\n  for (const key in data) {\n    if (key.charAt(0).toLowerCase() !== key.charAt(0)) {\n      data[key.charAt(0).toLowerCase() + key.slice(1)] = data[key];\n    }\n    if (key.indexOf('_') !== -1) {\n      const aryCamelKey = [];\n      for (let i = 0; i < key.length; i++) {\n        const char = key.charAt(i);\n        if (char === '_') {\n          aryCamelKey.push(key.charAt(i + 1).toUpperCase());\n          i++;\n        } else {\n          aryCamelKey.push(char);\n        }\n      }\n      const camelKey = aryCamelKey.join('');\n      if (!data.hasOwnProperty(camelKey)) {\n        data[camelKey] = data[key];\n        delete data[key];\n      }\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { OperationService } from '../operation/operation.service';\nimport * as zxcvbn from 'zxcvbn';\nimport { CONSTANTS } from '../../../environments/environment';\nimport { TranslateService } from '@ngx-translate/core';\nimport { valueDecoder } from '@taquito/local-forging/dist/lib/michelson/codec';\nimport { Uint8ArrayConsumer } from '@taquito/local-forging/dist/lib/uint8array-consumer';\n\n@Injectable()\nexport class InputValidationService {\n  constructor(private operationService: OperationService, private translate: TranslateService) {}\n  /*\n    Input validations\n  */\n  mnemonics(mnemonics: string): boolean {\n    return this.operationService.validMnemonic(mnemonics);\n  }\n  password(password: string): boolean {\n    return zxcvbn(password).score === 4;\n  }\n  passwordStrengthDisplay(password: string): string {\n    if (!password) {\n      return '';\n    }\n    switch (zxcvbn(password).score) {\n      case 0: {\n        return this.translate.instant('INPUTVALIDATIONCOMPONENT.CATASTROPHIC'); // 'Catastrophic!'\n      }\n      case 1: {\n        return this.translate.instant('INPUTVALIDATIONCOMPONENT.VERYWEAK'); // 'Very weak!'\n      }\n      case 2: {\n        return this.translate.instant('INPUTVALIDATIONCOMPONENT.WEAK'); // 'Weak!'\n      }\n      case 3: {\n        return this.translate.instant('INPUTVALIDATIONCOMPONENT.WEAK'); // 'Weak!'\n      }\n      case 4: {\n        return this.translate.instant('INPUTVALIDATIONCOMPONENT.STRONG'); // 'Strong!'\n      }\n      default: {\n        return '';\n      }\n    }\n  }\n  address(address: string): Boolean {\n    return this.operationService.validAddress(address);\n  }\n  torusAccount(verifierId: string, loginType: string): Boolean {\n    switch (loginType) {\n      case 'google':\n        return this.email(verifierId);\n      case 'email':\n        return this.email(verifierId);\n      case 'reddit':\n        return this.redditAccount(verifierId);\n      case 'twitter':\n        return this.twitterAccount(verifierId);\n      case 'domain':\n        return this.tezosDomain(verifierId);\n      default:\n        return false;\n    }\n  }\n  redditAccount(username: string) {\n    // Letters, numbers, dashes, and underscores only\n    // Username must be between 3 and 20 characters\n    const re = /^[0-9a-zA-Z\\-\\_]{3,20}$/;\n    return re.test(username);\n  }\n  email(email: string): Boolean {\n    const re =\n      /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(email);\n  }\n  tezosDomain(domain: string) {\n    const a = domain.split('.');\n    // basic validation that is in the correct format\n    for (const sub of a) {\n      if (!sub.length) {\n        return false;\n      }\n    }\n    return a.length >= 2 && CONSTANTS.TEZOS_DOMAIN.TOP_DOMAINS.includes(a[a.length - 1]);\n  }\n  twitterAccount(username: string) {\n    // The only characters you can use are uppercase and lowercase letters, numbers, and the underscore character ( _ ).\n    const re = /^\\@{1}[0-9a-zA-Z\\_]{1,15}$/;\n    return re.test(username);\n  }\n  twitterId(id: string) {\n    const re = /^[0-9]+$/;\n    return re.test(id);\n  }\n  passphrase(passphrase: string): Boolean {\n    return true;\n  }\n  amount(amount: string, decimals: number = 6): Boolean {\n    const decimalsPart = decimals ? `(\\.[0-9]{1,${decimals}}){0,1}` : '';\n    const expr = new RegExp(`^(0|[1-9][0-9]*)${decimalsPart}$`, 'g');\n    if (amount === '' || amount === '0') {\n      // default value / zero\n      return true;\n    } else if (Number(amount) && amount.match(expr)) {\n      // Positive number\n      return true;\n    }\n    return false;\n  }\n  fee(fee: string): Boolean {\n    return this.amount(fee); // same as amount\n  }\n  gas(amount: string): Boolean {\n    if (amount === '' || amount === '0') {\n      // default value / zero\n      return true;\n    } else if (Number(amount) && 0 < Number(amount) && Number(amount) % 1 === 0) {\n      // Positive integer\n      return true;\n    } else {\n      return false;\n    }\n  }\n  storage(amount: string) {\n    return this.gas(amount);\n  }\n  relativeLimit(limit: string) {\n    if (limit?.length > 2 && limit.startsWith('+') && limit.endsWith('%')) {\n      return this.gas(limit.slice(1, -1));\n    }\n    return false;\n  }\n  code(code: string): Boolean {\n    if (code && code.length === 40 && code.match(/^[0-9a-f]*$/g)) {\n      // 40 hex chars\n      return true;\n    } else {\n      return false;\n    }\n  }\n  derivationPath(path: string): Boolean {\n    const m = path.match(/^44\\'\\/1729(\\'\\/[0-9]+)+\\'$/g);\n    if (m || path === \"44'/1729'\") {\n      return true;\n    }\n    return false;\n  }\n  hexString(hex: string): Boolean {\n    if (hex && hex.match(/^[a-f0-9]*$/)) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n  isMessageSigning(payload: string): boolean {\n    if (payload.match(/^0501[a-f0-9]{8}54657a6f73205369676e6564204d6573736167653a20[a-f0-9]*$/)) {\n      return true;\n    }\n    return false;\n  }\n  isMichelineExpr(hex: string) {\n    try {\n      if (!this.hexString(hex)) {\n        throw new Error('Not a hex string');\n      }\n      if (hex.slice(0, 2) !== '05') {\n        throw new Error('invalid prefix');\n      }\n      const parsedPayload = valueDecoder(Uint8ArrayConsumer.fromHexString(hex.slice(2)));\n      console.log('Parsed sign payload', parsedPayload);\n    } catch (e) {\n      console.warn(e.message ? 'Decoding: ' + e.message : e);\n      return false;\n    }\n    return true;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { OperationService } from '../../services/operation/operation.service';\nimport { TorusService } from '../../services/torus/torus.service';\nimport { WalletService } from '../../services/wallet/wallet.service';\nimport { InputValidationService } from '../../services/input-validation/input-validation.service';\nimport { TezosDomainsService } from '../../services/tezos-domains/tezos-domains.service';\n\nexport enum LookupType { // ordered in priority\n  AddressBook,\n  TezosDomains,\n  Google,\n  Reddit,\n  Twitter,\n  Alias\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LookupService {\n  public records: {\n    address: string;\n    data: { name: string; lookupType: LookupType }[];\n  }[] = [];\n  private pendingLookups: Record<string, number> = {};\n  constructor(\n    private operationService: OperationService,\n    private torusService: TorusService,\n    private walletService: WalletService,\n    private inputValidationService: InputValidationService,\n    private tezosDomainsService: TezosDomainsService\n  ) {\n    this.initCheck();\n  }\n  initCheck() {\n    if (!this.records.length && this.walletService.wallet && this.walletService.wallet.lookups.length) {\n      console.log('### Loading lookups from memory');\n      this.records = this.walletService.wallet.lookups;\n    }\n  }\n  add(address: string, name: string, lookupType: LookupType) {\n    console.log('#name ' + name, lookupType);\n    const { x, y } = this.index(address, lookupType);\n    if (x !== -1) {\n      if (y === -1) {\n        this.records[x].data.push({ name, lookupType });\n      } else if (lookupType === LookupType.TezosDomains) {\n        this.records[x].data[y] = { name, lookupType };\n      }\n    } else {\n      this.records.push({ address, data: [{ name, lookupType }] });\n    }\n    this.walletService.wallet.lookups = this.records;\n    this.walletService.storeWallet();\n  }\n  clear() {\n    this.records = [];\n    this.pendingLookups = {};\n  }\n  mark(address: string) {\n    const { x, y } = this.indexTop(address);\n    if (x === -1) {\n      this.records.push({ address, data: [] });\n    }\n    this.walletService.storeWallet();\n  }\n  async recheckWalletAddresses(force: boolean) {\n    console.log('lookup wallet addresses');\n    for (const address of this.walletService.wallet.getImplicitAccounts()) {\n      this.check(address, force);\n    }\n  }\n  async check(address: any, force: boolean = false) {\n    if (address?.address !== undefined) {\n      address = address.address;\n    }\n    if (typeof address !== 'string') {\n      return;\n    }\n    this.initCheck();\n    if (force) {\n      console.log('Forced recheck for: ' + address);\n    }\n    if (address && !this.pendingLookups[address]) {\n      const { x } = this.index(address, 0);\n      if (x === -1 || force) {\n        // DirectAuth - disabled\n        // if (address && address.slice(0, 3) === 'tz2') {\n        //   if (x === -1) {\n        //     this.pendingLookups[address]++;\n        //     this.torusLookup(address);\n        //   }\n        // }\n        // Tezos Domains\n        this.pendingLookups[address]++;\n        let domain = '';\n        try {\n          domain = await this.tezosDomainsService.getDomainFromAddress(address);\n        } catch (e) {\n          console.log(address, e);\n          this.pendingLookups[address]--;\n          return;\n        }\n        this.pendingLookups[address]--;\n        if (domain || domain === '') {\n          this.add(address, domain, LookupType.TezosDomains);\n        } else {\n          this.mark(address);\n        }\n      }\n    }\n  }\n  torusLookup(address: string) {\n    this.operationService.torusKeyLookup(address).subscribe(async (ans: any) => {\n      if (ans) {\n        if (ans.result && ans.result.Verifiers) {\n          const keys = Object.keys(ans.result.Verifiers);\n          const verifierMap = this.torusService.verifierMap;\n          for (const key of keys) {\n            if (key === verifierMap['google'].verifier) {\n              this.add(address, ans.result.Verifiers[verifierMap['google'].verifier][0], LookupType.Google);\n            } else if (key === verifierMap['reddit'].verifier) {\n              this.add(address, ans.result.Verifiers[verifierMap['reddit'].verifier][0], LookupType.Reddit);\n            } else if (key === verifierMap['twitter'].verifier) {\n              const verifierId = ans.result.Verifiers[verifierMap['twitter'].verifier][0];\n              const verifierArray = verifierId.split('|');\n              if (verifierArray[0] === 'twitter' && this.inputValidationService.twitterId(verifierArray[1])) {\n                const twitterId = verifierArray[1];\n                const { username } = await this.torusService.twitterLookup(undefined, twitterId);\n                if (username) {\n                  this.add(address, '@' + username, LookupType.Twitter);\n                }\n              }\n            } else {\n              console.log('Unhandled verifier result', ans);\n            }\n          }\n          this.pendingLookups[address]--;\n        } else if (!ans.noReveal) {\n          this.mark(address);\n        }\n      }\n    });\n  }\n  torusEntryExist(address: string): boolean {\n    const record = this.records[address];\n    if (record) {\n      for (const entry of record) {\n        if (entry.lookupType > 1) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n  index(address: string, lookupType: LookupType) {\n    let [x, y] = Array(2).fill(-1);\n    for (let i = 0; i < this.records.length; i++) {\n      if (this.records[i].address === address) {\n        x = i;\n        for (let j = 0; j < this.records[i].data.length; j++) {\n          if (this.records[i].data[j].lookupType === lookupType) {\n            y = j;\n          }\n        }\n      }\n    }\n    return { x, y };\n  }\n  indexTop(address: string) {\n    let [x, y] = Array(2).fill(-1);\n    for (let i = 0; i < this.records.length; i++) {\n      if (this.records[i].address === address) {\n        x = i;\n        for (let j = 0; j < this.records[i].data.length; j++) {\n          if (this.records[i].data[j].lookupType < y || y === -1) {\n            if (this.records[i].data[j].lookupType !== LookupType.TezosDomains || this.records[i].data[j].name) {\n              // skip empty domain records\n              y = j;\n            }\n          }\n        }\n      }\n    }\n    return { x, y };\n  }\n  resolve(party: any): any {\n    this.initCheck();\n    const { x, y } = this.indexTop(party?.address);\n    if (x !== -1 && y !== -1) {\n      return {\n        name: this.records[x].data[y].name,\n        lookupType: this.records[x].data[y].lookupType,\n        address: party.address\n      };\n    } else if (party?.alias) {\n      this.add(party.address, party.alias, LookupType.Alias);\n      return this.resolve(party);\n    }\n    return { address: party?.address };\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, of, Subject } from 'rxjs';\n\n@Injectable()\nexport class MessageService {\n  spinnerOn = false;\n  spinnerText = '';\n  messages: any[] = [];\n  defaultTime = 10;\n  checked: Observable<boolean>;\n  beaconResponse = new Subject<boolean>();\n  readonly pairingCompleteMsg = 'Pairing complete! Waiting for permission request...';\n  add(message: string, seconds: number = this.defaultTime) {\n    const type = 'info';\n    console.log(type + ': ' + message);\n    this.messages.push({\n      type: type,\n      msg: message,\n      timeout: seconds * 1000\n    });\n  }\n  addError(message: string, seconds: number = this.defaultTime) {\n    const type = 'danger';\n    console.log(type + ': ' + message);\n    this.messages.push({\n      type: type,\n      msg: message,\n      timeout: seconds * 1000\n    });\n  }\n  addWarning(message: string, seconds: number = this.defaultTime) {\n    const type = 'warning';\n    console.log(type + ': ' + message);\n    this.messages.push({\n      type: type,\n      msg: message,\n      timeout: seconds * 1000\n    });\n  }\n  addSuccess(message: string, seconds: number = this.defaultTime, ref: string = '') {\n    if (ref) {\n      console.log('ref set', ref);\n    }\n    const type = 'success';\n    console.log(type + ': ' + message);\n    this.messages.push({\n      type: type,\n      msg: message,\n      timeout: seconds * 1000,\n      ref\n    });\n  }\n  modify(newMessage: string, ref: string) {\n    if (ref) {\n      for (const message of this.messages) {\n        if (message.ref === ref) {\n          message.msg = newMessage;\n        }\n      }\n    }\n  }\n  emailNotify(email: string, amount: string) {\n    console.log(email);\n    const type = 'success';\n    this.messages.push({\n      type: type,\n      timeout: 0,\n      msg: 'email',\n      email,\n      amount\n    });\n  }\n  redditNotify(username: string, amount: string) {\n    console.log(username);\n    const type = 'success';\n    this.messages.push({\n      type: type,\n      timeout: 0,\n      msg: 'Reddit',\n      username,\n      amount\n    });\n  }\n  twitterNotify(twitterId: string, handler: string, amount: string) {\n    console.log(twitterId);\n    const type = 'success';\n    this.messages.push({\n      type: type,\n      timeout: 0,\n      msg: 'Twitter',\n      twitterId,\n      handler,\n      amount\n    });\n  }\n  addBeaconWait(message: string) {\n    const type = 'info';\n    this.messages.push({\n      type: type,\n      msg: message,\n      timeout: 30 * 1000,\n      loader: true\n    });\n  }\n  async removeBeaconMsg(delay = false) {\n    setTimeout(\n      () => {\n        for (let i = 0; i < this.messages.length; i++) {\n          if (this.messages[i].loader) {\n            this.messages.splice(i, 1);\n            this.addSuccess(this.pairingCompleteMsg, 10);\n            break;\n          } else if (this.messages[i].msg === this.pairingCompleteMsg) {\n            this.messages.splice(i, 1);\n            break;\n          }\n        }\n      },\n      delay ? 500 : 0\n    );\n  }\n  clear() {\n    this.messages = [];\n  }\n  async startSpinner(text: string = '') {\n    this.spinnerText = text;\n    this.spinnerOn = true;\n  }\n  async stopSpinner(): Promise<void> {\n    this.spinnerText = '';\n    this.spinnerOn = false;\n    return;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { of, Observable, MonoTypeOperatorFunction, from as fromPromise, iif, throwError } from 'rxjs';\nimport { catchError, retryWhen, flatMap, timeout, delay as delayOperator, debounceTime, concatMap } from 'rxjs/operators';\nimport { Buffer } from 'buffer';\nimport { blake2b } from 'blakejs';\nimport { sign as naclSign } from 'tweetnacl';\nimport * as Bs58check from 'bs58check';\nimport * as bip39 from 'bip39';\nimport Big from 'big.js';\nimport { localForger } from '@taquito/local-forging';\nimport { CONSTANTS } from '../../../environments/environment';\nimport { ErrorHandlingPipe } from '../../pipes/error-handling.pipe';\nimport * as elliptic from 'elliptic';\nimport { instantiateSecp256k1, hexToBin, binToHex } from '@bitauth/libauth';\nimport { TokenService } from '../token/token.service';\nimport { isEqual } from 'lodash';\n\nconst httpOptions = { headers: { 'Content-Type': 'application/json' } };\n\nexport interface KeyPair {\n  sk: string | null;\n  pk: string | null;\n  pkh: string;\n}\n@Injectable()\nexport class OperationService {\n  nodeURL = CONSTANTS.NODE_URL;\n  prefix = {\n    tz1: new Uint8Array([6, 161, 159]),\n    tz2: new Uint8Array([6, 161, 161]),\n    tz3: new Uint8Array([6, 161, 164]),\n    edpk: new Uint8Array([13, 15, 37, 217]),\n    sppk: new Uint8Array([3, 254, 226, 86]),\n    edsk: new Uint8Array([43, 246, 78, 7]),\n    spsk: new Uint8Array([17, 162, 224, 201]),\n    edsig: new Uint8Array([9, 245, 205, 134, 18]),\n    spsig: new Uint8Array([13, 115, 101, 19, 63]),\n    sig: new Uint8Array([4, 130, 43]),\n    o: new Uint8Array([5, 116]),\n    B: new Uint8Array([1, 52]),\n    TZ: new Uint8Array([3, 99, 29]),\n    KT: new Uint8Array([2, 90, 121])\n  };\n  microTez = new Big(1000000);\n  feeHardCap = 100; //tez\n  constructor(private http: HttpClient, private errorHandlingPipe: ErrorHandlingPipe, private tokenService: TokenService) {}\n  /*\n    Returns an observable for the activation of an ICO identity\n  */\n  activate(pkh: string, secret: string): Observable<any> {\n    return this.getHeader()\n      .pipe(\n        flatMap((header: any) => {\n          const fop: any = {\n            branch: header.hash,\n            contents: [\n              {\n                kind: 'activate_account',\n                pkh: pkh,\n                secret: secret\n              }\n            ]\n          };\n          return this.postRpc('chains/main/blocks/head/helpers/forge/operations', fop).pipe(\n            flatMap((opbytes: any) => {\n              const sopbytes: string = opbytes + Array(129).join('0');\n              fop.protocol = header.protocol;\n              fop.signature = 'edsigtXomBKi5CTRf5cjATJWSyaRvhfYNHqSUGrn4SdbYRcGwQrUGjzEfQDTuqHhuA8b2d8NarZjz8TRf65WkpQmo423BtomS8Q';\n              return this.postRpc('chains/main/blocks/head/helpers/preapply/operations', [fop]).pipe(\n                flatMap((preApplyResult: any) => {\n                  console.log(JSON.stringify(preApplyResult));\n                  return this.postRpc('injection/operation', JSON.stringify(sopbytes)).pipe(\n                    flatMap((final: any) => {\n                      return this.opCheck(final);\n                    })\n                  );\n                })\n              );\n            })\n          );\n        })\n      )\n      .pipe(catchError((err) => this.errHandler(err)));\n  }\n  opCheck(final: any, newPkh: string = null): Observable<any> {\n    if (typeof final === 'string' && final.length === 51) {\n      return of({\n        success: true,\n        payload: {\n          opHash: final,\n          newPkh: newPkh\n        }\n      });\n    } else {\n      return of({\n        success: false,\n        payload: {\n          opHash: null,\n          msg: final\n        }\n      });\n    }\n  }\n  /*\n    Returns an observable for the origination of new accounts.\n  */\n  originate(origination: any, fee: number = 0, keys: KeyPair): Observable<any> {\n    console.log(fee, origination);\n    return this.getHeader()\n      .pipe(\n        flatMap((header: any) => {\n          return this.getRpc(`chains/main/blocks/head/context/contracts/${keys.pkh}/counter`).pipe(\n            flatMap((actions: number) => {\n              return this.getRpc(`chains/main/blocks/head/context/contracts/${keys.pkh}/manager_key`).pipe(\n                flatMap((manager: any) => {\n                  if (fee > this.feeHardCap) {\n                    throw new Error('TooHighFee');\n                  }\n                  const counter: number = Number(actions);\n                  const fop = this.createOriginationObject(header.hash, counter, manager, origination, fee, keys.pk, keys.pkh);\n                  return this.operation(fop, header, keys, true);\n                })\n              );\n            })\n          );\n        })\n      )\n      .pipe(catchError((err) => this.errHandler(err)));\n  }\n  createOriginationObject(hash: string, counter: number, manager: string, origination: any, fee: number, pk: string, pkh: string): any {\n    const fop: any = {\n      branch: hash,\n      contents: []\n    };\n    const gas_limit = origination.gasLimit.toString();\n    const storage_limit = origination.storageLimit.toString();\n    if (manager === null) {\n      // Reveal\n      fop.contents.push({\n        kind: 'reveal',\n        source: pkh,\n        fee: '0',\n        counter: (++counter).toString(),\n        gas_limit: '1000',\n        storage_limit: '0',\n        public_key: pk\n      });\n    }\n    fop.contents.push({\n      kind: 'origination',\n      source: pkh,\n      fee: this.microTez.times(fee).toString(),\n      counter: (++counter).toString(),\n      gas_limit,\n      storage_limit,\n      balance: this.microTez.times(origination.balance).toString(),\n      script: origination.script\n    });\n    return fop;\n  }\n  /*\n    Returns an observable for the transaction of tez.\n  */\n  transfer(from: string, transactions: any, fee: number, keys: KeyPair, tokenTransfer: string = ''): Observable<any> {\n    return this.getHeader()\n      .pipe(\n        flatMap((header: any) => {\n          return this.getRpc(`chains/main/blocks/head/context/contracts/${keys.pkh}/counter`).pipe(\n            flatMap((actions: any) => {\n              return this.getRpc(`chains/main/blocks/head/context/contracts/${keys.pkh}/manager_key`).pipe(\n                flatMap((manager: any) => {\n                  if (fee > this.feeHardCap) {\n                    throw new Error('TooHighFee');\n                  }\n                  const counter: number = Number(actions);\n                  const fop = this.createTransactionObject(header.hash, counter, manager, transactions, keys.pkh, keys.pk, from, fee, tokenTransfer);\n                  return this.operation(fop, header, keys);\n                })\n              );\n            })\n          );\n        })\n      )\n      .pipe(catchError((err) => this.errHandler(err)));\n  }\n  createTransactionObject(\n    hash: string,\n    counter: number,\n    manager: string,\n    transactions: any,\n    pkh: string,\n    pk: string,\n    from: string,\n    fee: number,\n    tokenTransfer: string\n  ): any {\n    const fop: any = {\n      branch: hash,\n      contents: []\n    };\n    if (manager === null) {\n      // Reveal\n      fop.contents.push({\n        kind: 'reveal',\n        source: pkh,\n        fee: '0',\n        counter: (++counter).toString(),\n        gas_limit: '1000',\n        storage_limit: '0',\n        public_key: pk\n      });\n    }\n    for (let i = 0; i < transactions.length; i++) {\n      const currentFee = i === transactions.length - 1 ? this.microTez.times(fee).toString() : '0';\n      const gasLimit = transactions[i].gasLimit.toString();\n      const storageLimit = transactions[i].storageLimit.toString();\n      if (tokenTransfer) {\n        console.log('Invoke contract: ' + tokenTransfer);\n        let invocation: any;\n        const { kind, decimals, contractAddress, id } = this.tokenService.getAsset(tokenTransfer);\n        const txAmount = Big(10 ** decimals).times(transactions[i].amount);\n        if (!txAmount.mod(1).eq(0)) {\n          throw new Error(`the amount ${transactions[i].amount} is not within ${decimals} decimals`);\n        }\n        if (kind === 'FA1.2') {\n          invocation = this.getFA12Transaction(pkh, transactions[i].destination, txAmount.toFixed(0));\n        } else if (kind === 'FA2') {\n          invocation = this.getFA2Transaction(pkh, transactions[i].destination, txAmount.toFixed(0), id);\n        } else {\n          throw new Error('Unrecognized token kind');\n        }\n        fop.contents.push({\n          kind: 'transaction',\n          source: pkh,\n          fee: currentFee,\n          counter: (++counter).toString(),\n          gas_limit: gasLimit,\n          storage_limit: storageLimit,\n          amount: '0',\n          destination: contractAddress,\n          parameters: invocation\n        });\n      } else if (from.slice(0, 2) === 'tz') {\n        const transactionOp: any = {\n          kind: 'transaction',\n          source: from,\n          fee: currentFee,\n          counter: (++counter).toString(),\n          gas_limit: gasLimit,\n          storage_limit: storageLimit,\n          amount: this.microTez.times(transactions[i].amount).toString(),\n          destination: transactions[i].destination\n        };\n        if (transactions[i].parameters) {\n          transactionOp.parameters = transactions[i].parameters;\n        }\n        fop.contents.push(transactionOp);\n      } else if (from.slice(0, 2) === 'KT') {\n        if (transactions[i].destination.slice(0, 2) === 'tz') {\n          const managerTransaction = this.getContractPkhTransaction(transactions[i].destination, this.microTez.times(transactions[i].amount).toString());\n          fop.contents.push({\n            kind: 'transaction',\n            source: pkh,\n            fee: currentFee,\n            counter: (++counter).toString(),\n            gas_limit: gasLimit,\n            storage_limit: storageLimit,\n            amount: '0',\n            destination: from,\n            parameters: managerTransaction\n          });\n        } else if (transactions[i].destination.slice(0, 2) === 'KT') {\n          const managerTransaction = this.getContractKtTransaction(transactions[i].destination, this.microTez.times(transactions[i].amount).toString());\n          fop.contents.push({\n            kind: 'transaction',\n            source: pkh,\n            fee: currentFee,\n            counter: (++counter).toString(),\n            gas_limit: gasLimit,\n            storage_limit: storageLimit,\n            amount: '0',\n            destination: from,\n            parameters: managerTransaction\n          });\n        }\n      }\n    }\n    return fop;\n  }\n  /*\n    Returns an observable for the delegation of baking rights.\n  */\n  delegate(from: string, to: string, fee: number = 0, keys: KeyPair): Observable<any> {\n    return this.getHeader()\n      .pipe(\n        flatMap((header: any) => {\n          return this.getRpc(`chains/main/blocks/head/context/contracts/${keys.pkh}/counter`).pipe(\n            flatMap((actions: any) => {\n              return this.getRpc(`chains/main/blocks/head/context/contracts/${keys.pkh}/manager_key`).pipe(\n                flatMap((manager: any) => {\n                  if (fee > this.feeHardCap) {\n                    throw new Error('TooHighFee');\n                  }\n                  let counter: number = Number(actions);\n                  let delegationOp: any;\n                  if (from.slice(0, 2) === 'tz') {\n                    delegationOp = {\n                      kind: 'delegation',\n                      source: from,\n                      fee: this.microTez.times(fee).toString(),\n                      counter: (++counter).toString(),\n                      gas_limit: '1000',\n                      storage_limit: '0'\n                    };\n                    if (to !== '') {\n                      delegationOp.delegate = to;\n                    }\n                  } else if (from.slice(0, 2) === 'KT') {\n                    delegationOp = {\n                      kind: 'transaction',\n                      source: keys.pkh,\n                      fee: this.microTez.times(fee).toString(),\n                      counter: (++counter).toString(),\n                      gas_limit: '4380',\n                      storage_limit: '0',\n                      amount: '0',\n                      destination: from,\n                      parameters: to !== '' ? this.getContractDelegation(to) : this.getContractUnDelegation()\n                    };\n                  }\n                  const fop: any = {\n                    branch: header.hash,\n                    contents: [delegationOp]\n                  };\n                  if (manager === null) {\n                    fop.contents[1] = fop.contents[0];\n                    fop.contents[0] = {\n                      kind: 'reveal',\n                      source: keys.pkh,\n                      fee: '0',\n                      counter: counter.toString(),\n                      gas_limit: '1000',\n                      storage_limit: '0',\n                      public_key: keys.pk\n                    };\n                    fop.contents[1].counter = (Number(fop.contents[1].counter) + 1).toString();\n                  }\n                  return this.operation(fop, header, keys);\n                })\n              );\n            })\n          );\n        })\n      )\n      .pipe(catchError((err) => this.errHandler(err)));\n  }\n  /*\n  Help function for operations\n  */\n  operation(fop: any, header: any, keys: KeyPair, origination: boolean = false): Observable<any> {\n    console.log('fop to send: ' + JSON.stringify(fop));\n    return this.postRpc('chains/main/blocks/head/helpers/forge/operations', fop).pipe(\n      flatMap((opbytes: any) => {\n        return this.localForge(fop).pipe(\n          flatMap((localOpbytes: string) => {\n            if (opbytes !== localOpbytes) {\n              throw new Error('ValidationError');\n            }\n            if (!keys.sk) {\n              fop.signature = 'edsigtXomBKi5CTRf5cjATJWSyaRvhfYNHqSUGrn4SdbYRcGwQrUGjzEfQDTuqHhuA8b2d8NarZjz8TRf65WkpQmo423BtomS8Q';\n              return this.postRpc('chains/main/blocks/head/helpers/scripts/run_operation', { operation: fop, chain_id: header.chain_id }).pipe(\n                flatMap((applied: any) => {\n                  console.log('applied: ' + JSON.stringify(applied));\n                  this.checkApplied([applied]);\n                  return of({\n                    success: true,\n                    payload: {\n                      unsignedOperation: opbytes\n                    }\n                  });\n                })\n              );\n            } else {\n              fop.protocol = header.protocol;\n              const signed = this.sign('03' + opbytes, keys.sk);\n              const sopbytes = signed.sbytes;\n              fop.signature = signed.edsig;\n              return this.postRpc('chains/main/blocks/head/helpers/preapply/operations', [fop]).pipe(\n                flatMap((applied: any) => {\n                  console.log('applied: ' + JSON.stringify(applied));\n                  this.checkApplied(applied);\n                  console.log('sop: ' + sopbytes);\n                  return this.postRpc('injection/operation', JSON.stringify(sopbytes))\n                    .pipe(timeout(30000))\n                    .pipe(\n                      flatMap((final: any) => {\n                        let newPkh = null;\n                        if (origination) {\n                          newPkh = applied[0].contents[fop.contents.length - 1].metadata.operation_result.originated_contracts[0];\n                        }\n                        return this.opCheck(final, newPkh);\n                      })\n                    );\n                })\n              );\n            }\n          })\n        );\n      })\n    );\n  }\n  /*\n    Broadcast a signed operation to the network\n  */\n  broadcast(sopbytes: string): Observable<any> {\n    console.log('Broadcast...');\n    const opbytes = sopbytes.slice(0, sopbytes.length - 128);\n    const edsig = this.sig2edsig(sopbytes.slice(sopbytes.length - 128));\n    return fromPromise(localForger.parse(opbytes))\n      .pipe(\n        flatMap((fop: any) => {\n          fop.signature = edsig;\n          return this.getHeader().pipe(\n            flatMap((header: any) => {\n              fop.protocol = header.protocol;\n              return this.postRpc('chains/main/blocks/head/helpers/preapply/operations', [fop]).pipe(\n                flatMap((parsed: any) => {\n                  let newPkh = null;\n                  for (let i = 0; i < parsed[0].contents.length; i++) {\n                    if (parsed[0].contents[i].kind === 'origination') {\n                      newPkh = parsed[0].contents[i].metadata.operation_result.originated_contracts[0];\n                    }\n                  }\n                  return this.postRpc('injection/operation', JSON.stringify(sopbytes)).pipe(\n                    flatMap((final: any) => {\n                      return this.opCheck(final, newPkh);\n                    })\n                  );\n                })\n              );\n            })\n          );\n        })\n      )\n      .pipe(catchError((err) => this.errHandler(err)));\n  }\n  torusKeyLookup(tz2address: string): Observable<any> {\n    // Make it into Promise\n    // Zero padding\n    if (tz2address.length !== 36 || tz2address.slice(0, 3) !== 'tz2') {\n      throw new Error('InvalidTorusAddress');\n    }\n    return this.getRpc(`chains/main/blocks/head/context/contracts/${tz2address}/manager_key`).pipe(\n      flatMap((manager: any) => {\n        if (manager === null) {\n          return of({ noReveal: true });\n        } else {\n          return fromPromise(this.decompress(manager)).pipe(\n            flatMap((pk: any) => {\n              const torusReq = {\n                jsonrpc: '2.0',\n                method: 'KeyLookupRequest',\n                id: 10,\n                params: {\n                  pub_key_X: pk.X,\n                  pub_key_Y: pk.Y\n                }\n              };\n              const url = CONSTANTS.NETWORK === 'mainnet' ? 'https://torus-19.torusnode.com/jrpc' : 'https://teal-15-1.torusnode.com/jrpc';\n              return this.http.post(url, JSON.stringify(torusReq), httpOptions).pipe(\n                flatMap((ans: any) => {\n                  try {\n                    if (ans.result.PublicKey.X === pk.X && ans.result.PublicKey.Y === pk.Y) {\n                      return of(ans);\n                    } else {\n                      return of(null);\n                    }\n                  } catch {\n                    return of(null);\n                  }\n                })\n              );\n            })\n          );\n        }\n      })\n    );\n  }\n  checkApplied(applied: any) {\n    let failed = false;\n    for (let i = 0; i < applied[0].contents.length; i++) {\n      if (applied[0].contents[i].metadata.operation_result.status !== 'applied') {\n        failed = true;\n        if (applied[0].contents[i].metadata.operation_result.errors) {\n          console.log('Error in operation_result');\n          throw applied[0].contents[i].metadata.operation_result.errors[applied[0].contents[i].metadata.operation_result.errors.length - 1];\n        } else if (applied[0].contents[i].metadata.internal_operation_results && applied[0].contents[i].metadata.internal_operation_results[0].result.errors) {\n          console.log('Error in internal_operation_results');\n          throw applied[0].contents[i].metadata.internal_operation_results[0].result.errors[\n            applied[0].contents[i].metadata.internal_operation_results[0].result.errors.length - 1\n          ];\n        }\n      }\n    }\n    if (failed) {\n      throw new Error('Uncaught error in preapply');\n    }\n  }\n  errHandler(error: any): Observable<any> {\n    console.log(error);\n    if (error.error && typeof error.error === 'string') {\n      // parsing errors\n      error = error.error;\n      const lines = error.split('\\n').map((line: string) => {\n        return line.trim();\n      });\n      if (lines?.length) {\n        for (const i in lines) {\n          if (lines[i].startsWith('At /') && !lines[i].startsWith('At /kind')) {\n            const n = Number(i) + 1;\n            if (lines[n]) {\n              error = `${lines[i]} ${lines[n]}`;\n            }\n          }\n        }\n      }\n    }\n    if (error.error && error.error[0]) {\n      error = error.error[0];\n    }\n    if (error.message) {\n      error = this.errorHandlingPipe.transform(error.message);\n    } else if (error.id) {\n      if (error.with) {\n        error = this.errorHandlingPipe.transform(error.id, error.with, error?.location);\n      } else if (error.id === 'failure' && error.msg) {\n        error = this.errorHandlingPipe.transform(error.msg);\n      } else {\n        error = this.errorHandlingPipe.transform(error.id);\n      }\n    } else if (error.statusText) {\n      error = error.statusText;\n    } else if (typeof error === 'string') {\n      error = this.errorHandlingPipe.transform(error);\n    } else {\n      console.warn('Error not categorized', error);\n      error = 'Unrecogized error';\n    }\n    return of({\n      success: false,\n      payload: {\n        msg: error\n      }\n    });\n  }\n  // Local forge with Taquito\n  localForge(operation: any): Observable<string> {\n    return fromPromise(localForger.forge(operation)).pipe(\n      flatMap((localForgedBytes: string) => {\n        return of(localForgedBytes);\n      })\n    );\n  }\n  getHeader(): Observable<any> {\n    return this.getRpc(`chains/main/blocks/head~3/header`);\n  }\n  getBalance(pkh: string): Observable<any> {\n    return this.getRpc(`chains/main/blocks/head/context/contracts/${pkh}/balance`)\n      .pipe(\n        flatMap((balance: any) => {\n          return of({\n            success: true,\n            payload: {\n              balance: balance\n            }\n          });\n        })\n      )\n      .pipe(catchError((err) => this.errHandler(err)));\n  }\n  getDelegate(pkh: string): Observable<any> {\n    return this.getRpc(`chains/main/blocks/head/context/contracts/${pkh}`)\n      .pipe(\n        flatMap((contract: any) => {\n          let delegate = '';\n          if (contract.delegate) {\n            delegate = contract.delegate;\n          }\n          return of({\n            success: true,\n            payload: {\n              delegate: delegate\n            }\n          });\n        })\n      )\n      .pipe(catchError((err) => this.errHandler(err)));\n  }\n  getVotingRights(): Observable<any> {\n    return this.getRpc(`chains/main/blocks/head/votes/listings`)\n      .pipe(\n        flatMap((listings: any) => {\n          return of({\n            success: true,\n            payload: listings\n          });\n        })\n      )\n      .pipe(catchError((err) => this.errHandler(err)));\n  }\n  isRevealed(pkh: string): Observable<boolean> {\n    return this.getRpc(`chains/main/blocks/head/context/contracts/${pkh}/manager_key`)\n      .pipe(\n        flatMap((manager: any) => {\n          if (manager === null) {\n            return of(false);\n          } else {\n            return of(true);\n          }\n        })\n      )\n      .pipe(\n        catchError((err) => {\n          return of(true);\n        })\n      ); // conservative action\n  }\n  getManager(pkh: string): Observable<string> {\n    return this.getRpc(`chains/main/blocks/head/context/contracts/${pkh}/manager_key`).pipe(\n      flatMap((pk: string) => {\n        return of(pk ?? '');\n      })\n    );\n  }\n  getAccount(pkh: string): Observable<any> {\n    return this.getRpc(`chains/main/blocks/head/context/contracts/${pkh}`)\n      .pipe(\n        flatMap((contract: any) => {\n          let delegate = '';\n          if (contract.delegate) {\n            delegate = contract.delegate;\n          }\n          return of({\n            success: true,\n            payload: {\n              balance: contract.balance,\n              manager: contract.manager,\n              delegate: delegate,\n              counter: contract.counter\n            }\n          });\n        })\n      )\n      .pipe(catchError((err) => this.errHandler(err)));\n  }\n  getVerifiedOpBytes(operationLevel, operationHash, pkh, pk): Observable<string> {\n    return this.getRpc(`chains/main/blocks/${operationLevel}/operation_hashes`).pipe(\n      flatMap((opHashes: any) => {\n        const opIndex = opHashes[3].findIndex((a) => a === operationHash);\n        return this.getRpc(`chains/main/blocks/${operationLevel}/operations`).pipe(\n          flatMap((op: any) => {\n            let ans = '';\n            op = op[3][opIndex];\n            const sig = op.signature;\n            delete op.chain_id;\n            delete op.signature;\n            delete op.hash;\n            delete op.protocol;\n            for (let i = 0; i < op.contents.length; i++) {\n              delete op.contents[i].metadata;\n              if (op.contents[i].managerPubkey) {\n                // Fix for mainnet\n                op.contents[i].manager_pubkey = op.contents[i].managerPubkey;\n                delete op.contents[i].managerPubkey;\n              }\n            }\n            return this.postRpc('chains/main/blocks/head/helpers/forge/operations', op).pipe(\n              flatMap((opBytes: any) => {\n                if (this.pk2pkh(pk) === pkh) {\n                  if (this.verify(opBytes, sig, pk)) {\n                    ans = opBytes + this.buf2hex(this.b58cdecode(sig, this.prefix.sig));\n                  } else {\n                    throw new Error('InvalidSignature');\n                  }\n                } else {\n                  throw new Error('InvalidPublicKey');\n                }\n                return of(ans);\n              })\n            );\n          })\n        );\n      })\n    );\n  }\n  getConstants(): Observable<any> {\n    return this.getRpc(`chains/main/blocks/head/context/constants`);\n  }\n  seed2keyPair(seed: Buffer): KeyPair {\n    if (!seed) {\n      throw new Error('NullSeed');\n    }\n    const keyPair = naclSign.keyPair.fromSeed(seed);\n    return {\n      sk: this.b58cencode(keyPair.secretKey, this.prefix.edsk),\n      pk: this.b58cencode(keyPair.publicKey, this.prefix.edpk),\n      pkh: this.b58cencode(blake2b(keyPair.publicKey, null, 20), this.prefix.tz1)\n    };\n  }\n  mnemonic2seed(mnemonic: string, passphrase: string = '') {\n    if (!this.validMnemonic(mnemonic)) {\n      throw new Error('InvalidMnemonic');\n    }\n    return bip39.mnemonicToSeedSync(mnemonic, passphrase).slice(0, 32);\n  }\n  mnemonic2entropy(mnemonic: string, passphrase: string = '') {\n    if (!this.validMnemonic(mnemonic)) {\n      throw new Error('InvalidMnemonic');\n    }\n    return bip39.mnemonicToEntropy(mnemonic);\n  }\n  validMnemonic(mnemonic: string) {\n    return bip39.validateMnemonic(mnemonic);\n  }\n  validAddress(address: string) {\n    try {\n      this.b58cdecode(address, this.prefix.tz1);\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n  pk2pkh(pk: string): string {\n    if (pk.length === 54 && pk.slice(0, 4) === 'edpk') {\n      const pkDecoded = this.b58cdecode(pk, this.prefix.edpk);\n      return this.b58cencode(blake2b(pkDecoded, null, 20), this.prefix.tz1);\n    } else if (pk.length === 55 && pk.slice(0, 4) === 'sppk') {\n      const pkDecoded = this.b58cdecode(pk, this.prefix.edpk);\n      return this.b58cencode(blake2b(pkDecoded, null, 20), this.prefix.tz2);\n    }\n    throw new Error('Invalid public key');\n  }\n  spPrivKeyToKeyPair(secretKey: string) {\n    let sk;\n    if (secretKey.match(/^[0-9a-f]{64}$/g)) {\n      sk = this.b58cencode(this.hex2buf(secretKey), this.prefix.spsk);\n    } else if (secretKey.match(/^spsk[1-9a-km-zA-HJ-NP-Z]{50}$/g)) {\n      sk = secretKey;\n    } else {\n      throw new Error('Invalid private key');\n    }\n    const keyPair = new elliptic.ec('secp256k1').keyFromPrivate(new Uint8Array(this.b58cdecode(sk, this.prefix.spsk)));\n    const yArray = keyPair.getPublic().getY().toArray();\n    const prefixVal = yArray[yArray.length - 1] % 2 ? 3 : 2; // Y odd / even\n    const pad = new Array(32).fill(0); // Zero-padding\n    const publicKey = new Uint8Array([prefixVal].concat(pad.concat(keyPair.getPublic().getX().toArray()).slice(-32)));\n    const pk = this.b58cencode(publicKey, this.prefix.sppk);\n    if (yArray.length < 32 && prefixVal === 3 && this.isInvertedPk(pk)) {\n      return this.spPrivKeyToKeyPair(this.invertSpsk(sk));\n    }\n    const pkh = this.pk2pkh(pk);\n    return { sk, pk, pkh };\n  }\n  isInvertedPk(pk: string): boolean {\n    /*\n      Detect keys with flipped sign and correct them.\n    */\n    const invertedPks = [\n      'sppk7cqh7BbgUMFh4yh95mUwEeg5aBPG1MBK1YHN7b9geyygrUMZByr', // test variable\n      'sppk7bMTva1MwF7cXjrcfoj6XVfcYgjrVaR9JKP3JxvPB121Ji5ftHT',\n      'sppk7bLtXf9CAVZh5jjDACezPnuwHf9CgVoAneNXQFgHknNtCyE5k8A'\n    ];\n    return invertedPks.includes(pk);\n  }\n  invertSpsk(sk: string) {\n    const x = new Uint8Array([...new Uint8Array(32).fill(0), ...this.b58cdecode(sk, this.prefix.spsk)]).slice(-32);\n    const p = this.hex2buf('FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141'.toLowerCase());\n    let inv = []; // p - x\n    let remainder = 0;\n    for (let i = 31; i >= 0; i--) {\n      let sub = p[i] - x[i] - remainder;\n      if (sub < 0) {\n        sub += 256;\n        remainder = 1;\n      } else {\n        remainder = 0;\n      }\n      inv.push(sub);\n    }\n    if (remainder) {\n      throw new Error('Invalid X');\n    }\n    inv = inv.reverse();\n    return this.buf2hex(inv);\n  }\n  spPointsToPkh(pubX: string, pubY: string): string {\n    const key = new elliptic.ec('secp256k1').keyFromPublic({\n      x: pubX,\n      y: pubY\n    });\n    const yArray = key.getPublic().getY().toArray();\n    const prefixVal = yArray[yArray.length - 1] % 2 ? 3 : 2;\n    const pad = new Array(32).fill(0);\n    let publicKey = new Uint8Array([prefixVal].concat(pad.concat(key.getPublic().getX().toArray()).slice(-32)));\n    let pk = this.b58cencode(publicKey, this.prefix.sppk);\n    if (yArray.length < 32 && prefixVal === 3 && this.isInvertedPk(pk)) {\n      publicKey = new Uint8Array([2].concat(pad.concat(key.getPublic().getX().toArray()).slice(-32)));\n      pk = this.b58cencode(publicKey, this.prefix.sppk);\n    }\n    const pkh = this.pk2pkh(pk);\n    return pkh;\n  }\n  async decompress(pk: string): Promise<any> {\n    const decodedPk = this.b58cdecode(pk, this.prefix.sppk);\n    const hexPk = this.buf2hex(decodedPk);\n    const secp256k1 = await instantiateSecp256k1();\n    const compressed = hexToBin(hexPk);\n    const uncompressed = secp256k1.uncompressPublicKey(compressed);\n    const xy = binToHex(uncompressed).slice(2);\n    return { X: xy.slice(0, 64), Y: xy.slice(64, 128) };\n  }\n  hex2pk(hex: string): string {\n    return this.b58cencode(this.hex2buf(hex.slice(2, 66)), this.prefix.edpk);\n  }\n  hex2buf(hex) {\n    return new Uint8Array(\n      hex.match(/[\\da-f]{2}/gi).map(function (h) {\n        return parseInt(h, 16);\n      })\n    );\n  }\n  buf2hex(buffer) {\n    const byteArray = new Uint8Array(buffer),\n      hexParts = [];\n    for (let i = 0; i < byteArray.length; i++) {\n      const hex = byteArray[i].toString(16);\n      const paddedHex = ('00' + hex).slice(-2);\n      hexParts.push(paddedHex);\n    }\n    return hexParts.join('');\n  }\n  b58cencode(payload: any, prefixx?: Uint8Array) {\n    const n = new Uint8Array(prefixx.length + payload.length);\n    n.set(prefixx);\n    n.set(payload, prefixx.length);\n    return Bs58check.encode(Buffer.from(this.buf2hex(n), 'hex'));\n  }\n  b58cdecode(enc, prefixx) {\n    let n = Bs58check.decode(enc);\n    n = n.slice(prefixx.length);\n    return n;\n  }\n  ledgerPreHash(opbytes: string): string {\n    return this.buf2hex(blake2b(this.hex2buf(opbytes), null, 32));\n  }\n  sign(bytes: string, sk: string): any {\n    if (!['03', '05'].includes(bytes.slice(0, 2))) {\n      throw new Error('Invalid prefix');\n    }\n    if (sk.slice(0, 4) === 'spsk') {\n      const hash = blake2b(this.hex2buf(bytes), null, 32);\n      bytes = bytes.slice(2);\n      const key = new elliptic.ec('secp256k1').keyFromPrivate(new Uint8Array(this.b58cdecode(sk, this.prefix.spsk)));\n      let sig = key.sign(hash, { canonical: true });\n      const pad = new Array(32).fill(0);\n      const r = pad.concat(sig.r.toArray()).slice(-32);\n      const s = pad.concat(sig.s.toArray()).slice(-32);\n      sig = new Uint8Array(r.concat(s));\n      const spsig = this.b58cencode(sig, this.prefix.spsig);\n      const sbytes = bytes + this.buf2hex(sig);\n      return {\n        bytes: bytes,\n        sig: sig,\n        edsig: spsig,\n        sbytes: sbytes\n      };\n    } else {\n      const hash = blake2b(this.hex2buf(bytes), null, 32);\n      bytes = bytes.slice(2);\n      const sig = naclSign.detached(hash, this.b58cdecode(sk, this.prefix.edsk));\n      const edsig = this.b58cencode(sig, this.prefix.edsig);\n      const sbytes = bytes + this.buf2hex(sig);\n      return {\n        bytes: bytes,\n        sig: sig,\n        edsig: edsig,\n        sbytes: sbytes\n      };\n    }\n  }\n  hexsigToEdsig(hex: string): string {\n    return this.b58cencode(this.hex2buf(hex), this.prefix.edsig);\n  }\n  verify(bytes: string, sig: string, pk: string): Boolean {\n    console.log('bytes', bytes);\n    const hash = blake2b(this.hex2buf(bytes), null, 32);\n    const signature = this.b58cdecode(sig, this.prefix.edsig);\n    const publicKey = this.b58cdecode(pk, this.prefix.edpk);\n    return naclSign.detached.verify(signature, hash, publicKey);\n  }\n  sig2edsig(sig: string): any {\n    return this.b58cencode(this.hex2buf(sig), this.prefix.edsig);\n  }\n  decodeString(bytes: string): string {\n    return Buffer.from(this.hex2buf(bytes)).toString('utf-8');\n  }\n  zarithDecode(hex: string): any {\n    let count = 0;\n    let value = 0;\n    while (1) {\n      const byte = Number('0x' + hex.slice(0 + count * 2, 2 + count * 2));\n      value += (byte & 127) * 128 ** count;\n      count++;\n      if ((byte & 128) !== 128) {\n        break;\n      }\n    }\n    return {\n      value: value,\n      count: count\n    };\n  }\n  zarithDecodeInt(hex: string): any {\n    let count = 0;\n    let value = Big(0);\n    while (1) {\n      const byte = Number('0x' + hex.slice(0 + count * 2, 2 + count * 2));\n      if (count === 0) {\n        value = Big((byte & 63) * 128 ** count).add(value);\n      } else {\n        value = Big(((byte & 127) * 2) >> 1)\n          .times(64 * 128 ** (count - 1))\n          .add(value);\n      }\n      count++;\n      if ((byte & 128) !== 128) {\n        break;\n      }\n    }\n    return {\n      value: value,\n      count: count\n    };\n  }\n  getContractDelegation(pkh: string) {\n    return {\n      entrypoint: 'do',\n      value: [\n        { prim: 'DROP' },\n        {\n          prim: 'NIL',\n          args: [{ prim: 'operation' }]\n        },\n        {\n          prim: 'PUSH',\n          args: [\n            { prim: 'key_hash' },\n            {\n              string: pkh\n            }\n          ]\n        },\n        { prim: 'SOME' },\n        { prim: 'SET_DELEGATE' },\n        { prim: 'CONS' }\n      ]\n    };\n  }\n  getContractUnDelegation() {\n    return {\n      entrypoint: 'do',\n      value: [\n        { prim: 'DROP' },\n        {\n          prim: 'NIL',\n          args: [{ prim: 'operation' }]\n        },\n        {\n          prim: 'NONE',\n          args: [{ prim: 'key_hash' }]\n        },\n        { prim: 'SET_DELEGATE' },\n        { prim: 'CONS' }\n      ]\n    };\n  }\n  getContractPkhTransaction(to: string, amount: string) {\n    return {\n      entrypoint: 'do',\n      value: [\n        { prim: 'DROP' },\n        { prim: 'NIL', args: [{ prim: 'operation' }] },\n        {\n          prim: 'PUSH',\n          args: [\n            { prim: 'key_hash' },\n            {\n              string: to\n            }\n          ]\n        },\n        { prim: 'IMPLICIT_ACCOUNT' },\n        {\n          prim: 'PUSH',\n          args: [{ prim: 'mutez' }, { int: amount }]\n        },\n        { prim: 'UNIT' },\n        { prim: 'TRANSFER_TOKENS' },\n        { prim: 'CONS' }\n      ]\n    };\n  }\n  getContractKtTransaction(to: string, amount: string) {\n    return {\n      entrypoint: 'do',\n      value: [\n        { prim: 'DROP' },\n        { prim: 'NIL', args: [{ prim: 'operation' }] },\n        {\n          prim: 'PUSH',\n          args: [{ prim: 'address' }, { string: to }]\n        },\n        { prim: 'CONTRACT', args: [{ prim: 'unit' }] },\n        [\n          {\n            prim: 'IF_NONE',\n            args: [[[{ prim: 'UNIT' }, { prim: 'FAILWITH' }]], []]\n          }\n        ],\n        {\n          prim: 'PUSH',\n          args: [{ prim: 'mutez' }, { int: amount }]\n        },\n        { prim: 'UNIT' },\n        { prim: 'TRANSFER_TOKENS' },\n        { prim: 'CONS' }\n      ]\n    };\n  }\n  getManagerScript(pkh: string) {\n    let pkHex: string;\n    if (pkh.slice(0, 2) === 'tz') {\n      pkHex = '00' + this.buf2hex(this.b58cdecode(pkh, this.prefix.tz1));\n    } else {\n      pkHex = pkh;\n    }\n    return {\n      code: [\n        {\n          prim: 'parameter',\n          args: [\n            {\n              prim: 'or',\n              args: [\n                {\n                  prim: 'lambda',\n                  args: [\n                    {\n                      prim: 'unit'\n                    },\n                    {\n                      prim: 'list',\n                      args: [\n                        {\n                          prim: 'operation'\n                        }\n                      ]\n                    }\n                  ],\n                  annots: ['%do']\n                },\n                {\n                  prim: 'unit',\n                  annots: ['%default']\n                }\n              ]\n            }\n          ]\n        },\n        {\n          prim: 'storage',\n          args: [\n            {\n              prim: 'key_hash'\n            }\n          ]\n        },\n        {\n          prim: 'code',\n          args: [\n            [\n              [\n                [\n                  {\n                    prim: 'DUP'\n                  },\n                  {\n                    prim: 'CAR'\n                  },\n                  {\n                    prim: 'DIP',\n                    args: [\n                      [\n                        {\n                          prim: 'CDR'\n                        }\n                      ]\n                    ]\n                  }\n                ]\n              ],\n              {\n                prim: 'IF_LEFT',\n                args: [\n                  [\n                    {\n                      prim: 'PUSH',\n                      args: [\n                        {\n                          prim: 'mutez'\n                        },\n                        {\n                          int: '0'\n                        }\n                      ]\n                    },\n                    {\n                      prim: 'AMOUNT'\n                    },\n                    [\n                      [\n                        {\n                          prim: 'COMPARE'\n                        },\n                        {\n                          prim: 'EQ'\n                        }\n                      ],\n                      {\n                        prim: 'IF',\n                        args: [\n                          [],\n                          [\n                            [\n                              {\n                                prim: 'UNIT'\n                              },\n                              {\n                                prim: 'FAILWITH'\n                              }\n                            ]\n                          ]\n                        ]\n                      }\n                    ],\n                    [\n                      {\n                        prim: 'DIP',\n                        args: [\n                          [\n                            {\n                              prim: 'DUP'\n                            }\n                          ]\n                        ]\n                      },\n                      {\n                        prim: 'SWAP'\n                      }\n                    ],\n                    {\n                      prim: 'IMPLICIT_ACCOUNT'\n                    },\n                    {\n                      prim: 'ADDRESS'\n                    },\n                    {\n                      prim: 'SENDER'\n                    },\n                    [\n                      [\n                        {\n                          prim: 'COMPARE'\n                        },\n                        {\n                          prim: 'EQ'\n                        }\n                      ],\n                      {\n                        prim: 'IF',\n                        args: [\n                          [],\n                          [\n                            [\n                              {\n                                prim: 'UNIT'\n                              },\n                              {\n                                prim: 'FAILWITH'\n                              }\n                            ]\n                          ]\n                        ]\n                      }\n                    ],\n                    {\n                      prim: 'UNIT'\n                    },\n                    {\n                      prim: 'EXEC'\n                    },\n                    {\n                      prim: 'PAIR'\n                    }\n                  ],\n                  [\n                    {\n                      prim: 'DROP'\n                    },\n                    {\n                      prim: 'NIL',\n                      args: [\n                        {\n                          prim: 'operation'\n                        }\n                      ]\n                    },\n                    {\n                      prim: 'PAIR'\n                    }\n                  ]\n                ]\n              }\n            ]\n          ]\n        }\n      ],\n      storage: { bytes: pkHex }\n    };\n  }\n  getFA12Transaction(from: string, to: string, amount: string) {\n    return {\n      entrypoint: 'transfer',\n      value: {\n        args: [\n          {\n            string: from\n          },\n          {\n            args: [\n              {\n                string: to\n              },\n              {\n                int: amount\n              }\n            ],\n            prim: 'Pair'\n          }\n        ],\n        prim: 'Pair'\n      }\n    };\n  }\n  getFA2Transaction(from: string, to: string, amount: string, id: string) {\n    return {\n      entrypoint: 'transfer',\n      value: [\n        {\n          prim: 'Pair',\n          args: [\n            {\n              string: from\n            },\n            [\n              {\n                prim: 'Pair',\n                args: [\n                  {\n                    string: to\n                  },\n                  {\n                    prim: 'Pair',\n                    args: [\n                      {\n                        int: id.toString()\n                      },\n                      {\n                        int: amount\n                      }\n                    ]\n                  }\n                ]\n              }\n            ]\n          ]\n        }\n      ]\n    };\n  }\n  getApproveAmountParameters(from: string, amount: string) {\n    return {\n      entrypoint: 'approve',\n      value: {\n        prim: 'Pair',\n        args: [\n          {\n            string: from\n          },\n          {\n            int: amount\n          }\n        ]\n      }\n    };\n  }\n  getRevokeAmountParameters(from: string) {\n    return {\n      entrypoint: 'approve',\n      value: {\n        prim: 'Pair',\n        args: [\n          {\n            string: from\n          },\n          {\n            int: '0'\n          }\n        ]\n      }\n    };\n  }\n  getXTZToTokenParameters(from: string, minimum: string, expirationTime: string) {\n    return {\n      entrypoint: 'xtzToToken',\n      value: {\n        prim: 'Pair',\n        args: [\n          {\n            string: from\n          },\n          {\n            prim: 'Pair',\n            args: [\n              {\n                int: minimum\n              },\n              {\n                string: expirationTime\n              }\n            ]\n          }\n        ]\n      }\n    };\n  }\n  getTokenToXTZParameters(from: string, minimumToken: string, minimumXTZ: string, expirationTime: string) {\n    return {\n      entrypoint: 'tokenToXtz',\n      value: {\n        prim: 'Pair',\n        args: [\n          {\n            string: from\n          },\n          {\n            prim: 'Pair',\n            args: [\n              {\n                int: minimumToken\n              },\n              {\n                prim: 'Pair',\n                args: [\n                  {\n                    int: minimumXTZ\n                  },\n                  {\n                    string: expirationTime\n                  }\n                ]\n              }\n            ]\n          }\n        ]\n      }\n    };\n  }\n\n  getAddLiquidityParameters(from: string, minimumLqt: string, minimumToken: string, expirationTime: string) {\n    return {\n      entrypoint: 'addLiquidity',\n      value: {\n        prim: 'Pair',\n        args: [\n          {\n            string: from\n          },\n          {\n            prim: 'Pair',\n            args: [\n              {\n                int: minimumLqt\n              },\n              {\n                prim: 'Pair',\n                args: [\n                  {\n                    int: minimumToken\n                  },\n                  {\n                    string: expirationTime\n                  }\n                ]\n              }\n            ]\n          }\n        ]\n      }\n    };\n  }\n\n  getRemoveLiquidityParameters(from: string, lqtBurn: string, minXtzWithdrawn: string, minTokensWithdrawn: string, expirationTime: string) {\n    return {\n      entrypoint: 'removeLiquidity',\n\n      value: {\n        prim: 'Pair',\n        args: [\n          {\n            string: from\n          },\n          {\n            prim: 'Pair',\n            args: [\n              {\n                int: lqtBurn\n              },\n              {\n                prim: 'Pair',\n                args: [\n                  {\n                    int: minXtzWithdrawn\n                  },\n                  {\n                    prim: 'Pair',\n                    args: [\n                      {\n                        int: minTokensWithdrawn\n                      },\n                      {\n                        string: expirationTime\n                      }\n                    ]\n                  }\n                ]\n              }\n            ]\n          }\n        ]\n      }\n    };\n  }\n\n  getTezToTokenPaymentParameters(from: string, minimumToken: string) {\n    return {\n      entrypoint: 'tezToTokenPayment',\n      value: {\n        prim: 'Pair',\n        args: [\n          {\n            int: minimumToken\n          },\n          {\n            string: from\n          }\n        ]\n      }\n    };\n  }\n\n  getTokenToTezPaymentParameters(from: string, minimumXtz: string, minimumToken: string) {\n    return {\n      entrypoint: 'tokenToTezPayment',\n      value: {\n        prim: 'Pair',\n        args: [\n          {\n            prim: 'Pair',\n            args: [\n              {\n                int: minimumToken\n              },\n              {\n                int: minimumXtz\n              }\n            ]\n          },\n          {\n            string: from\n          }\n        ]\n      }\n    };\n  }\n\n  parseTokenTransfer(op: any): { tokenId: string; to: string; amount: string } {\n    const opJson = JSON.stringify(op.parameters);\n    const addresses = opJson.match(/\\{\\\"string\\\":\\\"[^\\\"]*/g)?.map((s) => {\n      return s.slice(11);\n    });\n    const amounts = opJson.match(/\\{\\\"int\\\":\\\"[^\\\"]*/g)?.map((i) => {\n      return i.slice(8);\n    });\n    if (!addresses || !amounts) {\n      return null;\n    }\n    if (addresses.length === 2) {\n      if (amounts.length === 1) {\n        const fa12ref = this.getFA12Transaction(addresses[0], addresses[1], amounts[0]);\n        if (isEqual(fa12ref, op.parameters)) {\n          return {\n            tokenId: `${op.destination}:0`,\n            to: addresses[1],\n            amount: amounts[0]\n          };\n        }\n      } else if (amounts.length === 2) {\n        const fa2ref = this.getFA2Transaction(addresses[0], addresses[1], amounts[1], String(amounts[0]));\n        if (isEqual(fa2ref, op.parameters)) {\n          return {\n            tokenId: `${op.destination}:${amounts[0]}`,\n            to: addresses[1],\n            amount: amounts[1]\n          };\n        }\n      }\n    }\n    return null;\n  }\n  postRpc(path: string, payload: any): Observable<any> {\n    return this.http.post(`${this.nodeURL}/${path}`, payload, httpOptions).pipe(this.retryPipeline(path));\n  }\n  getRpc(path: string): Observable<any> {\n    return this.http.get(`${this.nodeURL}/${path}`).pipe(this.retryPipeline(path));\n  }\n  private retryPipeline(path: string, retries: number = 3): MonoTypeOperatorFunction<unknown> {\n    const retryWithWarning = (i, e) => {\n      if (i < retries) {\n        console.warn(`Retry ${i + 1}: ${path}`, e);\n      }\n      return of(e).pipe(delayOperator(250));\n    };\n    return retryWhen((errors) =>\n      errors.pipe(concatMap((e, i) => iif(() => i >= retries || !(e?.name === 'HttpErrorResponse'), throwError(e), retryWithWarning(i, e))))\n    );\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject, Subject } from 'rxjs';\nimport { TokenData } from '../token/token.service';\nimport { Account } from '../wallet/wallet';\n\ninterface PrepareTokenTransfer {\n  account: Account;\n  tokenTransfer: string;\n  symbol: string;\n}\ninterface MetadataUpdated {\n  contractAddress: string;\n  id: string;\n  token: TokenData;\n}\n@Injectable({\n  providedIn: 'root'\n})\nexport class SubjectService {\n  public activeAccount = new BehaviorSubject(null);\n  public walletUpdated = new BehaviorSubject(null);\n  public metadataUpdated: BehaviorSubject<MetadataUpdated>;\n  public markets: BehaviorSubject<any>;\n  public confirmedOp: Subject<string>;\n  public prepareTokenTransfer: Subject<PrepareTokenTransfer>;\n  public nftsUpdated: BehaviorSubject<any>;\n  public origin: BehaviorSubject<string>;\n  public beaconResponse: Subject<boolean>;\n  public logout: Subject<boolean>;\n  public moonpay: Subject<boolean>;\n  constructor() {\n    this.init();\n    this.logout.subscribe((o) => {\n      if (o) {\n        this.reset();\n      }\n    });\n  }\n  init() {\n    this.metadataUpdated = new BehaviorSubject<MetadataUpdated>(null);\n    this.markets = new BehaviorSubject<any>([]);\n    this.confirmedOp = new Subject<string>();\n    this.prepareTokenTransfer = new Subject<PrepareTokenTransfer>();\n    this.nftsUpdated = new BehaviorSubject<any>(undefined);\n    this.origin = new BehaviorSubject<string>(null);\n    this.beaconResponse = new Subject<boolean>();\n    this.logout = new Subject<boolean>();\n    this.moonpay = new Subject<boolean>();\n  }\n  reset() {\n    this.metadataUpdated.next(null);\n    this.markets.next([]);\n    this.nftsUpdated.next(undefined);\n  }\n}\n","import Big from 'big.js';\n\nexport class Amount {\n  decimalPlaces: number = 6;\n  internalBigInt: Big = Big(0);\n  internalNormalised: number = 0;\n\n  constructor(c: any) {\n    if (c?.rpcAmount === undefined && c?.normalisedAmount === undefined) {\n      return;\n    }\n    this.decimalPlaces = c.decimalPlaces;\n    if (!!c?.rpcAmount) {\n      let multiplierIntValue = Math.round(Math.pow(10, this.decimalPlaces));\n      this.internalNormalised = parseFloat(Big(c.rpcAmount).div(multiplierIntValue).toString() || 0);\n      this.internalBigInt = Big(c.rpcAmount);\n    } else if (!!c?.normalisedAmount) {\n      let multiplierIntValue = Math.round(Math.pow(10, this.decimalPlaces));\n      this.internalNormalised = parseFloat(Big(c.normalisedAmount).toString() || 0);\n      this.internalBigInt = Big(c.normalisedAmount).times(multiplierIntValue);\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport dexterCalculations from 'dexCalcs/dist/index-mobile.min';\nimport { Amount } from './classes/Amount';\nimport Big from 'big.js';\nimport { ChartSeries } from '../../../app/components/ui/chart/chart.component';\n@Injectable({ providedIn: 'root' })\nexport class SwapLiquidityService {\n  readonly lqdTokenContract = 'KT1AafHA1C1vk959wvHWBispY9Y2f3fxBUUo';\n  readonly lqdContract = 'KT1TxqZ8QtKvLu3V3JH7Gx58n7Co8pgtpQU5';\n  readonly tzBTCContract = 'KT1PWx2mnDueood7fEmfbBDKx1D9BAnnXitn';\n\n  public storage = {};\n  public dipdupContracts = [];\n\n  constructor() {}\n\n  async fetchContracts(offset = 0): Promise<void> {\n    const baseUrl = `https://dex.dipdup.net/v1/graphql`;\n    const req = {\n      query: `{dipdupContract(where: {}, offset: ${offset}) {address, name, typename, updatedAt, createdAt}}`\n    };\n    try {\n      const response = await (\n        await fetch(baseUrl, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(req)\n        })\n      ).json();\n      if (response?.data?.dipdupContract?.length > 0) {\n        this.dipdupContracts.concat(response.data.dipdupContract);\n        await this.fetchContracts(offset + 100);\n      } else if (offset === 0) {\n        throw new Error();\n      }\n      return;\n    } catch (e) {\n      throw new Error();\n    }\n  }\n\n  async fetchStorage(contract): Promise<void> {\n    try {\n      return await fetch(`https://api.tzkt.io/v1/contracts/${contract}/storage`)\n        .then((r) => r.json())\n        .then((r) => {\n          this.storage[contract] = {};\n          this.storage[contract].total_pool = r['lqtTotal'];\n          this.storage[contract].tez_pool = r['xtzPool'];\n          this.storage[contract].token_pool = r['tokenPool'];\n        });\n    } catch (e) {\n      throw new Error();\n    }\n  }\n\n  settings(dex: string): {\n    fee: string;\n    burn: string;\n    includeSubsidy: boolean;\n  } {\n    switch (dex) {\n      case 'liquidityBaking':\n        return { fee: '0.1', burn: '0.1', includeSubsidy: false };\n      case 'quipuswap':\n        return { fee: '0.3', burn: '0', includeSubsidy: false };\n      default:\n        return { fee: '0.3', burn: '0', includeSubsidy: false };\n    }\n  }\n\n  createPoolAmounts(): { xtzPool: Amount; tokenPool: Amount } {\n    const xtzPool = new Amount({\n      rpcAmount: parseFloat(this.storage[this.lqdContract]?.tez_pool),\n      decimalPlaces: 6\n    });\n    const tokenPool = new Amount({\n      rpcAmount: parseFloat(this.storage[this.lqdContract]?.token_pool),\n      decimalPlaces: 8\n    });\n    return { xtzPool, tokenPool };\n  }\n\n  calculateXtzToToken(xtzToSell, xtzPool, tokenPool, maxSlippage, dex): { expected; minimum; rate; impactDouble } {\n    const expected = this.xtzToTokenExpectedReturn(xtzToSell, xtzPool, tokenPool, dex);\n    const minimum = this.xtzToTokenMinimumReturn(expected, maxSlippage);\n    const rate = this.xtzToTokenExchangeRateDisplay(xtzToSell, xtzPool, tokenPool, dex);\n    const priceImpact = this.xtzToTokenPriceImpact(xtzToSell, xtzPool, tokenPool, dex);\n    const impactDouble = priceImpact ?? 0;\n    return { expected, minimum, rate, impactDouble };\n  }\n\n  calculateXtzToTokenFromToken(tokenToSell, xtzPool, tokenPool, maxSlippage, dex): { xtz; token } {\n    const result = this.calculateTokenToXTZ(tokenToSell, xtzPool, tokenPool, maxSlippage, dex);\n    const expected = this.xtzToTokenExpectedReturn(result.expected, xtzPool, tokenPool, dex);\n    const minimum = this.xtzToTokenMinimumReturn(expected, maxSlippage);\n    const rate = this.xtzToTokenExchangeRateDisplay(result.expected, xtzPool, tokenPool, dex);\n    const priceImpact = this.xtzToTokenPriceImpact(result.expected, xtzPool, tokenPool, dex);\n    const impactDouble = priceImpact ?? 0;\n    return { xtz: result, token: { expected, minimum, rate, impactDouble } };\n  }\n\n  calculateTokenToXTZ(tokenToSell, xtzPool, tokenPool, maxSlippage, dex): { expected; minimum; rate; impactDouble } {\n    const expected = this.tokenToXtzExpectedReturn(tokenToSell, xtzPool, tokenPool, dex);\n    const minimum = this.tokenToXtzMinimumReturn(expected, maxSlippage);\n    const rate = this.tokenToXtzExchangeRateDisplay(tokenToSell, xtzPool, tokenPool, dex);\n    const priceImpact = this.tokenToXtzPriceImpact(tokenToSell, xtzPool, tokenPool, dex);\n    const impactDouble = priceImpact ?? 0;\n    return { expected, minimum, rate, impactDouble };\n  }\n\n  calculateTokenToXTZFromXTZ(xtzToSell, xtzPool, tokenPool, maxSlippage, dex): { xtz; token } {\n    const result = this.calculateXtzToToken(xtzToSell, xtzPool, tokenPool, maxSlippage, dex);\n    const expected = this.tokenToXtzExpectedReturn(result.expected, xtzPool, tokenPool, dex);\n    const minimum = this.tokenToXtzMinimumReturn(expected, maxSlippage);\n    const rate = this.tokenToXtzExchangeRateDisplay(result.expected, xtzPool, tokenPool, dex);\n    const priceImpact = this.tokenToXtzPriceImpact(result.expected, xtzPool, tokenPool, dex);\n    const impactDouble = priceImpact ?? 0;\n    return { xtz: { expected, minimum, rate, impactDouble }, token: result };\n  }\n\n  calculateAddLiquidityXTZ(xtz, xtzPool, tokenPool, totalLiquidity, maxSlippage, dex): { liquidityExpected; liquidityMinimum; tokenRequired; exchangeRate } {\n    const tokenRequired = this.addLiquidityTokenRequired(xtz, xtzPool, tokenPool, dex);\n    const liquidityReturned = this.addLiquidityReturn(xtz, xtzPool, totalLiquidity, maxSlippage, dex);\n    const exchangeRate = this.xtzToTokenExchangeRateDisplay(xtz, xtzPool, tokenPool, dex);\n    return {\n      liquidityExpected: liquidityReturned?.expected,\n      liquidityMinimum: liquidityReturned?.minimum,\n      tokenRequired,\n      exchangeRate\n    };\n  }\n\n  calculateAddLiquidityToken(token, xtzPool, tokenPool, totalLiquidity, maxSlippage, dex): { liquidityExpected; liquidityMinimum; xtzRequired; exchangeRate } {\n    const xtzRequired = this.addLiquidityXtzRequired(token, xtzPool, tokenPool, dex);\n    const liquidityReturned = this.addLiquidityReturn(xtzRequired, xtzPool, totalLiquidity, maxSlippage, dex);\n    const exchangeRate = this.xtzToTokenExchangeRateDisplay(xtzRequired, xtzPool, tokenPool, dex);\n    return {\n      liquidityExpected: liquidityReturned?.expected,\n      liquidityMinimum: liquidityReturned?.minimum,\n      xtzRequired,\n      exchangeRate\n    };\n  }\n\n  calculateRemoveLiquidity(\n    liquidityBurned,\n    xtzPool,\n    tokenPool,\n    totalLiquidity,\n    maxSlippage,\n    dex\n  ): { xtzExpected; xtzMinimum; tokenExpected; tokenMinimum; exchangeRate } {\n    const xtzOut = this.removeLiquidityXtzReceived(liquidityBurned, totalLiquidity, xtzPool, maxSlippage, dex);\n    const tokenOut = this.removeLiquidityTokenReceived(liquidityBurned, totalLiquidity, tokenPool, maxSlippage);\n    const exchangeRate = this.xtzToTokenExchangeRateDisplay(xtzOut.expected, xtzPool, tokenPool, dex);\n\n    return {\n      xtzExpected: xtzOut?.expected,\n      xtzMinimum: xtzOut?.minimum,\n      tokenExpected: tokenOut?.expected,\n      tokenMinimum: tokenOut?.minimum,\n      exchangeRate\n    };\n  }\n\n  xtzToTokenExpectedReturn(xtzToSell: Amount, xtzPool: Amount, tokenPool: Amount, dex): Amount {\n    const xtz = xtzToSell.internalBigInt;\n    const xPool = xtzPool.internalBigInt;\n    const tPool = tokenPool.internalBigInt;\n    const result = dexterCalculations.xtzToTokenTokenOutput(\n      xtz.toString(),\n      xPool.toString(),\n      tPool.toString(),\n      dex.fee.toString(),\n      dex.burn.toString(),\n      dex.includeSibsidy\n    );\n    return new Amount({\n      rpcAmount: result?.toString() || '0',\n      decimalPlaces: tokenPool.decimalPlaces\n    });\n  }\n\n  xtzToTokenMinimumReturn(tokenAmount: Amount, slippage: number): Amount {\n    const token = tokenAmount.internalBigInt;\n    if (slippage < 0 || slippage > 1) {\n      console.log(`slippage value supplied to 'xtzToTokenMinimumReturn' was not between 0 and 1: ${slippage}`);\n      return undefined;\n    }\n    const result = dexterCalculations.xtzToTokenMinimumTokenOutput(token.toString(), slippage);\n    return new Amount({\n      rpcAmount: result?.value?.toString() || '0',\n      decimalPlaces: tokenAmount.decimalPlaces\n    });\n  }\n\n  xtzToTokenRequiredXtzFor(tokenAmount: Amount, xtzPool: Amount, tokenPool: Amount, dex): Amount {\n    const tokenRequired = tokenAmount.internalBigInt;\n    const xtzPoolRpc = xtzPool.internalBigInt;\n    const tokenPoolRpc = tokenPool.internalBigInt;\n\n    const result = dexterCalculations.xtzToTokenXtzInput(\n      tokenRequired,\n      xtzPoolRpc,\n      tokenPoolRpc,\n      tokenAmount.decimalPlaces,\n      dex.fee.toString(),\n      dex.burn.toString(),\n      dex.includeSibsidy\n    );\n    return new Amount({ rpcAmount: result.toString() });\n  }\n\n  xtzToTokenExchangeRate(xtzToSell: Amount, xtzPool: Amount, tokenPool: Amount, dex): number {\n    const xtz = xtzToSell.internalBigInt;\n    const xtzPoolRpc = xtzPool.internalBigInt;\n    const tokenPoolRpc = tokenPool.internalBigInt;\n\n    const result = dexterCalculations.xtzToTokenExchangeRate(xtz, xtzPoolRpc, tokenPoolRpc, dex.fee.toString(), dex.burn.toString(), dex.includeSibsidy);\n    return parseFloat(result.toString());\n  }\n\n  xtzToTokenExchangeRateDisplay(xtzToSell: Amount, xtzPool: Amount, tokenPool: Amount, dex): string {\n    const xtz = xtzToSell.internalBigInt;\n    const xPool = xtzPool.internalBigInt;\n    const tPool = tokenPool.internalBigInt;\n    const result = dexterCalculations.xtzToTokenExchangeRateForDisplay(\n      xtz.toString(),\n      xPool.toString(),\n      tPool.toString(),\n      tokenPool.decimalPlaces,\n      dex.fee.toString(),\n      dex.burn.toString(),\n      dex.includeSibsidy\n    );\n    return result?.toString() ?? '0';\n  }\n\n  xtzToTokenPriceImpact(xtzToSell: Amount, xtzPool: Amount, tokenPool: Amount, dex): number {\n    const xtz = xtzToSell.internalBigInt;\n    const xtzPoolRpc = xtzPool.internalBigInt;\n    const tokenPoolRpc = tokenPool.internalBigInt;\n\n    const result = dexterCalculations.xtzToTokenPriceImpact(\n      xtz.toString(),\n      xtzPoolRpc.toString(),\n      tokenPoolRpc.toString(),\n      dex.fee.toString(),\n      dex.burn.toString(),\n      dex.includeSibsidy\n    );\n    return parseFloat(result?.toString() ?? 0);\n  }\n\n  tokenToXtzExpectedReturn(tokenToSell: Amount, xtzPool: Amount, tokenPool: Amount, dex): Amount {\n    const token = tokenToSell.internalBigInt;\n    const xtzPoolRpc = xtzPool.internalBigInt;\n    const tokenPoolRpc = tokenPool.internalBigInt;\n    const result = dexterCalculations.tokenToXtzXtzOutput(\n      token.toString(),\n      xtzPoolRpc.toString(),\n      tokenPoolRpc.toString(),\n      dex.fee.toString(),\n      dex.burn.toString(),\n      dex.includeSibsidy\n    );\n    return new Amount({\n      rpcAmount: result?.toString() || '0',\n      decimalPlaces: 6\n    });\n  }\n\n  tokenToXtzMinimumReturn(xtzAmount: Amount, slippage: number): Amount {\n    const xtz = xtzAmount.internalBigInt;\n\n    if (slippage < 0 || slippage > 1) {\n      console.log(`slippage value supplied to 'tokenToXtzMinimumReturn' was not between 0 and 1: ${slippage}`);\n      return undefined;\n    }\n\n    const result = dexterCalculations.tokenToXtzMinimumXtzOutput(xtz.toString(), slippage);\n    return new Amount({\n      rpcAmount: result?.toString() || '0',\n      decimalPlaces: 6\n    });\n  }\n\n  tokenToXtzRequiredTokenFor(xtzAmount: Amount, xtzPool: Amount, tokenPool: Amount, dex): Amount {\n    const xtzRequired = xtzAmount.internalBigInt;\n    const xPool = xtzPool.internalBigInt;\n    const tPool = tokenPool.internalBigInt;\n\n    const result = dexterCalculations.tokenToXtzTokenInput(\n      xtzRequired,\n      xPool,\n      tPool,\n      tokenPool.decimalPlaces,\n      dex.fee.toString(),\n      dex.burn.toString(),\n      dex.includeSibsidy\n    );\n    return new Amount({\n      rpcAmount: result.toString(),\n      decimalPlaces: tokenPool.decimalPlaces\n    });\n  }\n\n  tokenToXtzExchangeRate(tokenToSell: Amount, xtzPool: Amount, tokenPool: Amount, dex): number {\n    const token = tokenToSell.internalBigInt;\n    const xtzPoolRpc = xtzPool.internalBigInt;\n    const tokenPoolRpc = tokenPool.internalBigInt;\n\n    const result = dexterCalculations.tokenToXtzExchangeRate(\n      token.toString(),\n      xtzPoolRpc,\n      tokenPoolRpc,\n      dex.fee.toString(),\n      dex.burn.toString(),\n      dex.includeSibsidy\n    );\n    return parseFloat(result.toString());\n  }\n\n  tokenToXtzExchangeRateDisplay(tokenToSell: Amount, xtzPool: Amount, tokenPool: Amount, dex): string {\n    const token = tokenToSell.internalBigInt;\n    const xPool = xtzPool.internalBigInt;\n    const tPool = tokenPool.internalBigInt;\n\n    const result = dexterCalculations.tokenToXtzExchangeRateForDisplay(\n      token.toString(),\n      xPool.toString(),\n      tPool.toString(),\n      tokenPool.decimalPlaces,\n      dex.fee.toString(),\n      dex.burn.toString(),\n      dex.includeSibsidy\n    );\n    return result?.toString() ?? '0';\n  }\n\n  tokenToXtzMarketRate(xtzPool: Amount, tokenPool: Amount): number {\n    const xPool = xtzPool.internalBigInt;\n    const tPool = tokenPool.internalBigInt;\n\n    const result = dexterCalculations.tokenToXtzMarketRate(xPool, tPool, tokenPool.decimalPlaces);\n    return parseFloat(parseFloat(result.toString()).toFixed(tokenPool.decimalPlaces));\n  }\n\n  tokenToXtzPriceImpact(tokenToSell: Amount, xtzPool: Amount, tokenPool: Amount, dex): number {\n    const token = tokenToSell.internalBigInt;\n    const xtzPoolRpc = xtzPool.internalBigInt;\n    const tokenPoolRpc = tokenPool.internalBigInt;\n\n    const result = dexterCalculations.tokenToXtzPriceImpact(\n      token.toString(),\n      xtzPoolRpc.toString(),\n      tokenPoolRpc.toString(),\n      dex.fee.toString(),\n      dex.burn.toString(),\n      dex.includeSibsidy\n    );\n    return parseFloat(result?.toString() ?? 0);\n  }\n\n  addLiquidityReturn(xtzToDeposit: Amount, xtzPool: Amount, totalLiquidity: Amount, slippage: number, dex): { expected: Amount; minimum: Amount } {\n    if (slippage < 0 || slippage > 1) {\n      console.log(`slippage value supplied to 'addLiquidityReturn' was not between 0 and 1: ${slippage}`);\n      return undefined;\n    }\n\n    const xtzIn = xtzToDeposit.internalBigInt;\n    const xPool = xtzPool.internalBigInt;\n    const totalLqt = totalLiquidity;\n\n    const result = dexterCalculations.addLiquidityLiquidityCreated(xtzIn.toString(), xPool.toString(), totalLqt.toString(), dex.includeSubsidy);\n    const expected = new Amount({\n      rpcAmount: result?.value ?? 0,\n      decimalPlaces: 0\n    });\n    const minimum = expected.internalNormalised - expected.internalNormalised * slippage;\n    const minAmount = new Amount({\n      normalisedAmount: minimum ?? 0,\n      decimalPlaces: 0\n    });\n    return { expected, minimum: minAmount };\n  }\n\n  addLiquidityTokenRequired(xtzToDeposit: Amount, xtzPool: Amount, tokenPool: Amount, dex): Amount {\n    const xtzIn = xtzToDeposit.internalBigInt;\n    const xPool = xtzPool.internalBigInt;\n    const tPool = tokenPool.internalBigInt;\n\n    const result = dexterCalculations.addLiquidityTokenIn(xtzIn.toString(), xPool.toString(), tPool.toString(), dex.includeSubsidy);\n    return new Amount({\n      rpcAmount: result?.toString() ?? '0',\n      decimalPlaces: tokenPool.decimalPlaces\n    });\n  }\n\n  addLiquidityXtzRequired(tokenToDeposit: Amount, xtzPool: Amount, tokenPool: Amount, dex): Amount {\n    const tokenIn = tokenToDeposit.internalBigInt;\n    const xPool = xtzPool.internalBigInt;\n    const tPool = tokenPool.internalBigInt;\n\n    const result = dexterCalculations.addLiquidityXtzIn(tokenIn.toString(), xPool.toString(), tPool.toString(), dex.includeSubsidy);\n    return new Amount({ rpcAmount: result?.toString() ?? '0', decimalPlaces: xtzPool.decimalPlaces });\n  }\n\n  removeLiquidityTokenReceived(liquidityBurned: Amount, totalLiquidity: Amount, tokenPool: Amount, slippage: number): { expected: Amount; minimum: Amount } {\n    if (slippage < 0 || slippage > 1) {\n      console.log(`slippage value supplied to 'removeLiquidityTokenReceived' was not between 0 and 1: ${slippage}`);\n      return undefined;\n    }\n\n    const lqtBurned = liquidityBurned.internalBigInt;\n    const tLqt = totalLiquidity;\n    const tPool = tokenPool.internalBigInt;\n\n    const result = dexterCalculations.removeLiquidityTokenOut(lqtBurned.toString(), tLqt.toString(), tPool.toString());\n\n    if (!!Big(result?.value).toString()) {\n      const expected = new Amount({\n        rpcAmount: result?.value ?? 0,\n        decimalPlaces: 8\n      });\n      const minimum = expected.internalNormalised - expected.internalNormalised * slippage;\n      const minAmount = new Amount({\n        normalisedAmount: minimum,\n        decimalPlaces: 8\n      });\n      return { expected, minimum: minAmount };\n    } else {\n      return undefined;\n    }\n  }\n\n  removeLiquidityXtzReceived(liquidityBurned: Amount, totalLiquidity: Amount, xtzPool: Amount, slippage: number, dex): { expected: Amount; minimum: Amount } {\n    if (slippage < 0 || slippage > 1) {\n      console.log(`slippage value supplied to 'removeLiquidityXtzReceived' was not between 0 and 1: ${slippage}`);\n      return undefined;\n    }\n\n    const lqtBurned = liquidityBurned.internalBigInt;\n    const tLqt = totalLiquidity;\n    const xPool = xtzPool.internalBigInt;\n\n    const result = dexterCalculations.removeLiquidityXtzOut(lqtBurned.toString(), tLqt.toString(), xPool.toString(), dex.includeSubsidy);\n\n    if (!!Big(result?.value).toString()) {\n      const expected = new Amount({\n        rpcAmount: result?.value,\n        decimalPlaces: 6\n      });\n      const minimum = expected.internalNormalised - expected.internalNormalised * slippage;\n      const minAmount = new Amount({\n        normalisedAmount: minimum,\n        decimalPlaces: 6\n      });\n      return { expected, minimum: minAmount };\n    } else {\n      return undefined;\n    }\n  }\n  estimateLiquidityBakingAPY() {\n    return 'APY: ' + dexterCalculations.estimateLiquidityBakingAPY(this.storage[this.lqdContract]?.tez_pool).toFixed(2) + '%';\n  }\n}\n","// https://gitlab.com/tezos-domains/client\nimport { TezosToolkit } from '@taquito/taquito';\nimport { TaquitoTezosDomainsClient } from '@tezos-domains/taquito-client';\nimport { Tzip16Module } from '@taquito/tzip16';\nimport { Injectable } from '@angular/core';\nimport { CONSTANTS } from '../../../environments/environment';\nimport { SupportedNetworkType } from '@tezos-domains/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TezosDomainsService {\n  private client: TaquitoTezosDomainsClient;\n  private queue = [];\n  pending = false;\n  constructor() {\n    const tezosToolkit = new TezosToolkit(CONSTANTS.NODE_URL);\n    tezosToolkit.addExtension(new Tzip16Module());\n    const options = { caching: { enabled: false } };\n    this.client = new TaquitoTezosDomainsClient({\n      tezos: tezosToolkit,\n      network: <SupportedNetworkType>CONSTANTS.NETWORK,\n      ...options\n    });\n  }\n  async getAddressFromDomain(domain: string) {\n    const address = await this.client.resolver.resolveNameToAddress(domain);\n    if (!address) {\n      return { pkh: '' };\n    }\n    return { pkh: address };\n  }\n  async getDomainFromAddress(address: string): Promise<string> {\n    if (!this.pending) {\n      this.pending = true;\n      this.collect();\n    }\n    return new Promise((resolve, reject) => {\n      this.queue.push({ address, resolve, reject });\n    });\n  }\n  async collect() {\n    setTimeout(async () => {\n      this.pending = false;\n      const queue = this.queue;\n      this.queue = [];\n      const addresses = queue.map((q) => {\n        return q.address;\n      });\n      const items = await this.getDomainFromAddresses(addresses).catch((e) => {\n        for (const q of queue) {\n          q.reject(e);\n          throw e;\n        }\n      });\n      while (queue.length) {\n        const promise = queue.shift();\n        if (items[promise.address]) {\n          promise.resolve(items[promise.address]);\n        } else {\n          promise.resolve('');\n        }\n      }\n    }, 100);\n  }\n  async getDomainFromAddresses(addresses: any) {\n    const baseUrl = CONSTANTS.MAINNET ? 'https://api.tezos.domains/graphql' : `https://${CONSTANTS.NETWORK}-api.tezos.domains/graphql`;\n    const req = {\n      query: `{reverseRecords(where: {address: {in: ${JSON.stringify(addresses)}}}) {items {address domain: domain {id, name}}}}`\n    };\n    const response = await (\n      await fetch(baseUrl, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(req)\n      })\n    ).json();\n    const r = {};\n    if (response.data) {\n      for (const item of response.data.reverseRecords.items) {\n        if (item?.address && item?.domain?.name) {\n          r[item.address] = item.domain.name;\n        }\n      }\n    }\n    return r;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { TokenResponseType, TokenService } from '../token/token.service';\nimport { ActivityService } from '../activity/activity.service';\nimport { WalletService } from '../wallet/wallet.service';\nimport { Account, OriginatedAccount } from '../wallet/wallet';\nimport Big from 'big.js';\nimport { CONSTANTS } from '../../../environments/environment';\nimport { decode } from 'blurhash';\nimport { combineLatest } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\nimport { SubjectService } from '../subject/subject.service';\nimport { TeztoolsService } from '../indexer/teztools/teztools.service';\n\ninterface TokenWithBalance extends TokenResponseType {\n  balance: string;\n  price: string;\n}\ninterface ContractWithImg {\n  name: string;\n  thumbnailUrl: string;\n  visitUrl: string;\n  tokens: TokenWithBalance[];\n  hidden?: boolean;\n}\ntype ContractsWithBalance = Record<string, ContractWithImg>;\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TokenBalancesService {\n  xtzUsdRate: number;\n  balances: TokenWithBalance[] = [];\n  nfts: ContractsWithBalance = null;\n  activeAccount: Account = null;\n  _thumbnailsToCreate = [];\n  constructor(\n    private tokenService: TokenService,\n    private activityService: ActivityService,\n    private walletService: WalletService,\n    private subjectService: SubjectService,\n    private teztoolsService: TeztoolsService\n  ) {\n    this.subjectService.markets.subscribe((markets) => {\n      if (markets) {\n        this.mergeMarket();\n      }\n    });\n    combineLatest([this.subjectService.activeAccount, this.subjectService.metadataUpdated, this.activityService.tokenBalanceUpdated])\n      .pipe(debounceTime(3))\n      .subscribe(([a, b, c]) => {\n        if (this.activeAccount !== a) {\n          this.activeAccount = a;\n        }\n        this.reload();\n      });\n    this.reload();\n    this.subjectService.logout.subscribe((o) => {\n      if (!!o) {\n        this.destroy();\n      }\n    });\n  }\n  destroy() {\n    this.balances = [];\n    this.nfts = null;\n  }\n  resolveAsset(token, balances, nfts) {\n    const asset: TokenResponseType = this.tokenService.getAsset(token.tokenId);\n    if (asset) {\n      if (this.isNFT(asset)) {\n        // token balance or NFT?\n        const contractAlias = this.getContractAlias(asset.contractAddress) ?? asset.contractAddress;\n        if (nfts[contractAlias] === undefined) {\n          const CONTRACT_ALIASES = CONSTANTS.CONTRACT_ALIASES[contractAlias as string];\n          if (!CONTRACT_ALIASES?.thumbnailUrl) {\n            if (this._thumbnailsToCreate.filter((obj) => obj.contractAlias === contractAlias).length === 0) {\n              this._thumbnailsToCreate.push({\n                contractAlias,\n                address: asset.contractAddress\n              });\n            }\n          }\n          const name = CONTRACT_ALIASES?.name ? CONTRACT_ALIASES.name : this.tokenService.getContractName(asset.contractAddress) ?? contractAlias;\n          nfts[contractAlias] = {\n            name,\n            thumbnailUrl: CONTRACT_ALIASES?.thumbnailUrl ?? this.tokenService.getContractLogo(asset.contractAddress),\n            tokens: []\n          };\n          if (CONTRACT_ALIASES?.link) {\n            nfts[contractAlias].visitUrl = CONTRACT_ALIASES.link;\n          }\n        }\n        nfts[contractAlias].tokens.push({ ...asset, balance: token.balance });\n      } else if (!isNaN(asset.decimals)) {\n        const balance = Big(token.balance)\n          .div(10 ** asset.decimals)\n          .toFixed();\n        balances.push({ ...asset, balance });\n      }\n    } else {\n      if (nfts['unknown'] === undefined) {\n        const hidden = this.nfts !== null && this.nfts['unknown'] === undefined;\n        nfts['unknown'] = {\n          name: 'Unknown tokens',\n          thumbnailUrl: '../../../assets/img/unknown-token-grayscale.svg',\n          tokens: [],\n          hidden\n        };\n        if (hidden) {\n          setTimeout(() => {\n            if (this.nfts['unknown'] !== undefined) {\n              this.nfts['unknown'].hidden = false;\n            }\n          }, 10000);\n        }\n      }\n      const placeholder = this.tokenService.getPlaceholderToken(token.tokenId);\n      placeholder.name = `${placeholder.contractAddress.slice(0, 8)}... (${placeholder.id.toString()})`;\n      delete placeholder.decimals;\n      nfts['unknown'].tokens.push(placeholder);\n    }\n  }\n  reload() {\n    if (!this.activeAccount?.tokens) {\n      return;\n    }\n    const balances: TokenWithBalance[] = [];\n    const nfts: ContractsWithBalance = {};\n    for (let token of this.walletService.wallet.getAccount(this.activeAccount.address).tokens) {\n      if (token?.balance && token?.balance != '0') {\n        this.resolveAsset(token, balances, nfts);\n      }\n    }\n    this.balances = balances;\n    this.nfts = this.orderedNfts(nfts);\n    this.mergeMarket();\n\n    if (this._thumbnailsToCreate.length) {\n      this._thumbnailsToCreate.forEach(({ contractAlias, address }) => {\n        if (!this.nfts[contractAlias].thumbnailUrl) {\n          this.nfts[contractAlias].thumbnailUrl = this.getThumbnailUrl(address);\n        }\n      });\n      this._thumbnailsToCreate = [];\n    }\n    this.subjectService.nftsUpdated.next({ nfts: this.nfts, balances: this.balances });\n  }\n  orderedNfts(nfts: ContractsWithBalance): ContractsWithBalance {\n    const _nfts: ContractsWithBalance = {};\n    const aliases = Object.keys(CONSTANTS.CONTRACT_ALIASES);\n    for (let alias of aliases) {\n      if (nfts[alias]) {\n        _nfts[alias] = nfts[alias];\n        delete nfts[alias];\n      }\n    }\n    const keys = Object.keys(nfts);\n    for (let key of keys) {\n      if (key !== 'unknown') {\n        _nfts[key] = nfts[key];\n        delete nfts[key];\n      }\n    }\n    if (nfts['unknown']) {\n      // property last\n      _nfts['unknown'] = nfts['unknown'];\n      delete nfts['unknown'];\n    }\n    return _nfts;\n  }\n  getContractAlias(address: string) {\n    const keys = Object.keys(CONSTANTS.CONTRACT_ALIASES);\n    for (const key of keys) {\n      if (CONSTANTS.CONTRACT_ALIASES[key].address.includes(address)) {\n        return key;\n      }\n    }\n    return undefined;\n  }\n  getThumbnailUrl(address: string): string {\n    const pixels = decode(address.slice(0, 22), 5, 5);\n    const canvas = document.createElement('canvas');\n    canvas.width = canvas.height = 5;\n    const ctx = canvas.getContext('2d');\n    const imageData = ctx.createImageData(5, 5);\n    imageData.data.set(pixels);\n    ctx.putImageData(imageData, 0, 0);\n    return canvas.toDataURL();\n  }\n\n  isNFT(asset: TokenResponseType): boolean {\n    if (!asset) {\n      return false;\n    }\n    if (CONSTANTS.MAINNET) {\n      return !(\n        CONSTANTS.NFT_CONTRACT_OVERRIDES.includes(`${asset.contractAddress}:${asset.id}`) ||\n        this.teztoolsService.defiTokens.includes(`${asset.contractAddress}:${asset.id}`)\n      );\n    } else {\n      return (asset?.isBooleanAmount || asset?.decimals == 0) && !CONSTANTS.NFT_CONTRACT_OVERRIDES.includes(`${asset.contractAddress}`) ? true : false;\n    }\n  }\n  mergeMarket() {\n    Object.keys(this.balances).forEach((key) => {\n      let token = undefined;\n      const tokenId: string = `${this.balances[key]?.contractAddress}:${this.balances[key]?.id}`;\n      if ((token = this.subjectService.markets.value.find((t) => t?.tokenId === tokenId))) {\n        this.balances[key].price = token?.usdValue * parseFloat(this.balances[key].balance);\n        !!token?.logo_url ? (this.balances[key].displayUrl = this.balances[key].thumbnailUrl = token?.thumbnailUri) : null;\n      }\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ObjktService {\n  private queue = [];\n  pending = false;\n  constructor() {}\n\n  async resolveToken(contractAddress, id) {\n    const req = {\n      query: `{\n        token(where: {fa_contract: {_eq: \"${contractAddress}\"}, token_id: {_eq: \"${id}\"}}) {\n          highest_offer\n          lowest_ask\n          metadata\n          name\n          attributes {\n            attribute {\n              name\n              type\n              value\n            }\n          }\n        }\n      }`\n    };\n    try {\n      return (\n        await (\n          await fetch('https://data.objkt.com/v2/graphql', {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(req)\n          })\n        ).json()\n      )?.data?.token[0];\n    } catch {\n      return undefined;\n    }\n  }\n  async resolveCollection(address): Promise<any> {\n    while (this.queue.length >= 500) {\n      // max 500 results per call\n      await this.sleep(3000);\n    }\n    if (!this.pending) {\n      this.pending = true;\n      this.collect();\n    }\n    return new Promise((resolve, reject) => {\n      this.queue.push({ address, resolve, reject });\n    });\n  }\n\n  async collect() {\n    setTimeout(async () => {\n      this.pending = false;\n      const queue = this.queue;\n      this.queue = [];\n      const addresses = queue.map((q) => {\n        return q.address;\n      });\n      const items = await this.resolveCollections(addresses).catch((e) => {\n        for (const q of queue) {\n          q.reject(e);\n          throw e;\n        }\n      });\n      while (queue.length) {\n        const promise = queue.shift();\n        if (items[promise.address]?.name) {\n          promise.resolve(items[promise.address]);\n        } else {\n          promise.resolve(null);\n        }\n      }\n    }, 3000);\n  }\n\n  async resolveCollections(contractAddresses: string[]) {\n    const req = {\n      query: `{\n        fa(where: {contract: {_in: ${JSON.stringify(contractAddresses)}}}) {\n          contract\n          name\n          logo\n        }\n      }`\n    };\n    const _objkts = (\n      await (\n        await fetch('https://data.objkt.com/v2/graphql', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(req)\n        })\n      ).json()\n    )?.data?.fa;\n    const objkts: any = {};\n    if (_objkts) {\n      for (const objkt of _objkts) {\n        objkts[objkt.contract] = { name: objkt.name, logo: objkt.logo };\n      }\n    }\n    console.log('resolveCollections', objkts);\n    return objkts;\n  }\n  private async sleep(ms) {\n    return new Promise((resolve) => setTimeout(resolve, ms));\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { CONSTANTS, TRUSTED_TOKEN_CONTRACTS, BLACKLISTED_TOKEN_CONTRACTS } from '../../../environments/environment';\nimport { IndexerService } from '../indexer/indexer.service';\nimport Big from 'big.js';\nimport { SubjectService } from '../subject/subject.service';\nimport { TeztoolsService } from '../indexer/teztools/teztools.service';\nimport { filter } from 'rxjs/operators';\nimport { NavigationEnd, Router } from '@angular/router';\nimport { ObjktService } from '../indexer/objkt/objkt.service';\n\nexport interface TokenResponseType {\n  contractAddress: string;\n  id: string;\n  decimals: number;\n  artifactAsset?: Asset;\n  displayAsset: Asset;\n  thumbnailAsset: Asset;\n  name: string;\n  symbol: string;\n  description: string;\n  category: string;\n  kind: string;\n  isTransferable?: boolean;\n  isBooleanAmount?: boolean;\n  shouldPreferSymbol?: boolean;\n  series?: string;\n  ttl?: number;\n  status: Status;\n  isUnknownToken?: boolean;\n}\nexport type Asset = string | CachedAsset;\nexport interface CachedAsset {\n  uri: string;\n  mimeType: string;\n}\n\nexport type ContractsType = Record<string, ContractType>;\nexport type ContractType = FA12 | FA2;\nexport interface TokensInterface {\n  category: string;\n  objkt?: {\n    name?: string;\n    logo?: string;\n    updated: number;\n  };\n}\nenum Status {\n  Rejected = -1,\n  Pending = 0,\n  Approved = 1\n}\nexport interface TokenData {\n  name: string;\n  symbol: string;\n  decimals: number;\n  description: string;\n  artifactAsset?: Asset;\n  displayAsset: Asset;\n  thumbnailAsset: Asset;\n  isTransferable?: boolean;\n  isBooleanAmount?: boolean;\n  shouldPreferSymbol?: boolean;\n  series?: string;\n  ttl?: number;\n  status: Status;\n}\nexport interface FA12 extends TokensInterface {\n  kind: 'FA1.2';\n  tokens: {\n    0: TokenData;\n  };\n}\nexport interface FA2 extends TokensInterface {\n  kind: 'FA2';\n  tokens: Record<number | string, TokenData>;\n}\n@Injectable({\n  providedIn: 'root'\n})\nexport class TokenService {\n  readonly AUTO_DISCOVER: boolean = true;\n  readonly version: string = '1.0.13';\n  private contracts: ContractsType = {};\n  private exploredIds: Record<string, { firstCheck: number; lastCheck: number; counter: number }> = {};\n  private pendingSave = null;\n  readonly storeKey = 'tokenMetadata';\n  readonly unlockablesKey = 'unlockables';\n  queue = [];\n  workers = 0;\n  constructor(\n    public indexerService: IndexerService,\n    private subjectService: SubjectService,\n    private teztoolsService: TeztoolsService,\n    private router: Router,\n    private objktService: ObjktService\n  ) {\n    this.contracts = JSON.parse(JSON.stringify(CONSTANTS.ASSETS));\n    this.loadMetadata();\n    this.saveMetadata();\n    this.router.events.pipe(filter((evt) => evt instanceof NavigationEnd)).subscribe(async (r: NavigationEnd) => {\n      if (r.url.indexOf('/account') === -1) {\n        document.documentElement.className = '';\n      }\n    });\n  }\n  getAsset(tokenId: string): TokenResponseType {\n    if (!tokenId || !tokenId.includes(':')) {\n      return null;\n    }\n    const tokenIdArray = tokenId.split(':');\n    const contractAddress: string = tokenIdArray[0];\n    const id: string = tokenIdArray[1] ? String(tokenIdArray[1]) : null;\n    const contract: ContractType = this.contracts[contractAddress];\n    if (id != null) {\n      if (contract) {\n        let token: TokenResponseType = contract.tokens[id];\n        if (!token) {\n          // check ranges\n          const ids = Object.keys(contract.tokens);\n          for (const idx of ids) {\n            if (idx.includes('-')) {\n              const span = idx.split('-');\n              if (span.length === 2 && !isNaN(Number(span[0])) && !isNaN(Number(span[1]))) {\n                const first = Big(span[0]);\n                const last = Big(span[1]);\n                if (first.gte(id) && last.lte(id)) {\n                  token = JSON.parse(JSON.stringify(contract.tokens[idx]));\n                  token.name = `${JSON.parse(JSON.stringify(contract.tokens[idx].name))} #${Big(id).minus(first).plus(1)}`;\n                  break;\n                }\n              }\n            }\n          }\n        }\n        if (token) {\n          if (token.status < 0) {\n            return {\n              kind: contract.kind,\n              category: contract.category,\n              id,\n              contractAddress,\n              ...token,\n              thumbnailAsset: '',\n              displayAsset: ''\n            };\n          }\n          return {\n            kind: contract.kind,\n            category: contract.category,\n            id,\n            contractAddress,\n            ...token\n          };\n        }\n      }\n    }\n    return null;\n  }\n  getContractName(contractAddress: string) {\n    return this.contracts[contractAddress]?.objkt?.name ?? null;\n  }\n  getContractLogo(contractAddress: string) {\n    return this.contracts[contractAddress]?.objkt?.logo ?? null;\n  }\n  getContractAddressFromAsset(uri: string) {\n    const contractAddresses = Object.keys(this.contracts);\n    for (const contractAddress of contractAddresses) {\n      const tokens = this.contracts[contractAddress].tokens;\n      for (const id in tokens) {\n        if (tokens[id]?.thumbnailAsset?.uri === uri || tokens[id]?.displayAsset?.uri === uri || tokens[id]?.artifactAsset?.uri === uri) {\n          return contractAddress;\n        }\n      }\n    }\n    return '';\n  }\n  isKnownTokenId(tokenId: string): boolean {\n    return this.getAsset(tokenId) !== null;\n  }\n  knownTokenIds(): string[] {\n    const tokenIds: string[] = [];\n    const contractKeys = Object.keys(this.contracts);\n    if (contractKeys) {\n      for (const contractKey of contractKeys) {\n        const tokenKeys = Object.keys(this.contracts[contractKey].tokens);\n        if (tokenKeys) {\n          for (const tokenKey of tokenKeys) {\n            tokenIds.push(`${contractKey}:${tokenKey}`);\n          }\n        }\n      }\n    }\n    return tokenIds;\n  }\n  isCategoryType(address, regex: RegExp): boolean {\n    return regex.test(this.contracts[address]?.category);\n  }\n  isKnownTokenContract(address: string): boolean {\n    return this.contracts[address] !== undefined;\n  }\n  addAsset(contractAddress: string, contract: ContractType) {\n    if (!this.contracts[contractAddress]) {\n      this.contracts[contractAddress] = contract;\n      this.checkObjktData(contractAddress, contract);\n    } else {\n      const currentKeys = Object.keys(this.contracts[contractAddress].tokens);\n      const newKeys = Object.keys(contract.tokens);\n      for (const key of newKeys) {\n        if (!currentKeys.includes(key)) {\n          this.contracts[contractAddress].tokens[key] = contract.tokens[key];\n        } else if (JSON.stringify(contract.tokens[key]) !== JSON.stringify(this.contracts[contractAddress].tokens[key])) {\n          this.contracts[contractAddress].tokens[key] = contract.tokens[key];\n        }\n      }\n    }\n  }\n  async checkObjktData(contractAddress: string, contract: ContractType) {\n    let check = false;\n    if (!contract.objkt) {\n      check = true;\n    } else if (contract?.objkt?.updated) {\n      const diff = Date.now() - contract.objkt.updated;\n      if (!contract?.objkt?.name) {\n        if (diff > 1000 * 60 * 60 * 24) {\n          check = true;\n        }\n      }\n    }\n    if (check) {\n      const _objkt = await this.objktService.resolveCollection(contractAddress);\n      const objkt: any = { updated: Date.now() };\n      if (_objkt?.name) {\n        objkt.name = _objkt.name;\n        if (_objkt.logo) {\n          objkt.logo = _objkt.logo;\n        }\n      }\n      this.contracts[contractAddress].objkt = objkt;\n      this._saveMetadata();\n    }\n  }\n  async searchAllMetadata(unknownTokenIds: any) {\n    if (unknownTokenIds.length) {\n      for (const tokenId of unknownTokenIds) {\n        this.searchMetadata(tokenId);\n      }\n    }\n  }\n  async recheckMetadata(tokens) {\n    if (tokens?.length) {\n      for (let token of tokens) {\n        const tokenObject = this.getAsset(token.tokenId);\n        if (tokenObject?.ttl) {\n          const exp = this.exploredIds[token.tokenId];\n          const now = new Date().getTime();\n          if (now - exp.lastCheck > tokenObject.ttl * 1000) {\n            console.log('recheck metadata for', token.tokenId);\n            this.exploredIds[token.tokenId].lastCheck = now;\n            this.exploredIds[token.tokenId].counter = ++exp.counter || 0;\n            this.saveMetadata();\n            if (!this.queue.includes(token.tokenId)) {\n              this.searchMetadata(token.tokenId, true);\n            }\n          }\n        }\n      }\n    }\n  }\n  private async searchMetadata(tokenId: string, force = false) {\n    if ((!this.isKnownTokenId(tokenId) && !this.queue.includes(tokenId) && this.explore(tokenId)) || force) {\n      this.queue.push(tokenId);\n      if (this.workers < 64) {\n        this.startWorker();\n      }\n    }\n  }\n  async startWorker() {\n    this.workers++;\n    while (this.queue.length) {\n      const tokenId = this.queue.shift();\n      try {\n        const a = tokenId.split(':');\n        const contractAddress = a[0];\n        const id = String(a[1]);\n        const recentDay = this.exploredIds[tokenId]?.lastCheck - this.exploredIds[tokenId]?.firstCheck < 1000 * 3600 * 24;\n        const skipTzkt = this.isKnownTokenId(tokenId) && this.exploredIds[tokenId]?.counter % 5 === 2 && recentDay;\n        const metadata = await this.indexerService.getTokenMetadata(contractAddress, id, skipTzkt);\n        this.handleMetadata(metadata, contractAddress, id);\n      } catch (e) {}\n    }\n    this.workers--;\n  }\n  handleMetadata(metadata: any, contractAddress: string, id: string) {\n    const tokenId = `${contractAddress}:${id}`;\n    if (metadata && (metadata.name || metadata.symbol) && !isNaN(metadata.decimals) && metadata.decimals >= 0) {\n      const contract: ContractType = {\n        kind: metadata.tokenType ? metadata.tokenType : 'FA2',\n        category: metadata.tokenCategory ? metadata.tokenCategory : '',\n        tokens: {}\n      };\n      const token: TokenData = {\n        name: metadata.name ? metadata.name : '',\n        symbol: metadata.symbol ? metadata.symbol : '',\n        decimals: Number(metadata.decimals),\n        description: metadata.description ? metadata.description : '',\n        artifactAsset: metadata.artifactUri ?? '',\n        displayAsset: metadata.displayUri ?? '',\n        thumbnailAsset: metadata.thumbnailUri ?? '',\n        isTransferable: metadata?.isTransferable === false ? metadata.isTransferable : true,\n        isBooleanAmount: metadata?.isBooleanAmount ? metadata.isBooleanAmount : false,\n        status:\n          TRUSTED_TOKEN_CONTRACTS.includes(contractAddress) ||\n          CONSTANTS.NFT_CONTRACT_OVERRIDES.includes(tokenId) ||\n          this.teztoolsService.defiTokens.includes(tokenId)\n            ? 1\n            : 0\n      };\n      if (metadata?.ttl) {\n        token.ttl = Math.max(Number(metadata.ttl), 30);\n      }\n      if (metadata?.series) {\n        token.series = metadata.series;\n      }\n      if (CONSTANTS.ASSETS[contractAddress]?.tokens[id]) {\n        contract.tokens[id] = { ...token, ...CONSTANTS.ASSETS[contractAddress].tokens[id] };\n      } else {\n        contract.tokens[id] = token;\n      }\n      this.addAsset(contractAddress, contract);\n      this.saveMetadata();\n      this.subjectService.metadataUpdated.next({\n        contractAddress,\n        id,\n        token\n      });\n    }\n  }\n  explore(tokenId: string): boolean {\n    const now = new Date().getTime();\n    if (!this.exploredIds[tokenId]) {\n      this.exploredIds[tokenId] = {\n        firstCheck: now,\n        lastCheck: now,\n        counter: 0\n      };\n      this.saveMetadata();\n      return true;\n    } else {\n      const token = this.exploredIds[tokenId];\n      let t1 = 2 ** token.counter * 250;\n      t1 = t1 < 20000 ? 20000 : t1;\n      const t2 = now - token.lastCheck;\n      if (t1 > t2) {\n        return false;\n      }\n      this.exploredIds[tokenId].lastCheck = now;\n      this.exploredIds[tokenId].counter = ++token.counter;\n      this.saveMetadata();\n      return true;\n    }\n  }\n  private getCounter(tokenId: string) {\n    return this.exploredIds[tokenId].counter;\n  }\n  resetCounters() {\n    const ids = Object.keys(this.exploredIds);\n    if (ids) {\n      for (const id of ids) {\n        this.exploredIds[id].counter = 0;\n      }\n      this.saveMetadata(true);\n    }\n  }\n  resetAllMetadata() {\n    this.exploredIds = {};\n    this.contracts = JSON.parse(JSON.stringify(CONSTANTS.ASSETS));\n    this.saveMetadata(true);\n    this.loadMetadata();\n    this.subjectService.metadataUpdated.next(null);\n  }\n  searchTimeMs(tokenId: string) {\n    if (this.exploredIds[tokenId]) {\n      const token = this.exploredIds[tokenId];\n      return token.lastCheck - token.firstCheck;\n    }\n    return 0;\n  }\n  getPlaceholderToken(tokenId: string): TokenResponseType {\n    const tokenIdArray = tokenId.split(':');\n    const contractAddress: string = tokenIdArray[0];\n    const id: string = tokenIdArray[1] ? String(tokenIdArray[1]) : '';\n    return {\n      contractAddress,\n      id,\n      decimals: 0,\n      displayAsset: '',\n      thumbnailAsset: '',\n      name: '[Unknown token]',\n      symbol: '',\n      description: '',\n      category: '',\n      kind: 'FA2',\n      status: 0,\n      isUnknownToken: true\n    };\n  }\n  saveMetadata(force = false) {\n    if (force) {\n      this._saveMetadata();\n      return;\n    }\n    if (!this.pendingSave) {\n      this.pendingSave = setTimeout(() => {\n        this.pendingSave = null;\n        this._saveMetadata();\n      }, 1000);\n    }\n  }\n  private _saveMetadata() {\n    localStorage.setItem(\n      this.storeKey,\n      JSON.stringify({\n        contracts: this.contracts,\n        exploredIds: this.exploredIds,\n        version: this.version\n      })\n    );\n  }\n  loadMetadata(): any {\n    const metadataJson = localStorage.getItem(this.storeKey);\n    if (metadataJson) {\n      const metadata = JSON.parse(metadataJson);\n      if (metadata?.version === this.version) {\n        if (metadata?.contracts) {\n          const contractAddresses = Object.keys(metadata.contracts);\n          for (const address of contractAddresses) {\n            for (const id of Object.keys(metadata.contracts[address].tokens)) {\n              if (metadata.contracts[address].tokens[id]?.status === 0) {\n                if (\n                  TRUSTED_TOKEN_CONTRACTS.includes(address) ||\n                  CONSTANTS.NFT_CONTRACT_OVERRIDES.includes(`${address}:${id}`) ||\n                  this.teztoolsService.defiTokens.includes(`${address}:${id}`)\n                ) {\n                  metadata.contracts[address].tokens[id].status = 1; // flip status if it have been marked as trusted\n                }\n                if (BLACKLISTED_TOKEN_CONTRACTS.includes(address)) {\n                  metadata.contracts[address].tokens[id].status = -1;\n                }\n              }\n            }\n            this.addAsset(address, metadata.contracts[address]);\n          }\n        }\n        if (metadata?.exploredIds) {\n          this.exploredIds = metadata.exploredIds;\n        }\n      } else {\n        // clear all metadata\n      }\n    }\n  }\n  formatAmount(tokenKey: string, amount: string, baseUnit = true): string {\n    if (!tokenKey) {\n      return `${Big(amount)\n        .div(10 ** (baseUnit ? 6 : 0))\n        .toFixed()} tez`;\n    } else {\n      const token = this.getAsset(tokenKey);\n      if (token) {\n        if ((!token.shouldPreferSymbol && token.name) || !token.symbol) {\n          if (token.isBooleanAmount) {\n            if (parseInt(amount) > 1) {\n              return `${amount} ${token.name}`;\n            }\n            return `${token.name}`;\n          } else {\n            return `${Big(amount)\n              .div(10 ** (baseUnit ? token.decimals : 0))\n              .toFixed()} ${token.name}`;\n          }\n        } else {\n          return `${Big(amount)\n            .div(10 ** (baseUnit ? token.decimals : 0))\n            .toFixed()} ${token.symbol}`;\n        }\n      } else {\n        return '[Unknown token]';\n      }\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport DirectWebSdk from 'customauth';\nimport FetchNodeDetails from '@toruslabs/fetch-node-details';\nimport TorusUtils from '@toruslabs/torus.js';\nimport { OperationService } from '../../services/operation/operation.service';\nimport { InputValidationService } from '../../services/input-validation/input-validation.service';\nimport { CONSTANTS } from '../../../environments/environment';\n\nconst GOOGLE = 'google';\nconst REDDIT = 'reddit';\nconst TWITTER = 'twitter';\nconst FACEBOOK = 'facebook';\nconst EMAIL = 'email';\nconst AUTH_DOMAIN = 'https://dev-0li4gssz.eu.auth0.com';\nconst AUTH_DOMAIN_MAINNET = 'https://kukai.eu.auth0.com';\n@Injectable({\n  providedIn: 'root'\n})\nexport class TorusService {\n  torus: any = null;\n  nodeDetails: { torusNodeEndpoints: string[]; torusNodePub: any[] } = null;\n  public readonly verifierMap: any;\n  private readonly proxy: any;\n  verifierMaps = {\n    testnet: {\n      [GOOGLE]: {\n        name: 'Google',\n        typeOfLogin: 'google',\n        clientId: '952872982551-od475jfe3ach7dghacin634rbkcqhpll.apps.googleusercontent.com',\n        verifier: 'kukai-google',\n        subVerifier: 'web-kukai',\n        caseSensitiveVerifierID: false,\n        lookups: true,\n        aggregated: true\n      },\n      [REDDIT]: {\n        name: 'Reddit',\n        typeOfLogin: 'jwt',\n        clientId: '7xLcBa3xd4VTmlGbClU3qXeBZGta3OvM',\n        verifier: 'tezos-reddit-testnet',\n        subVerifier: 'web-kukai',\n        caseSensitiveVerifierID: false,\n        lookups: true,\n        aggregated: true\n      },\n      [TWITTER]: {\n        name: 'Twitter',\n        typeOfLogin: 'twitter',\n        clientId: 'vKFgnaYZzKLUnhxnX5xqTqeMcumdVTz1',\n        verifier: 'tezos-twitter-test',\n        caseSensitiveVerifierID: false,\n        lookups: true\n      },\n      [FACEBOOK]: {\n        name: 'Facebook',\n        typeOfLogin: 'facebook',\n        clientId: '213778980232619',\n        verifier: 'tezos-facebook-testnet',\n        caseSensitiveVerifierID: false\n      },\n      [EMAIL]: {\n        name: 'Email',\n        typeOfLogin: 'jwt',\n        clientId: 'L98HOmUY0hxLGX9k8AHEZxb1dj9Y3uZw',\n        verifier: 'kukai-google',\n        subVerifier: 'web-kukai-email',\n        caseSensitiveVerifierID: false,\n        lookups: true,\n        aggregated: true\n      }\n    },\n    mainnet: {\n      [GOOGLE]: {\n        name: 'Google',\n        typeOfLogin: 'google',\n        clientId: '952872982551-49mfvktoios59oj2kmiknlltfq9pvi6c.apps.googleusercontent.com',\n        verifier: 'tezos-google',\n        subVerifier: 'kukai-web',\n        caseSensitiveVerifierID: false,\n        lookups: true,\n        aggregated: true\n      },\n      [REDDIT]: {\n        name: 'Reddit',\n        typeOfLogin: 'jwt',\n        clientId: 'zyQ9tnKfdg3VNyj6MGhZq4dHbBzbmEvl',\n        verifier: 'tezos-reddit',\n        subVerifier: 'web-kukai',\n        caseSensitiveVerifierID: false,\n        lookups: true,\n        aggregated: true\n      },\n      [TWITTER]: {\n        name: 'Twitter',\n        typeOfLogin: 'twitter',\n        clientId: 'UJl5d4iHVgbrAaSlucXNf2F2uKlC0m25',\n        verifier: 'tezos-twitter',\n        caseSensitiveVerifierID: false,\n        lookups: true\n      },\n      [FACEBOOK]: {\n        name: 'Facebook',\n        typeOfLogin: 'facebook',\n        clientId: '523634882377310',\n        verifier: 'tezos-facebook',\n        caseSensitiveVerifierID: false\n      },\n      [EMAIL]: {\n        name: 'Email',\n        typeOfLogin: 'jwt',\n        clientId: 'LTg6fVsacafGmhv14TZlrWF1EavwQoDZ',\n        verifier: 'tezos-google',\n        subVerifier: 'web-kukai-email',\n        caseSensitiveVerifierID: false,\n        lookups: true,\n        aggregated: true\n      }\n    }\n  };\n  verifierMapKeys: any;\n  constructor(private operationService: OperationService, private inputValidationService: InputValidationService) {\n    if (CONSTANTS.MAINNET) {\n      this.verifierMap = this.verifierMaps.mainnet;\n      this.proxy = {\n        address: '0x638646503746d5456209e33a2ff5e3226d698bea',\n        network: 'mainnet'\n      };\n    } else {\n      this.verifierMap = this.verifierMaps.testnet;\n      this.proxy = {\n        address: '0x4023d2a0D330bF11426B12C6144Cfb96B7fa6183',\n        network: 'ropsten'\n      };\n    }\n    this.verifierMapKeys = Object.keys(this.verifierMap);\n  }\n  async initTorus() {\n    if (!this.torus) {\n      try {\n        const torusdirectsdk = new DirectWebSdk({\n          baseUrl: `${location.origin}/serviceworker`,\n          redirectToOpener: true,\n          enableLogging: !(this.proxy.network === 'mainnet'),\n          proxyContractAddress: this.proxy.address,\n          network: this.proxy.network === 'mainnet' ? this.proxy.network : 'testnet'\n        });\n        await torusdirectsdk.init({ skipSw: false });\n        this.torus = torusdirectsdk;\n      } catch (error) {\n        console.error(error, 'oninit caught');\n      }\n    }\n  }\n  async lookupPkh(selectedVerifier: string, verifierId: string): Promise<any> {\n    const fetchNodeDetails = new FetchNodeDetails({\n      network: this.proxy.network,\n      proxyAddress: this.proxy.address\n    });\n    const torus = new TorusUtils();\n    const verifier = this.verifierMap[selectedVerifier].verifier;\n    if (!this.nodeDetails) {\n      const { torusNodeEndpoints, torusNodePub, torusIndexes } = await fetchNodeDetails.getNodeDetails();\n      this.nodeDetails = { torusNodeEndpoints, torusNodePub }; // Cache node details\n    }\n    let sanitizedVerifierId = verifierId;\n    if (!this.verifierMap[selectedVerifier].caseSensitiveVerifierID && selectedVerifier !== 'twitter') {\n      sanitizedVerifierId = sanitizedVerifierId.toLocaleLowerCase();\n    }\n    let twitterId = '';\n    if (selectedVerifier === 'twitter') {\n      const username = sanitizedVerifierId.replace('@', '');\n      const { id } = await this.twitterLookup(username);\n      if (this.inputValidationService.twitterId(id)) {\n        sanitizedVerifierId = `twitter|${id}`;\n        twitterId = id;\n      } else {\n        throw new Error('Twitter handle not found');\n      }\n    }\n    const pk: any = await torus.getPublicAddress(\n      this.nodeDetails.torusNodeEndpoints,\n      this.nodeDetails.torusNodePub,\n      { verifier, verifierId: sanitizedVerifierId },\n      true\n    );\n    const pkh = this.operationService.spPointsToPkh(pk.X, pk.Y);\n    return { pkh, twitterId };\n  }\n  async twitterLookup(username?: string, id?: string) {\n    let req = {};\n    if ((id && username) || (!id && !username)) {\n      console.log({ username, id });\n      throw new Error('Invalid input');\n    } else if (id) {\n      req = { id };\n    } else {\n      req = { username: username.replace('@', '') };\n    }\n    return await fetch(`https://backend.kukai.network/twitter-lookup`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      referrerPolicy: 'no-referrer',\n      body: JSON.stringify(req)\n    }).then((ans) => {\n      return ans.json();\n    });\n  }\n  async loginTorus(selectedVerifier: string, verifierId = '', skipTorusKey = 0, checkIfNewKey = false): Promise<any> {\n    if (!CONSTANTS.MAINNET && document?.location?.host === 'localhost:4200' && !['google', 'twitter', 'email'].includes(selectedVerifier)) {\n      return this.mockLogin(selectedVerifier); // mock locally\n    }\n    try {\n      const jwtParams: any = this._loginToConnectionMap()[selectedVerifier] || {};\n      if (verifierId && selectedVerifier === GOOGLE) {\n        jwtParams.login_hint = verifierId;\n        console.log('login_hint: ' + verifierId);\n      }\n      if (verifierId && selectedVerifier === EMAIL) {\n        jwtParams.login_hint = verifierId;\n      }\n      const { typeOfLogin, clientId, verifier, aggregated } = this.verifierMap[selectedVerifier];\n      const loginDetails = aggregated\n        ? await this.torus.triggerAggregateLogin({\n            login_hint: verifierId,\n            aggregateVerifierType: 'single_id_verifier',\n            verifierIdentifier: verifier,\n            subVerifierDetailsArray: [\n              {\n                clientId,\n                typeOfLogin: typeOfLogin,\n                verifier: this.verifierMap[selectedVerifier].subVerifier,\n                jwtParams\n              }\n            ],\n            skipTorusKey,\n            checkIfNewKey\n          })\n        : await this.torus.triggerLogin({\n            verifier,\n            typeOfLogin,\n            clientId,\n            jwtParams,\n            skipTorusKey,\n            checkIfNewKey\n          });\n      if (aggregated) {\n        loginDetails.userInfo = loginDetails.userInfo[0];\n      }\n      if (selectedVerifier === FACEBOOK) {\n        console.log('Invalidating access token...');\n        fetch(`https://graph.facebook.com/me/permissions?access_token=${loginDetails.userInfo.accessToken}`, { method: 'DELETE', mode: 'cors' });\n      }\n      const keyPair = skipTorusKey && !loginDetails?.privateKey ? { pk: '', pkh: '' } : this.operationService.spPrivKeyToKeyPair(loginDetails.privateKey);\n      console.log('DirectAuth KeyPair', keyPair);\n      if (loginDetails?.existingPk) {\n        loginDetails.userInfo.preexistingPkh = this.operationService.spPointsToPkh(loginDetails.existingPk.X, loginDetails.existingPk.Y);\n        loginDetails.userInfo.isNewKey = !loginDetails?.existingPk;\n      }\n      if (loginDetails?.userInfo?.typeOfLogin === 'jwt') {\n        loginDetails.userInfo.typeOfLogin = selectedVerifier;\n      }\n      console.log('DirectAuth UserInfo', loginDetails.userInfo);\n      return { keyPair, userInfo: loginDetails.userInfo };\n    } catch (e) {\n      console.error(e, 'login caught');\n      return { keyPair: null, userInfo: null };\n    }\n  }\n  async getTorusKeyPair(selectedVerifier: string, verifierId: string): Promise<any> {\n    const { keyPair } = await this.loginTorus(selectedVerifier, verifierId);\n    return keyPair;\n  }\n  _loginToConnectionMap = () => {\n    return {\n      [TWITTER]: {\n        domain: AUTH_DOMAIN\n      },\n      [FACEBOOK]: {\n        scope: 'public_profile email'\n      },\n      [REDDIT]: {\n        domain: CONSTANTS.MAINNET ? AUTH_DOMAIN_MAINNET : AUTH_DOMAIN,\n        connection: 'Reddit',\n        verifierIdField: 'name',\n        isVerifierIdCaseSensitive: false\n      },\n      [EMAIL]: {\n        domain: CONSTANTS.MAINNET ? AUTH_DOMAIN_MAINNET : AUTH_DOMAIN,\n        connection: '',\n        verifierIdField: 'name',\n        isVerifierCaseSensitive: false\n      }\n    };\n  };\n  private async mockLogin(typeOfLogin: string): Promise<any> {\n    const keyPair = {\n      sk: 'spsk1VfCfhixtzGvUSKDre6jwyGbXFm6aoeLGnxeVLCouueZmkgtJF',\n      pk: 'sppk7cZsZeBApsFgYEdWuSwj92YCWkJxMmBfkN3FeKRmEB7Lk5pmDrT',\n      pkh: 'tz2WKg52VqnYXH52TZbSVjT4hcc8YGVKi7Pd'\n    };\n    const userInfo = {\n      typeOfLogin,\n      verifierId: typeOfLogin !== 'google' ? 'MockUser' : 'mock@user.com',\n      name: typeOfLogin !== 'twitter' ? 'Mock User' : '@MockUser'\n    };\n    return new Promise((resolve) => {\n      setTimeout(() => {\n        resolve({ keyPair, userInfo });\n      }, 1000);\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { WalletService } from '../wallet/wallet.service';\nimport { CONSTANTS } from '../../../environments/environment';\n\n@Injectable()\nexport class TzrateService {\n  public apiUrl = 'https://api.coingecko.com/api/v3/simple/price?ids=tezos&vs_currencies=usd';\n  constructor(private http: HttpClient, private walletService: WalletService) {}\n\n  getTzrate() {\n    if (CONSTANTS.MAINNET) {\n      this.http.get(this.apiUrl).subscribe(\n        (price: any) => {\n          this.walletService.wallet.XTZrate = price.tezos.usd;\n          this.updateFiatBalances();\n        },\n        (err) => console.log('Failed to get xtz price: ' + JSON.stringify(err))\n      );\n    } else {\n      this.walletService.wallet.XTZrate = 0;\n      this.updateFiatBalances();\n    }\n  }\n  updateFiatBalances() {\n    const accounts = this.walletService.wallet.getAccounts();\n    let tot = 0;\n    let change = false;\n    for (const account of accounts) {\n      if (account.balanceXTZ !== null) {\n        account.balanceUSD = Number((account.balanceXTZ / 1000000) * this.walletService.wallet.XTZrate);\n        tot += account.balanceUSD;\n        change = true;\n      }\n    }\n    if (change) {\n      this.walletService.wallet.totalBalanceUSD = Number(tot);\n      this.walletService.storeWallet();\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { IndexerService } from '../indexer/indexer.service';\nimport { filter } from 'rxjs/operators';\nimport { NavigationEnd, Router } from '@angular/router';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UnlockableService {\n  readonly settingsKey = 'settings';\n  unlockables: any;\n  queue = [];\n  workers = 0;\n  constructor(public indexerService: IndexerService, private router: Router) {\n    this.router.events.pipe(filter((evt) => evt instanceof NavigationEnd)).subscribe(async (r: NavigationEnd) => {\n      if (r.url.indexOf('/account') === -1) {\n        document.documentElement.className = '';\n      }\n    });\n  }\n\n  toggleFeature(type, feat): boolean {\n    this.unlockables = localStorage.getItem(this.settingsKey);\n    if (this.unlockables) {\n      try {\n        this.unlockables = JSON.parse(this.unlockables);\n        this.unlockables[type] = this.unlockables[type] === feat ? '' : feat;\n        localStorage.setItem(this.settingsKey, JSON.stringify(this.unlockables));\n        if (this.unlockables[type]) {\n          document.documentElement.classList.add(feat);\n        } else {\n          document.documentElement.classList.remove(feat);\n        }\n        return this.unlockables[type];\n      } catch (e) {\n        return false;\n      }\n    } else {\n      this.unlockables = {};\n      this.unlockables[type] = feat;\n      localStorage.setItem(this.settingsKey, JSON.stringify(this.unlockables));\n      document.documentElement.classList.add(feat);\n      return true;\n    }\n  }\n  restoreFeatures() {\n    this.unlockables = localStorage.getItem(this.settingsKey);\n    if (this.unlockables) {\n      try {\n        this.unlockables = JSON.parse(this.unlockables);\n        for (let feat of Object.keys(this.unlockables)) {\n          if (!!this.unlockables[feat]) {\n            document.documentElement.classList.add(this.unlockables[feat]);\n          }\n        }\n      } catch (e) {}\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { KeyPair, WalletType, Activity } from './../../interfaces';\nimport {\n  WalletObject,\n  HdWallet,\n  FullWallet,\n  LegacyWalletV1,\n  LegacyWalletV2,\n  LegacyWalletV3,\n  ImplicitAccount,\n  LedgerWallet,\n  TorusWallet,\n  EmbeddedTorusWallet,\n  OriginatedAccount,\n  WatchWallet\n} from './wallet';\nimport { EncryptionService } from '../encryption/encryption.service';\nimport { OperationService } from '../operation/operation.service';\nimport { TorusService } from '../torus/torus.service';\nimport { utils, hd } from '@tezos-core-tools/crypto-utils';\nimport { BehaviorSubject } from 'rxjs';\nimport { SubjectService } from '../subject/subject.service';\n\n@Injectable()\nexport class WalletService {\n  storeKey = 'kukai-wallet';\n  storageId = 0;\n  wallet: WalletObject;\n\n  constructor(\n    private encryptionService: EncryptionService,\n    private operationService: OperationService,\n    private torusService: TorusService,\n    private subjectService: SubjectService\n  ) {}\n  /*\n    Wallet creation\n  */\n  createNewWallet(): string {\n    return utils.generateMnemonic(24);\n  }\n  async createEncryptedWallet(mnemonic: string, password: string, passphrase: string = '', hdSeed: boolean): Promise<any> {\n    const seed = utils.mnemonicToSeed(mnemonic, passphrase, hdSeed);\n    const entropy: Buffer = Buffer.from(utils.mnemonicToEntropy(mnemonic));\n    let keyPair: KeyPair;\n    if (!hdSeed) {\n      keyPair = this.operationService.seed2keyPair(seed);\n    } else {\n      keyPair = hd.keyPairFromAccountIndex(seed, 0);\n    }\n    const encrypted = await this.encryptionService.encrypt(seed, password, 3);\n    const encryptedSeed: string = encrypted.chiphertext;\n    const iv: string = encrypted.iv;\n    /*\n      Warning: Make sure to never reuse IV for AES-GCM\n    */\n    const iv2: string = this.encryptionService.shiftIV(iv, 1);\n    const encryptedEntropy: string = (await this.encryptionService.encrypt(entropy, password, 3, iv2)).chiphertext;\n    return {\n      data: this.exportKeyStoreInit(hdSeed ? WalletType.HdWallet : WalletType.LegacyWallet, encryptedSeed, encryptedEntropy, iv),\n      pkh: keyPair.pkh,\n      pk: keyPair.pk,\n      seed: seed\n    };\n  }\n  async getKeys(pwd: string, pkh?: string): Promise<KeyPair> {\n    let seed;\n    if (this.wallet instanceof LegacyWalletV1) {\n      seed = await this.encryptionService.decrypt(this.wallet.encryptedSeed, pwd, this.wallet.salt, 1);\n    } else if (this.wallet instanceof LegacyWalletV2) {\n      seed = await this.encryptionService.decrypt(this.wallet.encryptedSeed, pwd, this.wallet.IV, 2);\n    } else if (this.wallet instanceof LegacyWalletV3 || this.wallet instanceof HdWallet) {\n      seed = await this.encryptionService.decrypt(this.wallet.encryptedSeed, pwd, this.wallet.IV, 3);\n    } else if (this.wallet instanceof LedgerWallet) {\n      const keyPair: KeyPair = {\n        sk: null,\n        pk: this.wallet.implicitAccounts[0].pk,\n        pkh: this.wallet.implicitAccounts[0].pkh\n      };\n      return keyPair;\n    } else if (this.wallet instanceof EmbeddedTorusWallet && this.wallet?.sk) {\n      return this.operationService.spPrivKeyToKeyPair(this.wallet.sk);\n    } else if (this.wallet instanceof TorusWallet || (this.wallet instanceof EmbeddedTorusWallet && !this.wallet?.sk)) {\n      const keyPair = await this.torusService.getTorusKeyPair(this.wallet.verifier, this.wallet.id);\n      if (this.wallet.getImplicitAccount(keyPair.pkh)) {\n        return keyPair;\n      } else {\n        throw new Error('Signed with wrong account');\n      }\n      return null;\n    } else {\n      return null;\n    }\n    if (!seed) {\n      return null;\n    }\n    if (this.wallet instanceof HdWallet) {\n      if (!pkh) {\n        throw new Error('No pkh provided');\n      }\n      const account = this.wallet.getImplicitAccount(pkh);\n      if (!account.derivationPath) {\n        throw new Error('No derivationPath found');\n      }\n      return hd.seedToKeyPair(seed, account.derivationPath);\n    } else if (this.wallet instanceof LegacyWalletV1) {\n      const keyPair = this.operationService.seed2keyPair(seed);\n      if (!keyPair.pkh || !pkh || keyPair.pkh !== pkh) {\n        return null;\n      } else {\n        return keyPair;\n      }\n    } else {\n      return this.operationService.seed2keyPair(seed);\n    }\n  }\n  async revealMnemonicPhrase(pwd: string): Promise<string> {\n    if (this.wallet && (this.wallet instanceof HdWallet || this.wallet instanceof LegacyWalletV3)) {\n      const iv = this.encryptionService.shiftIV(this.wallet.IV, 1);\n      const entropy = await this.encryptionService.decrypt(this.wallet.encryptedEntropy, pwd, iv, 3);\n      if (entropy) {\n        return utils.entropyToMnemonic(entropy);\n      } else {\n        console.log('Invalid password');\n      }\n    }\n    return '';\n  }\n  addImplicitAccount(pk: string, derivationPath?: string | number) {\n    let pkh;\n    console.log(pk);\n    if (pk && pk.slice(0, 4) === 'sppk') {\n      pkh = this.operationService.pk2pkh(pk);\n    } else {\n      pkh = utils.pkToPkh(pk);\n    }\n    if (pkh) {\n      this.wallet.implicitAccounts.push(new ImplicitAccount(pkh, pk, typeof derivationPath === 'number' ? `44'/1729'/${derivationPath}'/0'` : derivationPath));\n      console.log('Adding new implicit account...');\n      console.log(this.wallet.implicitAccounts[this.wallet.implicitAccounts.length - 1]);\n      this.storeWallet();\n    }\n  }\n  addOriginatedAccount(kt: string, manager: string) {\n    const implicitAccount = this.wallet.getImplicitAccount(manager);\n    if (implicitAccount) {\n      const origAcc = new OriginatedAccount(kt, implicitAccount.pkh, implicitAccount.pk);\n      implicitAccount.originatedAccounts.push(origAcc);\n      this.storeWallet();\n    } else {\n      console.warn(`Manager address $(manager) not found`);\n    }\n  }\n  /*addUnusedAccount(account: any) {\n    if (this.wallet instanceof HdWallet) {\n      this.wallet.unusedAccounts.push(account);\n    }\n  }*/\n  addressExists(address: string): boolean {\n    return this.wallet?.getAccounts().findIndex((a) => a.address === address) !== -1;\n  }\n  async incrementAccountIndex(password: string): Promise<string> {\n    if (this.wallet instanceof HdWallet) {\n      const seed = await this.encryptionService.decrypt(this.wallet.encryptedSeed, password, this.wallet.IV, 3);\n      if (seed) {\n        const keyPair: KeyPair = hd.seedToKeyPair(seed, `44'/1729'/${this.wallet.index}'/0'`);\n        this.addImplicitAccount(keyPair.pk, this.wallet.index);\n        this.wallet.index++;\n        this.storeWallet();\n        return keyPair.pkh;\n      } else {\n        return ''; // Wrong pwd\n      }\n    }\n  }\n  /*\n    Clear wallet data from browser\n  */\n  clearWallet(instanceId: string = '') {\n    this.wallet = null;\n    this.storageId = 0;\n    if (instanceId) {\n      sessionStorage.removeItem(instanceId);\n    } else {\n      localStorage.removeItem(this.storeKey);\n    }\n  }\n  /*\n  Used to decide wallet type\n  */\n  isFullWallet(): boolean {\n    return this.wallet instanceof FullWallet;\n  }\n  isViewOnlyWallet(): boolean {\n    return false;\n  }\n  isObserverWallet(): boolean {\n    return false;\n  }\n  isLedgerWallet(): boolean {\n    return this.wallet instanceof LedgerWallet;\n  }\n  isHdWallet(): boolean {\n    return this.wallet instanceof HdWallet;\n  }\n  isTorusWallet(): boolean {\n    return this.wallet instanceof TorusWallet;\n  }\n  isEmbeddedTorusWallet(): boolean {\n    return this.wallet instanceof EmbeddedTorusWallet;\n  }\n  isWatchWallet(): boolean {\n    return this.wallet instanceof WatchWallet;\n  }\n  isPwdWallet(): boolean {\n    return !this.isTorusWallet() && !this.isLedgerWallet() && !this.isWatchWallet();\n  }\n  exportKeyStoreInit(walletType: WalletType, encryptedSeed: string, encryptedEntropy: string, iv: string) {\n    const data: any = {\n      provider: 'Kukai',\n      version: 3.0,\n      walletType,\n      encryptedSeed,\n      encryptedEntropy,\n      iv\n    };\n    return data;\n  }\n  /*\n    Read and write to localStorage\n  */\n  initStorage(instanceId: string = '') {\n    this.storageId = Date.now();\n    if (instanceId) {\n      sessionStorage.setItem(instanceId, JSON.stringify({ localStorageId: this.storageId }));\n    } else {\n      localStorage.setItem(this.storeKey, JSON.stringify({ localStorageId: this.storageId }));\n    }\n  }\n  storeWallet() {\n    const localStorageId = this.getLocalStorageId();\n    if (this.storageId && localStorageId && this.storageId === localStorageId) {\n      let type = 'unknown';\n      if (this.wallet instanceof HdWallet) {\n        type = 'HdWallet';\n      } else if (this.wallet instanceof LegacyWalletV1) {\n        type = 'LegacyWalletV1';\n      } else if (this.wallet instanceof LegacyWalletV2) {\n        type = 'LegacyWalletV2';\n      } else if (this.wallet instanceof LegacyWalletV3) {\n        type = 'LegacyWalletV3';\n      } else if (this.wallet instanceof LedgerWallet) {\n        type = 'LedgerWallet';\n      } else if (this.wallet instanceof EmbeddedTorusWallet) {\n        type = 'EmbeddedTorusWallet';\n      } else if (this.wallet instanceof TorusWallet) {\n        type = 'TorusWallet';\n      } else if (this.wallet instanceof WatchWallet) {\n        type = 'WatchWallet';\n      }\n      this.getStorage().setItem(\n        this.wallet instanceof EmbeddedTorusWallet ? this.wallet.instanceId : this.storeKey,\n        JSON.stringify({\n          type,\n          localStorageId: this.storageId,\n          data: this.wallet\n        })\n      );\n    } else {\n      console.log('Outdated storage id');\n    }\n    this.subjectService.walletUpdated.next(null);\n  }\n  getLocalStorageId() {\n    const walletData = this.wallet instanceof EmbeddedTorusWallet ? sessionStorage.getItem(this.wallet.instanceId) : localStorage.getItem(this.storeKey);\n    if (walletData) {\n      const parsed = JSON.parse(walletData);\n      if (parsed && parsed.localStorageId) {\n        return parsed.localStorageId;\n      }\n    }\n    return 0;\n  }\n\n  loadStoredWallet(instanceId = '') {\n    const walletData = instanceId ? sessionStorage.getItem(instanceId) : localStorage.getItem(this.storeKey);\n    if (walletData && walletData !== 'undefined') {\n      const parsedWalletData = JSON.parse(walletData);\n      console.log(parsedWalletData);\n      if (parsedWalletData.type && parsedWalletData.data && parsedWalletData.localStorageId) {\n        this.storageId = parsedWalletData.localStorageId;\n        const wd = parsedWalletData.data;\n        this.deserializeStoredWallet(wd, parsedWalletData.type);\n      } else {\n        console.log('couldnt load a wallet');\n        this.clearWallet(instanceId);\n      }\n    } else {\n      console.log('couldnt load a wallet');\n      this.clearWallet(instanceId);\n    }\n  }\n  deserializeStoredWallet(wd: any, type: string) {\n    switch (type) {\n      case 'HdWallet':\n        this.wallet = new HdWallet(wd.IV, wd.encryptedSeed, wd.encryptedEntropy);\n        if (this.wallet instanceof HdWallet) {\n          this.wallet.index = wd.index;\n        }\n        break;\n      case 'LegacyWalletV1':\n        this.wallet = new LegacyWalletV1(wd.salt, wd.encryptedSeed);\n        break;\n      case 'LegacyWalletV2':\n        this.wallet = new LegacyWalletV2(wd.IV, wd.encryptedSeed);\n        break;\n      case 'LegacyWalletV3':\n        this.wallet = new LegacyWalletV3(wd.IV, wd.encryptedSeed, wd.encryptedEntropy);\n        break;\n      case 'LedgerWallet':\n        this.wallet = new LedgerWallet();\n        break;\n      case 'TorusWallet':\n        this.wallet = new TorusWallet(wd.verifier, wd.id, wd.name);\n        this.torusService.initTorus();\n        break;\n      case 'EmbeddedTorusWallet':\n        this.wallet = new EmbeddedTorusWallet(wd.verifier, wd.id, wd.name, wd.origin, wd.sk, wd.instanceId);\n        this.torusService.initTorus();\n        break;\n      case 'WatchWallet':\n        this.wallet = new WatchWallet();\n      default:\n    }\n    this.wallet.XTZrate = wd.XTZrate;\n    this.wallet.totalBalanceUSD = wd.totalBalanceUSD;\n    this.wallet.totalBalanceXTZ = wd.totalBalanceXTZ;\n    if (wd.lookups) {\n      this.wallet.lookups = wd.lookups;\n    }\n    for (const implicit of wd.implicitAccounts) {\n      const impAcc: ImplicitAccount = new ImplicitAccount(implicit.pkh, implicit.pk, implicit.derivationPath ? implicit.derivationPath : null);\n      impAcc.balanceUSD = implicit.balanceUSD;\n      impAcc.balanceXTZ = implicit.balanceXTZ;\n      impAcc.delegate = implicit.delegate;\n      impAcc.state = implicit.state;\n      impAcc.activities = implicit.activities;\n      if (implicit.tokens) {\n        impAcc.tokens = implicit.tokens;\n      }\n      for (const originated of implicit.originatedAccounts) {\n        const origAcc = new OriginatedAccount(originated.address, impAcc.pkh, impAcc.pk);\n        origAcc.balanceUSD = originated.balanceUSD;\n        origAcc.balanceXTZ = originated.balanceXTZ;\n        origAcc.delegate = originated.delegate;\n        origAcc.state = originated.state;\n        origAcc.activities = originated.activities;\n        impAcc.originatedAccounts.push(origAcc);\n      }\n      this.wallet.implicitAccounts.push(impAcc);\n    }\n  }\n  private getStorage() {\n    return this.isEmbeddedTorusWallet() ? sessionStorage : localStorage;\n  }\n}\n","export type WalletObject = LegacyWalletV1 | LegacyWalletV2 | LegacyWalletV3 | LedgerWallet | HdWallet | TorusWallet | WatchWallet;\n\nexport class Wallet {\n  totalBalanceXTZ: number | null;\n  totalBalanceUSD: number | null;\n  XTZrate: number | null;\n  implicitAccounts: ImplicitAccount[];\n  lookups: any[];\n  constructor() {\n    this.totalBalanceXTZ = null;\n    this.totalBalanceUSD = null;\n    this.XTZrate = null;\n    this.implicitAccounts = [];\n    this.lookups = [];\n  }\n  getAccounts(): Account[] {\n    const accounts: Account[] = [];\n    if (this.implicitAccounts.length) {\n      for (const implicitAccount of this.implicitAccounts) {\n        accounts.push(implicitAccount);\n        if (implicitAccount.originatedAccounts.length) {\n          for (const originatedAccount of implicitAccount.originatedAccounts) {\n            accounts.push(originatedAccount);\n          }\n        }\n      }\n    }\n    return accounts;\n  }\n  getImplicitAccounts(): ImplicitAccount[] {\n    return this.implicitAccounts;\n  }\n  getAccount(address: string): Account {\n    if (this.implicitAccounts.length) {\n      for (const implicitAccount of this.implicitAccounts) {\n        if (implicitAccount.address === address) {\n          return implicitAccount;\n        }\n        if (implicitAccount.originatedAccounts.length) {\n          for (const originatedAccount of implicitAccount.originatedAccounts) {\n            if (originatedAccount.address === address) {\n              return originatedAccount;\n            }\n          }\n        }\n      }\n    }\n    return null;\n  }\n  getImplicitAccount(pkh: string): ImplicitAccount {\n    if (this.implicitAccounts.length) {\n      for (const implicitAccount of this.implicitAccounts) {\n        if (implicitAccount.pkh === pkh) {\n          return implicitAccount;\n        }\n      }\n    }\n    return null;\n  }\n}\n\nexport class FullWallet extends Wallet {\n  encryptedSeed: string;\n  constructor(encryptedSeed: string) {\n    super();\n    this.encryptedSeed = encryptedSeed;\n  }\n}\n\nexport class LegacyWalletV1 extends FullWallet {\n  salt: string;\n  constructor(salt: string, encrypedSeed: string) {\n    super(encrypedSeed);\n    this.salt = salt;\n  }\n}\n\nexport class LegacyWalletV2 extends FullWallet {\n  IV: string;\n  constructor(IV: string, encryptedSeed: string) {\n    super(encryptedSeed);\n    this.IV = IV;\n  }\n}\n\nexport class LegacyWalletV3 extends FullWallet {\n  encryptedEntropy: string;\n  IV: string;\n  constructor(IV: string, encryptedSeed: string, encryptedEntropy: string) {\n    super(encryptedSeed);\n    this.IV = IV;\n    this.encryptedEntropy = encryptedEntropy;\n  }\n}\n\nexport class HdWallet extends FullWallet {\n  encryptedEntropy: string;\n  IV: string;\n  index: number;\n  constructor(IV: string, encryptedSeed: string, encryptedEntropy: string) {\n    super(encryptedSeed);\n    this.encryptedEntropy = encryptedEntropy;\n    this.IV = IV;\n    this.index = 0;\n  }\n}\n\nexport class TorusWallet extends Wallet {\n  verifier: string;\n  id: string;\n  name: string;\n  constructor(verifier: string, id: string, name: string) {\n    super();\n    this.verifier = verifier;\n    this.id = id;\n    this.name = name;\n  }\n  displayName() {\n    if (['twitter', 'facebook'].includes(this.verifier)) {\n      return this.name;\n    }\n    return this.id;\n  }\n}\nexport class EmbeddedTorusWallet extends TorusWallet {\n  origin: string;\n  sk: string;\n  instanceId: string;\n  constructor(verifier: string, id: string, name: string, origin: string, sk: string, instanceId: string) {\n    super(verifier, id, name);\n    this.origin = origin;\n    this.sk = sk;\n    this.instanceId = instanceId;\n  }\n}\nexport class LedgerWallet extends Wallet {\n  constructor() {\n    super();\n  }\n}\n\nexport class WatchWallet extends Wallet {\n  constructor() {\n    super();\n  }\n}\n\n// Accounts\n\nexport abstract class Account {\n  balanceXTZ: number | null;\n  balanceUSD: number | null;\n  delegate: string;\n  state: string;\n  activities: Activity[] | null;\n  tokens: Token[] | null;\n  pkh: string;\n  pk: string;\n  address: string;\n  constructor(pkh: string, pk: string, address: string) {\n    this.balanceXTZ = null;\n    this.balanceUSD = null;\n    this.activities = null;\n    this.tokens = null;\n    this.delegate = '';\n    this.state = '';\n    this.pkh = pkh;\n    this.pk = pk;\n    this.address = address;\n  }\n  public abstract isImplicit(): boolean;\n  shortAddress(): string {\n    return this.address.slice(0, 7) + '...' + this.address.slice(-4);\n  }\n  getTokenBalance(tokenId: string): string {\n    if (this.tokens?.length) {\n      for (const token of this.tokens) {\n        if (tokenId === token.tokenId) {\n          return token.balance;\n        }\n      }\n    }\n    return '';\n  }\n  getTokenBalances(): Token[] {\n    return this.tokens ?? [];\n  }\n  updateTokenBalance(tokenId: string, balance: string) {\n    if (!this.tokens || !tokenId) {\n      this.tokens = [];\n    }\n    if (tokenId && this.tokens.length) {\n      for (let i = 0; i < this.tokens.length; i++) {\n        if (tokenId === this.tokens[i].tokenId) {\n          if (this.tokens[i].balance !== balance) {\n            if (balance === '0' || (balance && balance.slice(0, 1) === '-')) {\n              this.tokens.splice(i, 1);\n            } else {\n              this.tokens[i].balance = balance;\n            }\n          }\n          return;\n        }\n      }\n    }\n    if (tokenId.length > 37 && balance && balance !== '0' && balance.slice(0, 1) !== '-') {\n      this.tokens.unshift({ tokenId, balance });\n    }\n  }\n}\n\nexport class ImplicitAccount extends Account {\n  originatedAccounts: OriginatedAccount[];\n  derivationPath?: string;\n  constructor(pkh: string, pk: string, derivationPath?: string) {\n    super(pkh, pk, pkh);\n    this.originatedAccounts = [];\n    if (derivationPath) {\n      this.derivationPath = derivationPath;\n    }\n  }\n  isImplicit(): boolean {\n    return true;\n  }\n}\n\nexport class OriginatedAccount extends Account {\n  constructor(ktAddress: string, managerPkh: string, managerPk: string) {\n    super(managerPkh, managerPk, ktAddress);\n  }\n  isImplicit(): boolean {\n    return false;\n  }\n}\n\nexport enum OpStatus {\n  FAILED = -1,\n  UNCONFIRMED = 0,\n  HALF_CONFIRMED = 0.5, // confirmed but not indexed fully yet\n  CONFIRMED = 1\n}\nexport class Activity {\n  type: string;\n  block: string;\n  status: OpStatus;\n  amount: string;\n  source: {\n    address: string;\n    alias?: string;\n  };\n  destination: {\n    address: string;\n    alias?: string;\n  };\n  fee?: string;\n  hash: string;\n  counter?: number;\n  timestamp: number | null;\n  tokenId?: string;\n  entrypoint?: string;\n  opId?: string;\n}\nexport class Token {\n  tokenId: string;\n  balance: string;\n}\n","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\nimport { Constants, DisplayLinkOption } from '../app/interfaces';\n\nexport const environment = {\n  production: false\n};\nconst _CONSTANTS: Constants = {\n  NETWORK: 'ghostnet',\n  NAME: 'Testnet / Ghostnet',\n  TEZOS_DOMAIN: {\n    CONTRACT: 'KT1WffvKqRGaPtVWYR1ZkG2GQY42B7a8x3kk',\n    TOP_DOMAINS: ['ith']\n  },\n  MAINNET: false,\n  NODE_URL: 'https://ghostnet.ecadinfra.com',\n  BLOCK_EXPLORER_URL: 'https://ghostnet.tzkt.io',\n  HARD_LIMITS: {\n    hard_gas_limit_per_operation: 1040000,\n    hard_gas_limit_per_block: 5200000,\n    hard_storage_limit_per_operation: 60000\n  },\n  CONTRACT_ALIASES: {\n    EmergentsTCG: {\n      name: 'Emergents TCG',\n      address: ['KT1AWS8nWonvfG5xt86KPb1JxrYx2TYE6KvL'],\n      thumbnailUrl: 'assets/img/alias/emergents.svg',\n      discoverUrl: 'assets/img/alias/emergents-discover.png',\n      link: 'https://minterpop.com/emergentstcg',\n      shouldDisplayLink: DisplayLinkOption.All,\n      category: ['games', 'collectibles'],\n      zoomDiscoverImg: true,\n      description: 'A next-gen superhero trading card game'\n    }\n  },\n  ASSETS: {},\n  NFT_CONTRACT_OVERRIDES: [],\n  CONTRACT_OVERRIDES: {},\n  FEATURE_CONTRACTS: {}\n};\nconst _TRUSTED_TOKEN_CONTRACTS = [];\nconst _BLACKLISTED_TOKEN_CONTRACTS = [];\nconst _MODEL_3D_WHITELIST = [];\n\nexport const CONSTANTS = JSON.parse(JSON.stringify(_CONSTANTS));\nexport const TRUSTED_TOKEN_CONTRACTS = JSON.parse(JSON.stringify(_TRUSTED_TOKEN_CONTRACTS));\nexport const BLACKLISTED_TOKEN_CONTRACTS = JSON.parse(JSON.stringify(_BLACKLISTED_TOKEN_CONTRACTS));\nexport const MODEL_3D_WHITELIST = JSON.parse(JSON.stringify(_MODEL_3D_WHITELIST));\n","import { Constants } from './../app/interfaces';\nimport {\n  CONSTANTS as _CONSTANTS,\n  TRUSTED_TOKEN_CONTRACTS as _TTC,\n  BLACKLISTED_TOKEN_CONTRACTS as _BLTC,\n  MODEL_3D_WHITELIST as _M3DW\n} from './environment.ghostnet';\n\nexport const environment = {\n  production: false\n};\nexport const CONSTANTS: Constants = _CONSTANTS;\nexport const TRUSTED_TOKEN_CONTRACTS = _TTC;\nexport const BLACKLISTED_TOKEN_CONTRACTS = _BLTC;\nexport const MODEL_3D_WHITELIST = _M3DW;\n","import { Injectable } from '@angular/core';\nimport { KeyPair, WalletType } from './../../interfaces';\nimport { WalletService } from '../wallet/wallet.service';\nimport { CoordinatorService } from '../coordinator/coordinator.service';\nimport { LegacyWalletV1, LegacyWalletV2, LegacyWalletV3, HdWallet, LedgerWallet, TorusWallet, EmbeddedTorusWallet, WatchWallet } from '../wallet/wallet';\nimport { hd, utils } from '@tezos-core-tools/crypto-utils';\nimport { EncryptionService } from '../encryption/encryption.service';\nimport { TorusService } from '../torus/torus.service';\nimport { IndexerService } from '../indexer/indexer.service';\nimport { OperationService } from '../operation/operation.service';\n\n@Injectable()\nexport class ImportService {\n  constructor(\n    private walletService: WalletService,\n    private coordinatorService: CoordinatorService,\n    private indexerService: IndexerService,\n    private encryptionService: EncryptionService,\n    private torusService: TorusService,\n    private operationService: OperationService\n  ) {}\n  pwdRequired(json: string) {\n    const walletData = JSON.parse(json);\n    if (walletData.provider !== 'Kukai') {\n      throw new Error(`Unsupported wallet format`);\n    }\n    if (walletData.walletType === WalletType.LegacyWallet || walletData.walletType === WalletType.HdWallet) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n  async importWalletFromJson(json: any, pwd: string): Promise<boolean> {\n    // From file\n    let seed;\n    let walletData;\n    try {\n      walletData = JSON.parse(json);\n      if (walletData.walletType === WalletType.HdWallet && walletData.version === 3) {\n        //hd\n        seed = await this.encryptionService.decrypt(walletData.encryptedSeed, pwd, walletData.iv, 3);\n      } else if (walletData.walletType === WalletType.LegacyWallet) {\n        if (walletData.version === 1) {\n          console.log('v1');\n          seed = await this.encryptionService.decrypt(walletData.encryptedSeed, pwd, walletData.pkh.slice(3, 19), 1);\n          if (utils.seedToKeyPair(seed).pkh !== walletData.pkh) {\n            seed = '';\n          }\n        } else if (walletData.version === 2 || walletData.version === 3) {\n          seed = await this.encryptionService.decrypt(walletData.encryptedSeed, pwd, walletData.iv, walletData.version);\n        }\n      }\n    } catch (e) {\n      console.error(e);\n      throw new Error('Failed to decrypt keystore file');\n    }\n    if (seed) {\n      return this.importWalletFromObject(walletData, seed).then(\n        (ans) => {\n          return ans;\n        },\n        (e) => {\n          console.error(e);\n          throw new Error('Failed to fetch account(s). Please check your connection.');\n        }\n      );\n    } else {\n      throw new Error('Wrong password');\n    }\n  }\n  async importWalletFromObject(data: any, seed: any): Promise<boolean> {\n    this.coordinatorService.stopAll();\n    if (data.walletType === WalletType.HdWallet && data.version === 3) {\n      // HD\n      this.walletService.wallet = new HdWallet(data.iv, data.encryptedSeed, data.encryptedEntropy);\n    } else if (data.walletType === WalletType.LegacyWallet) {\n      if (data.version === 3) {\n        this.walletService.wallet = new LegacyWalletV3(data.iv, data.encryptedSeed, data.encryptedEntropy);\n      } else if (data.version === 2) {\n        this.walletService.wallet = new LegacyWalletV2(data.iv, data.encryptedSeed);\n      } else if (data.version === 1) {\n        this.walletService.wallet = new LegacyWalletV1(data.pkh.slice(3, 19), data.encryptedSeed);\n      } else {\n        throw new Error('Unsupported wallet file');\n      }\n    } else {\n      throw new Error('Unsupported wallet file');\n    }\n    let keys: KeyPair;\n    if (seed.length === 32) {\n      keys = utils.seedToKeyPair(seed);\n    } else if (seed.length === 64) {\n      keys = hd.keyPairFromAccountIndex(seed, 0);\n    } else {\n      throw new Error('Invalid seed length');\n    }\n    this.walletService.initStorage();\n    if (this.walletService.wallet instanceof HdWallet) {\n      let index = 0;\n      let isUsedAccount: boolean = true;\n      while (isUsedAccount) {\n        keys = hd.keyPairFromAccountIndex(seed, index);\n        isUsedAccount = await this.indexerService.isUsedAccount(keys.pkh);\n        if (isUsedAccount || index === 0) {\n          this.walletService.addImplicitAccount(keys.pk, index++);\n          await this.findContracts(keys.pkh);\n        }\n      }\n      this.walletService.wallet.index = index;\n    } else {\n      this.walletService.addImplicitAccount(keys.pk);\n      await this.findContracts(keys.pkh);\n    }\n    return true;\n  }\n\n  async importWalletFromPk(pk: string, derivationPath: string, verifierDetails: any = null, sk: string = '', instanceId: string = ''): Promise<boolean> {\n    this.coordinatorService.stopAll();\n    if (derivationPath) {\n      return this.ledgerImport(pk, derivationPath);\n    } else if (verifierDetails) {\n      return this.torusImport(pk, verifierDetails, sk, instanceId);\n    }\n  }\n  async watch(pkh: string) {\n    if (this.operationService.validAddress(pkh)) {\n      const pk = await this.operationService.getManager(pkh).toPromise();\n      if (pk) {\n        this.walletService.initStorage();\n        this.walletService.wallet = new WatchWallet();\n        this.walletService.addImplicitAccount(pk);\n        this.findContracts(this.walletService.wallet.implicitAccounts[0].pkh);\n      } else {\n        console.error('Public key not found');\n      }\n    }\n  }\n  async ledgerImport(pk: string, derivationPath: string) {\n    try {\n      this.walletService.initStorage();\n      this.walletService.wallet = new LedgerWallet();\n      this.walletService.addImplicitAccount(pk, derivationPath);\n      await this.findContracts(this.walletService.wallet.implicitAccounts[0].pkh);\n      return true;\n    } catch (err) {\n      console.warn(err);\n      this.walletService.clearWallet();\n      return false;\n    }\n  }\n  async torusImport(pk: string, verifierDetails: any, sk: string = '', instanceId: string = '') {\n    try {\n      if (verifierDetails.embedded) {\n        this.walletService.initStorage(instanceId);\n        this.walletService.wallet = new EmbeddedTorusWallet(\n          verifierDetails.verifier,\n          verifierDetails.id,\n          verifierDetails.name,\n          verifierDetails.origin,\n          sk,\n          instanceId\n        );\n      } else {\n        this.walletService.initStorage();\n        this.walletService.wallet = new TorusWallet(verifierDetails.verifier, verifierDetails.id, verifierDetails.name);\n      }\n      if (verifierDetails.verifier === 'twitter') {\n        this.updateTwitterName(verifierDetails.id);\n      }\n      if (pk || !verifierDetails?.embedded) {\n        this.walletService.addImplicitAccount(pk);\n      } else {\n        this.walletService.storeWallet();\n      }\n      return true;\n    } catch (err) {\n      console.warn(err);\n      this.walletService.clearWallet(instanceId);\n      return false;\n    }\n  }\n  async updateTwitterName(verifierId: string) {\n    const twitterId = verifierId.split('|')[1];\n    const { username } = await this.torusService.twitterLookup(undefined, twitterId);\n    if (username && this.walletService.wallet instanceof TorusWallet) {\n      this.walletService.wallet.name = '@' + username;\n    }\n  }\n  async findContracts(pkh: string) {\n    const addresses = await this.indexerService.getContractAddresses(pkh);\n    for (const KT of addresses) {\n      console.log('Found KT: ' + KT);\n      this.walletService.addOriginatedAccount(KT, pkh);\n    }\n    this.walletService.storeWallet();\n  }\n}\n","<div class=\"flex-row\" id=\"wrapper\">\n  <div class=\"flex-column left\">\n    <div class=\"flex-column top\">\n      <h1><ng-container *ngIf=\"isMobile\">&nbsp;</ng-container>A Secure Home&nbsp;<br />for your Digital Assets</h1>\n      <h3>Manage your digital assets and seamlessly&nbsp;<br *ngIf=\"!isMobile\" />connect with experiences and apps on Tezos.</h3>\n    </div>\n    <div class=\"flex-column login\">\n      <span>Sign in with social:</span>\n      <div class=\"flex-row social\">\n        <button class=\"flex-row google\" (click)=\"torusLogin('google')\"><img\n            src=\"../../../assets/img/google-logo.svg\">&nbsp;<span>CONTINUE WITH\n            GOOGLE</span></button>\n        <div class=\"flex-row torus\">\n          <img class=\"facebook\" src=\"../../../assets/img/facebook-logo.svg\" (click)=\"torusLogin('facebook')\">\n          <img class=\"twitter\" src=\"../../../assets//img/twitter-logo.svg\" (click)=\"torusLogin('twitter')\">\n          <img class=\"reddit\" src=\"../../../assets/img/reddit-logo.svg\" (click)=\"torusLogin('reddit')\">\n          <img class=\"email\" src=\"../../../assets/img/email-logo-start.svg\" (click)=\"torusLogin('email')\">\n        </div>\n      </div>\n    </div>\n    <div class=\"flex-column bottom\">\n      <img src=\"../../../assets/img/landing-hero.png\" id=\"bg-mobile\">\n      <div id=\"ribbon-mobile\"></div>\n    </div>\n  </div>\n  <div class=\"flex-column right\">\n    <img src=\"../../../assets/img/landing-hero.png\" id=\"bg\">\n    <div id=\"ribbon\"></div>\n  </div>\n</div>","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport { WalletService } from '../../../services/wallet/wallet.service';\nimport { ActivatedRoute } from '@angular/router';\nimport 'rxjs/add/operator/filter';\nimport { TorusService } from '../../../services/torus/torus.service';\nimport { MessageService } from '../../../services/message/message.service';\nimport { ImportService } from '../../../services/import/import.service';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-start',\n  templateUrl: './start.component.html',\n  styleUrls: ['../../../../scss/components/views/start/start.component.scss']\n})\nexport class StartComponent implements OnInit, OnDestroy {\n  isMobile = false;\n  private subscriptions: Subscription = new Subscription();\n\n  constructor(\n    private walletService: WalletService,\n    public translate: TranslateService,\n    public torusService: TorusService,\n    private importService: ImportService,\n    private messageService: MessageService,\n    private router: Router,\n    private route: ActivatedRoute\n  ) {}\n\n  async ngOnInit(): Promise<void> {\n    this.subscriptions.add(\n      this.route.queryParams.subscribe(async (params) => {\n        if (params?.devtool === 'watch') {\n          const address = prompt('Enter watch address');\n          if (address) {\n            try {\n              await this.importService.watch(address);\n              this.messageService.startSpinner();\n              this.router.navigate([`/account/${address}`]);\n            } finally {\n              this.messageService.stopSpinner();\n            }\n          }\n        }\n      })\n    );\n    if (!this.walletService.wallet) {\n      this.torusService.initTorus();\n    }\n\n    const e = () => {\n      this.isMobile = !!parseInt(getComputedStyle(document.documentElement).getPropertyValue('--is-mobile'));\n    };\n    window.addEventListener('resize', e);\n    e();\n  }\n\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n\n  async torusLogin(verifier: string, verifierId = ''): Promise<void> {\n    await this.messageService.startSpinner('Loading wallet...');\n    // const { keyPair, userInfo } = await this.mockLogin();\n    const { keyPair, userInfo } = await this.torusService.loginTorus(verifier).catch(async (e) => await this.messageService.stopSpinner());\n    console.log('login done');\n    if (keyPair) {\n      await this.importService\n        .importWalletFromPk(keyPair.pk, '', {\n          verifier: userInfo.typeOfLogin,\n          id: userInfo.verifierId,\n          name: userInfo.name\n        })\n        .then((success: boolean) => {\n          if (success) {\n            console.log('success');\n            this.router.navigate([`/account/`]);\n            this.messageService.stopSpinner();\n          } else {\n            this.messageService.addError('Torus import failed');\n            this.messageService.stopSpinner();\n          }\n        });\n    } else {\n      await this.messageService.stopSpinner();\n    }\n  }\n\n  private async mockLogin(): Promise<any> {\n    const keyPair = {\n      sk: 'spsk1VfCfhixtzGvUSKDre6jwyGbXFm6aoeLGnxeVLCouueZmkgtJF',\n      pk: 'sppk7cZsZeBApsFgYEdWuSwj92YCWkJxMmBfkN3FeKRmEB7Lk5pmDrT',\n      pkh: 'tz2WKg52VqnYXH52TZbSVjT4hcc8YGVKi7Pd'\n    };\n    const userInfo = {\n      typeOfLogin: 'google',\n      verifierId: 'mock.user@gmail.com',\n      name: 'Mock User'\n    };\n    return new Promise((resolve) => {\n      setTimeout(() => {\n        resolve({ keyPair, userInfo });\n      }, 2000);\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { saveAs } from 'file-saver';\n\n@Injectable()\nexport class ExportService {\n  constructor() {}\n  downloadWallet(data: any) {\n    const blob = new Blob([JSON.stringify(data, null, 4)], {\n      type: 'application/json'\n    });\n    let filename = 'wallet.tez';\n    if (data.walletType === 1) {\n      filename = 'view-only_wallet.tez';\n    } else if (data.walletType === 2) {\n      filename = 'observer_wallet.tez';\n    } else if (data.walletType === 3) {\n      filename = 'ledger_wallet.tez';\n    } else if (data.walletType === 4) {\n      filename = 'hd-wallet.tez';\n    }\n    saveAs(blob, filename);\n  }\n\n  downloadOperationData(hex: string, signed: boolean) {\n    const data = {\n      hex: hex,\n      signed: signed\n    };\n    let filename;\n    if (signed) {\n      filename = 'signed.tzop';\n    } else {\n      filename = 'unsigned.tzop';\n    }\n    const blob = new Blob([JSON.stringify(data, null, 4)], {\n      type: 'application/json'\n    });\n    saveAs(blob, filename);\n  }\n}\n","<form autocomplete=\"off\">\n  <div class=\"flex-column card\">\n    <a routerLink=\"/\"><button class=\"flex-row back\"><img\n          src=\"../../../../../assets/img/left-arrow.svg\">BACK</button></a>\n    <div *ngIf=\"activePanel==1\" class=\"flex-column body\">\n      <h1>Back up your seed</h1>\n      <p class=\"description\">When you create a new wallet, new Tezos Recovery (Seed) Words are generated.<br />Your seed\n        words are\n        the\n        master key of your wallet accounts and any value they hold.</p>\n      <div class=\"whitebox\" (mouseout)=\"mouseOut($event)\" (touchstart)=\"$event.stopPropagation(); this.hideBlur = true;\"\n        (touchend)=\"checkSelection($event)\" (click)=\"$event.stopPropagation()\" (mouseup)=\"checkSelection($event)\">\n        {{ MNEMONIC.string }}<div *ngIf=\"!hideBlur\" class=\"flex-row seed-blur\"\n          (click)=\"$event.stopPropagation(); this.hideBlur = true;\">\n          <span>CLICK HERE TO REVEAL YOUR SEED WORDS</span>\n        </div>\n      </div>\n      <p class=\"description red\">\n        <span *ngIf=\"isSelectedMnemonic\" style=\"margin-top: -4rem\" class=\"warning red\">\n          WARNING: Copying the seed words to your clipboard can result in sensitive leakage. The clipboard is a shared\n          resource that can be monitored by other web pages or browser extensions.<br />\n        </span> Be sure sure to back it up (seed words), write it down, and keep it incredibly safe.\n      </p>\n      <button class=\"button next\" (click)=\"verifyView()\">Next</button>\n    </div>\n    <div *ngIf=\"activePanel==2\" class=\"flex-column body\">\n      <h1>Verify your seed</h1>\n      <p class=\"description\">{{ MNEMONIC.verify.length ? 'Fill in the ' + formatVerifyDescription(MNEMONIC.verify[0] +\n        1)\n        + ' to verify\n        your seed backup' : 'Recovery Words (seed) have been verified' }}</p>\n      <progress max=\"{{ MNEMONIC.wordsToVerify }}\"\n        value=\"{{ MNEMONIC.wordsToVerify - MNEMONIC.verify.length }}\"></progress>\n      <div *ngIf=\"MNEMONIC.verify.length\" class=\"flex-row word-verify\">\n        <div class=\"flex-column word-hint\">\n          <span class=\"word-index\">{{ indexFormat(MNEMONIC.verify[0] - 1) }}</span>\n          <span class=\"word-value\"><b>{{ valueFormat(MNEMONIC.verify[0] - 1) }}</b></span>\n        </div>\n        <div class=\"flex-column word-input\">\n          <span class=\"word-index\">\n            <ng-container *ngIf=\"MNEMONIC.verify.length\">Word {{ MNEMONIC.verify[0] + 1 }}</ng-container>\n          </span>\n          <input id=\"wordInput\" class=\"text\" name=\"none\" type=\"text\" (input)=\"checkWord()\" (change)=\"checkWord()\"\n            [(ngModel)]=\"wordInput\" [disabled]=\"!MNEMONIC.verify.length\" autofocus>\n        </div>\n        <div class=\"flex-column word-hint\">\n          <span class=\"word-index\">{{ indexFormat(MNEMONIC.verify[0] + 1) }}</span>\n          <span class=\"word-value\"><b>{{ valueFormat(MNEMONIC.verify[0] + 1) }}</b></span>\n        </div>\n      </div>\n      <button *ngIf=\"!MNEMONIC.verify.length\" class=\"button next\" (click)=\"pwdView()\">Next</button>\n    </div>\n    <div *ngIf=\"activePanel==3\" class=\"flex-column body\">\n      <h1>Set a password</h1>\n      <p class=\"description bold blue\">This password will be used to create an encrypted keystore file.</p>\n      <p class=\"description\">When performing operations that need to be signed with your\n        secret key, this password will be required</p>\n      <input name=\"none\" type=\"password\" placeholder=\"{{ 'NEWWALLETCOMPONENT.PASSWORD' | translate }}\" class=\"text\"\n        autocomplete=\"new-password\" [(ngModel)]=\"pwd1\" (keyup)=\"calcStrength()\">\n      <small class=\"strength\"> {{ 'NEWWALLETCOMPONENT.PASSWORDSTRENGTH' | translate }}  <b\n          [style.color]=\"pwdStrength === 'Catastrophic!' ? 'darkred' : pwdStrength === 'Very weak!' ? 'red' : pwdStrength === 'Weak!' ? 'orange' : pwdStrength === 'Strong!' ? 'green' : 'red'\">{{\n          pwdStrength }}</b></small>\n      <input name=\"none\" type=\"password\" placeholder=\"{{ 'NEWWALLETCOMPONENT.CONFIRMPASSWORD' | translate }}\" class=\"text\"\n        autocomplete=\"new-password\" [(ngModel)]=\"pwd2\">\n      <button class=\"button next\" [style.visibility]=\"!pwd1 ? 'hidden' : ''\" (click)=\"encryptWallet()\">Next</button>\n    </div>\n    <div *ngIf=\"activePanel==4\" class=\"flex-column body\">\n      <h1>Wallet created!</h1>\n      <p class=\"description bold\">Your wallet is now set up and ready to be used.</p>\n      <p class=\"description\">Download your encrypted keystore file and import it when you want to access your wallet.\n      </p>\n      <div class=\"whitebox final\">\n        <p class=\"description bold pkh\">Your public account address:<br />{{ getPkh() }}</p>\n      </div>\n      <button class=\"button next\" (click)=\"download()\">Download</button>\n      <button class=\"button next\" [style.visibility]=\"!ekfDownloaded ? 'hidden' : ''\" (click)=\"done()\">Open\n        Wallet</button>\n    </div>\n    <span class=\"flex-row step-counter\">\n      <ng-container *ngFor=\"let _ of [1, 2, 3, 4]\">\n        <div class=\"dot\" [class]=\"_ === activePanel ? 'selected' : ''\"></div>\n      </ng-container>\n    </span>\n  </div>\n</form>","import { Component, OnInit, Input, HostBinding } from '@angular/core';\nimport { WalletService } from '../../../../../services/wallet/wallet.service';\nimport { MessageService } from '../../../../../services/message/message.service';\nimport { ExportService } from '../../../../../services/export/export.service';\nimport { ImportService } from '../../../../../services/import/import.service';\nimport { InputValidationService } from '../../../../../services/input-validation/input-validation.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-new-wallet',\n  templateUrl: './new-wallet.component.html',\n  styleUrls: ['../../../../../../scss/components/views/start/login.component.scss']\n})\nexport class NewWalletComponent implements OnInit {\n  wordInput: string;\n  @HostBinding('class.tacos') showTacos = false;\n  @Input() pwd1 = '';\n  @Input() pwd2 = '';\n  @Input() userMnemonic = '';\n  hideBlur = false;\n  isSelectedMnemonic = false;\n  pwdStrength = '';\n  ekfDownloaded = false;\n  activePanel = 0;\n  data: any;\n  seed: any;\n  pkh: string;\n  pk: string;\n  MNEMONIC: {\n    string: string;\n    array: string[];\n    verify: number[];\n    wordsToVerify: number;\n  };\n  longClickTs = 0;\n  constructor(\n    private translate: TranslateService,\n    private walletService: WalletService,\n    private messageService: MessageService,\n    private exportService: ExportService,\n    private importService: ImportService,\n    private inputValidationService: InputValidationService,\n    private router: Router\n  ) {}\n\n  ngOnInit(): void {\n    this.generateSeed();\n  }\n  generateSeed(): void {\n    const mnemonic = this.walletService.createNewWallet();\n    this.MNEMONIC = {\n      string: mnemonic,\n      array: mnemonic.split(' '),\n      verify: [],\n      wordsToVerify: 5\n    };\n    // shuffle\n    const mnemonicLength = this.MNEMONIC.array.length;\n    while (this.MNEMONIC.verify.length < this.MNEMONIC.wordsToVerify) {\n      const index = Math.floor(Math.random() * Math.floor(mnemonicLength));\n      if (!this.MNEMONIC.verify.includes(index)) {\n        this.MNEMONIC.verify.push(index);\n      }\n    }\n    this.MNEMONIC.verify.sort((a, b) => a - b);\n    this.activePanel++;\n  }\n  checkWord(): void {\n    this.wordInput = this.wordInput.toLowerCase().trim();\n    if (this.wordInput === this.MNEMONIC.array[this.MNEMONIC.verify[0]]) {\n      this.MNEMONIC.verify.shift();\n      this.wordInput = '';\n    }\n    if (!this.MNEMONIC.verify) {\n      // Remove focus from input box\n      document.getElementById('wordInput').blur();\n    }\n  }\n  formatVerifyDescription(index: number): string {\n    if (this.MNEMONIC.verify.length === 0) {\n      return 'Seed backup has been verified!';\n    }\n    switch (index) {\n      case 1:\n      case 21:\n        return `${index}st word`;\n      case 2:\n      case 22:\n        return `${index}nd word`;\n      case 3:\n      case 23:\n        return `${index}rd word`;\n      default:\n        return `${index}th word`;\n    }\n  }\n  indexFormat(index: number): string {\n    if (this.MNEMONIC.verify.length === 0) {\n      return '';\n    } else if (index < 0 || index >= this.MNEMONIC.array.length) {\n      return '';\n    } else {\n      return 'Word ' + (index + 1);\n    }\n  }\n  valueFormat(index: number): string {\n    if (this.MNEMONIC.verify.length === 0) {\n      return '';\n    } else if (index < 0 || index > this.MNEMONIC.array.length) {\n      return '';\n    } else {\n      return this.MNEMONIC.array[index];\n    }\n  }\n  verifyView(): void {\n    if (this.MNEMONIC.verify.length) {\n      this.activePanel++;\n    } else {\n      throw new Error('Unexpected verify array');\n    }\n  }\n  pwdView(): void {\n    this.activePanel++;\n    this.userMnemonic = '';\n  }\n\n  mnemonicMatch(): boolean {\n    return this.MNEMONIC.string === this.userMnemonic;\n  }\n  async encryptWallet(): Promise<void> {\n    if (this.validPwd()) {\n      this.messageService.startSpinner('Encrypting wallet...');\n      const pwd = this.pwd1;\n      this.pwd1 = '';\n      this.pwd2 = '';\n      const ans = await this.walletService.createEncryptedWallet(this.MNEMONIC.string, pwd, '', true);\n      this.seed = ans.seed;\n      this.data = ans.data;\n      this.pkh = ans.pkh;\n      this.pk = ans.pk;\n      this.MNEMONIC.string = '';\n      this.MNEMONIC.array = [];\n      this.MNEMONIC.verify = [];\n      this.activePanel++;\n      this.messageService.stopSpinner();\n      if (document.body.offsetWidth >= 480) {\n        this.showTacos = true;\n      }\n    }\n  }\n  validPwd(): boolean {\n    if (!this.inputValidationService.password(this.pwd1)) {\n      this.messageService.addWarning(this.translate.instant('MNEMONICIMPORTCOMPONENT.PASSWORDWEAK'), 5);\n      return false;\n    } else if (this.pwd1 !== this.pwd2) {\n      this.messageService.addWarning(this.translate.instant('MNEMONICIMPORTCOMPONENT.NOMATCHPASSWORDS'), 5);\n      return false;\n    } else {\n      return true;\n    }\n  }\n  calcStrength(): void {\n    this.pwdStrength = this.inputValidationService.passwordStrengthDisplay(this.pwd1);\n  }\n  async done(): Promise<void> {\n    const seed = this.seed;\n    this.seed = null;\n    await this.importService.importWalletFromObject(this.data, seed);\n    this.walletService.storeWallet();\n    this.data = null;\n    this.messageService.addSuccess('Your new wallet is now set up and ready to use!');\n    this.router.navigate([`/account/`]);\n  }\n  export(): string {\n    return JSON.stringify(this.data);\n  }\n  getPkh(): string {\n    return this.pkh;\n  }\n  download(): void {\n    this.exportService.downloadWallet(this.data);\n    this.ekfDownloaded = true;\n  }\n  mouseOut(e): void {\n    e.stopPropagation();\n    this.hideBlur = false;\n    window.getSelection()?.removeAllRanges();\n  }\n  checkSelection(ev): void {\n    ev.stopPropagation();\n    if (this.isTextSelected()) {\n      this.isSelectedMnemonic = true;\n    }\n  }\n  private isTextSelected(): boolean {\n    let selection: Selection;\n    if (window.getSelection) {\n      selection = window.getSelection();\n    } else if (document.getSelection) {\n      selection = document.getSelection();\n    } else return false;\n    return !selection?.isCollapsed;\n  }\n}\n","<div class=\"flex-column card\">\n  <a routerLink=\"/\"><button class=\"flex-row back\"><img src=\"../../../../../assets/img/left-arrow.svg\">BACK</button></a>\n  <div *ngIf=\"activePanel === 0\" class=\"flex-column body\">\n    <h1>Import wallet</h1>\n    <div class=\"flex-row import-options\">\n      <span [class.selected]=\"importOption===0\" (click)=\"reset(); importOption = 0\">Keystore File</span>\n      <span [class.selected]=\"importOption===1\" (click)=\"reset(); importOption = 1\">Seed Words</span>\n      <span [class.selected]=\"importOption===2\" (click)=\"reset(); importOption = 2\">Fundraiser</span>\n    </div>\n    <ng-container *ngIf=\"importOption === 0\">\n      <form autocomplete=\"off\">\n        <p class=\"description\">\n          Import your wallet from an encrypted keystore file (<span style=\"text-transform: lowercase;\">.tez</span>)\n        </p>\n        <input #keyStore name=\"none\" type=\"file\" (change)=\"handleFileInput($event.target.files)\"\n          accept=\".tez{{ firefox ? ', application/json' : '' }}\" id=\"file\" name=\"file\">\n        <div class=\"flex-row button input-file-wrapper\">\n          <label for=\"file\" class=\"flex-row button input-file\" [class.loaded]=\"walletJson\"\n            (click)=\"keyStore?.nativeElement?.click();\">\n            <ng-container *ngIf=\"!walletJson\"><span class=\"b\">Browse</span><img\n                src=\"../../../../../assets/img/import-plus.png\" /></ng-container>\n            <ng-container *ngIf=\"walletJson\">\n              <div class=\"flex-row body\"><img src=\"../../../../../assets/img/lock.png\" />&nbsp;&nbsp;<span\n                  class=\"flex-row filename\">{{\n                  fileName\n                  }}</span>\n              </div>\n              <span class=\"b\">Browse</span>\n            </ng-container>\n          </label>\n        </div>\n        <input *ngIf=\"walletJson\" name=\"none\" type=\"password\" class=\"text\" autocomplete=\"current-password\"\n          (keydown.enter)='!messageService.spinnerOn ? checkImportPwd() : null' id=\"pwd\" [(ngModel)]=\"pwd\" placeholder=\"Password\">\n        <button class=\"button next\" [style.visibility]=\"!walletJson ? 'hidden' : ''\"\n          (click)='!messageService.spinnerOn ? checkImportPwd() : null'>Import</button>\n      </form>\n    </ng-container>\n    <ng-container *ngIf=\"importOption > 0\">\n      <form autocomplete=\"off\">\n        <p class=\"description faucet\" *ngIf=\"importOption === 2\"><span>Please make sure to first <a\n              routerLink=\"/activate\">activate</a> your fundraiser wallet.</span></p>\n        <span class=\"description label\">RECOVERY (SEED) WORDS <span style=\"color: #98a0ab\">12-24 WORDS</span></span>\n        <textarea name=\"none\" class=\"text seed-word\" [(ngModel)]=\"mnemonic\" autocomplete=\"off\"\n          [placeholder]=\"'Seed Words (required)'\"></textarea>\n      </form>\n      <ng-container *ngIf=\"importOption === 1\">\n        <app-ui-toggle-advanced style=\"width: 13rem;\" [default]=\"false\" (stateChange)=\"advancedForm = $event\">\n        </app-ui-toggle-advanced>\n        <br /><br />\n        <form autocomplete=\"off\" *ngIf=\"advancedForm\" class=\"flex-row-wrap import-option-1\">\n          <div class=\"flex-column\">\n            <span class=\"label\"><b>If your seed words are protected by a passphrase, it needs to be entered\n                here</b></span>\n            <input name=\"none\" class=\"text\" type=\"password\" name=\"passphrase\" autocomplete=\"one-time-code\"\n              [(ngModel)]=\"passphrase\" [placeholder]=\"'Passphrase (optional)'\" readonly=\"true\"\n              (click)=\"clickPassword($event)\" (blur)=\"blurPassword($event)\">\n          </div>\n          <div class=\"flex-column\">\n            <span class=\"label\"><b>Provide the public key hash<br /> to verify your passphrase is correct</b></span>\n            <input name=\"none\" type=\"text\" class=\"text\" [(ngModel)]=\"pkh\" [placeholder]=\"'tz1... (recommended)'\">\n          </div>\n          <div class=\"flex-row radios\" *ngIf=\"importOption === 1\">\n            <div class=\"flex-row\">\n              <input name=\"none\" (change)=\"hdImport = !hdImport\" type=\"radio\" name=\"walletType\" value=\"hd\" checked>\n              <span>HD wallet</span>\n            </div>\n            <div class=\"flex-row\">\n              <input name=\"none\" (change)=\"hdImport = !hdImport\" type=\"radio\" name=\"walletType\" value=\"legacy\">\n              <span>Legacy wallet</span>\n            </div>\n          </div>\n        </form>\n      </ng-container>\n      <ng-container *ngIf=\"importOption === 2\">\n        <form autocomplete=\"off\">\n          <span class=\"label\">The email used during the fundraiser</span>\n          <input name=\"none\" class=\"text\" type=\"text\" [(ngModel)]=\"email\" [placeholder]=\"'Email (required)'\">\n          <span class=\"label\">The password you chose during the fundraiser</span>\n          <input name=\"none\" class=\"text\" type=\"password\" name=\"tge-password\" autocomplete=\"one-time-code\"\n            [(ngModel)]=\"password\" [placeholder]=\"'Password (required)'\" readonly=\"true\" (click)=\"clickPassword($event)\"\n            (blur)=\"blurPassword($event)\">\n          <span class=\"label\">Provide the public key hash to verify your email and password are correct</span>\n          <input name=\"none\" type=\"text\" class=\"text\" [(ngModel)]=\"pkh\" [placeholder]=\"'tz1... (recomended)'\">\n        </form>\n      </ng-container>\n      <button class=\"button next\" (click)=\"retrieve()\">Import</button>\n    </ng-container>\n  </div>\n  <div *ngIf=\"activePanel==1\" class=\"flex-column body\">\n    <form autocomplete=\"off\">\n      <h1>Set a password</h1>\n      <p class=\"description bold blue\">This password will be used to create an encrypted keystore file.</p>\n      <p class=\"description\">When performing operations that need to be signed with your\n        secret key, this password will be required</p>\n      <input name=\"none\" type=\"password\" placeholder=\"{{ 'NEWWALLETCOMPONENT.PASSWORD' | translate }}\" class=\"text\"\n        autocomplete=\"new-password\" [(ngModel)]=\"pwd1\" (keyup)=\"calcStrength()\">\n      <small class=\"strength\"> {{ 'NEWWALLETCOMPONENT.PASSWORDSTRENGTH' | translate }}  <b\n          [style.color]=\"pwdStrength === 'Catastrophic!' ? 'darkred' : pwdStrength === 'Very weak!' ? 'red' : pwdStrength === 'Weak!' ? 'orange' : pwdStrength === 'Strong!' ? 'green' : 'red'\">{{\n          pwdStrength }}</b></small>\n      <input name=\"none\" type=\"password\" placeholder=\"{{ 'NEWWALLETCOMPONENT.CONFIRMPASSWORD' | translate }}\"\n        class=\"text\" autocomplete=\"new-password\" [(ngModel)]=\"pwd2\">\n      <button class=\"button next\" [style.visibility]=\"!pwd1 ? 'hidden' : ''\" (click)=\"setPwd()\">Next</button>\n    </form>\n  </div>\n  <div *ngIf=\"activePanel==2\" class=\"flex-column body\">\n    <h1>Wallet created!</h1>\n    <p class=\"description bold\">Your wallet is now set up and ready to be used.</p>\n    <p class=\"description\">Download your encrypted keystore file and import it when you want to access your wallet.\n    </p>\n    <div class=\"whitebox final\">\n      <p class=\"description bold pkh\">Your public account address:<br />{{ showPkh() }}</p>\n    </div>\n    <button class=\"button next\" (click)=\"download()\">Download</button>\n    <button class=\"button next\" [style.visibility]=\"!Downloaded ? 'hidden' : ''\" (click)=\"done()\">Open Wallet</button>\n  </div>\n</div>","import { Component, OnInit, HostBinding, Input, OnDestroy, AfterViewInit } from '@angular/core';\nimport { NavigationEnd, Router } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core'; // Multiple instances created ?\nimport { ImportService } from '../../../../../services/import/import.service';\nimport { MessageService } from '../../../../../services/message/message.service';\nimport { WalletService } from '../../../../../services/wallet/wallet.service';\nimport { ExportService } from '../../../../../services/export/export.service';\nimport { InputValidationService } from '../../../../../services/input-validation/input-validation.service';\nimport { utils, hd } from '@tezos-core-tools/crypto-utils';\nimport { filter } from 'rxjs/operators';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-mnemonic-import-wallet',\n  templateUrl: './mnemonic-import.component.html',\n  styleUrls: ['../../../../../../scss/components/views/start/login.component.scss']\n})\nexport class MnemonicImportComponent implements OnInit, AfterViewInit, OnDestroy {\n  @HostBinding('class.tacos') showTacos = false;\n  @Input('keyStore') keyStore;\n  MIN_PWD_LENGTH = 9;\n  mnemonic: string;\n  email: string;\n  password: string;\n  passphrase: string;\n  pkh: string;\n  importOption = 0;\n  activePanel = 0;\n  hdImport = true;\n  wallet: any;\n  walletJson: string;\n  pwd = '';\n  pwd1: string;\n  pwd2: string;\n  pwdStrength = '';\n  Downloaded = false;\n  fileName = '';\n  showWrongFileUploadMsg: false;\n  browser = 'unknown';\n  advancedForm = false;\n\n  private subscriptions: Subscription = new Subscription();\n\n  constructor(\n    private translate: TranslateService,\n    private importService: ImportService,\n    private router: Router,\n    private messageService: MessageService,\n    private walletService: WalletService,\n    private exportService: ExportService,\n    private inputValidationService: InputValidationService\n  ) {\n    this.subscriptions.add(\n      this.router.events.pipe(filter((e) => e instanceof NavigationEnd && e.url.startsWith('/import'))).subscribe(() => {\n        const navigation = this.router.getCurrentNavigation();\n        this.importOption = navigation.extras?.state?.option ? navigation.extras.state.option : 0;\n      })\n    );\n  }\n\n  ngOnInit(): void {}\n\n  ngAfterViewInit(): void {\n    document.documentElement.addEventListener('dragover', this.allowDrop.bind(this));\n    document.documentElement.addEventListener('drop', this.handleFileDragAndDrop.bind(this));\n  }\n\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n\n  clickPassword(e): void {\n    e.target.removeAttribute('readonly');\n    e.target.focus();\n  }\n\n  blurPassword(e): void {\n    e.target.setAttribute('readonly', true);\n  }\n\n  retrieve(): void {\n    if (this.mnemonic) {\n      this.mnemonic = this.mnemonic\n        .toLowerCase()\n        .replace(/(\\r\\n|\\n|\\r)/gm, ' ')\n        .trim();\n    }\n    if (this.importOption === 2) {\n      this.passphrase = this.email + this.password;\n    }\n    if (!this.inputValidationService.mnemonics(this.mnemonic)) {\n      this.subscriptions.add(this.translate.get('MNEMONICIMPORTCOMPONENT.INVALIDMNEMONIC').subscribe((res: string) => this.messageService.addWarning(res, 10)));\n    } else if (this.importOption === 2 && !this.inputValidationService.email(this.email)) {\n      this.subscriptions.add(\n        this.translate.get('MNEMONICIMPORTCOMPONENT.INVALIDEMAIL').subscribe(\n          (res: string) => this.messageService.addWarning(res, 10) // 'Invalid email!'\n        )\n      );\n    } else if (this.importOption === 2 && !this.password) {\n      this.subscriptions.add(\n        this.translate.get('MNEMONICIMPORTCOMPONENT.INVALIDPASSWORD').subscribe(\n          (res: string) => this.messageService.addWarning(res, 10) // 'Invalid password!'\n        )\n      );\n    } else if (!this.inputValidationService.passphrase(this.passphrase)) {\n      this.subscriptions.add(\n        this.translate.get('MNEMONICIMPORTCOMPONENT.INVALIDPASSPHRASE').subscribe(\n          (res: string) => this.messageService.addWarning(res, 10) // 'Invalid passphrase!'\n        )\n      );\n    } else if (this.pkh && !this.inputValidationService.address(this.pkh)) {\n      this.subscriptions.add(\n        this.translate.get('MNEMONICIMPORTCOMPONENT.INVALIDPKH').subscribe(\n          (res: string) => this.messageService.addWarning(res, 10) // 'Invalid public key hash!'\n        )\n      );\n    } else {\n      let pkh = '';\n      if (this.pkh) {\n        if (this.importOption === 1 && this.hdImport) {\n          pkh = hd.keyPairFromAccountIndex(utils.mnemonicToSeed(this.mnemonic, this.passphrase, true), 0).pkh;\n        } else {\n          pkh = utils.seedToKeyPair(utils.mnemonicToSeed(this.mnemonic, this.passphrase, false)).pkh;\n        }\n      }\n      if (this.pkh && pkh !== this.pkh) {\n        if (this.importOption === 2) {\n          this.subscriptions.add(\n            this.translate.get('MNEMONICIMPORTCOMPONENT.INVALIDEMAILPASSWORD').subscribe((res: string) => this.messageService.addWarning(res, 5))\n          );\n        } else {\n          this.subscriptions.add(\n            this.translate.get('MNEMONICIMPORTCOMPONENT.INVALIDPASSPHRASE').subscribe((res: string) => this.messageService.addWarning(res, 5))\n          );\n        }\n      } else {\n        this.activePanel++;\n      }\n    }\n  }\n  async setPwd(): Promise<void> {\n    if (this.validPwd()) {\n      const password = this.pwd1;\n      this.pwd1 = '';\n      this.pwd2 = '';\n      await this.messageService.startSpinner('Encrypting wallet...');\n      try {\n        this.wallet = await this.walletService.createEncryptedWallet(this.mnemonic, password, this.passphrase, this.importOption === 1 && this.hdImport);\n      } finally {\n        this.messageService.stopSpinner();\n      }\n      this.mnemonic = '';\n      this.passphrase = '';\n      this.email = '';\n      this.password = '';\n      this.activePanel++;\n    }\n  }\n\n  validPwd(): boolean {\n    if (!this.inputValidationService.password(this.pwd1)) {\n      this.subscriptions.add(\n        this.translate.get('MNEMONICIMPORTCOMPONENT.PASSWORDWEAK').subscribe(\n          (res: string) => this.messageService.addWarning(res, 10) // 'Password is too weak!'\n        )\n      );\n      return false;\n    } else if (this.pwd1 !== this.pwd2) {\n      this.subscriptions.add(\n        this.translate.get('MNEMONICIMPORTCOMPONENT.NOMATCHPASSWORDS').subscribe(\n          (res: string) => this.messageService.addWarning(res, 10) // Passwords don't match!\n        )\n      );\n      return false;\n    } else {\n      return true;\n    }\n  }\n  calcStrength(): void {\n    this.pwdStrength = this.inputValidationService.passwordStrengthDisplay(this.pwd1);\n  }\n  export(): string {\n    return JSON.stringify(this.wallet.data);\n  }\n  showPkh(): string {\n    return this.wallet.pkh;\n  }\n  download(): void {\n    this.exportService.downloadWallet(this.wallet.data);\n    this.Downloaded = true;\n  }\n  async done(): Promise<void> {\n    await this.messageService.startSpinner('Loading wallet...');\n    try {\n      await this.importService.importWalletFromObject(this.wallet.data, this.wallet.seed);\n    } finally {\n      this.messageService.stopSpinner();\n    }\n    this.wallet = null;\n    this.router.navigate([`/account/`]);\n    this.subscriptions.add(this.translate.get('MNEMONICIMPORTCOMPONENT.WALLETREADY').subscribe((res: string) => this.messageService.addSuccess(res)));\n  }\n  /* Keystore handling */\n  importPreCheck(keyFile: string): void {\n    this.typeCheckFile(keyFile);\n    if (this.importService.pwdRequired(keyFile)) {\n      this.walletJson = keyFile;\n    } else {\n      throw new Error('Unsupported wallet file');\n    }\n  }\n  typeCheckFile(keyFile: string): void {\n    const obj = JSON.parse(keyFile);\n    // Required\n    try {\n      if (typeof obj.provider !== 'string') {\n        throw new Error('provider not a string!');\n      }\n      if (typeof obj.version !== 'number') {\n        throw new Error('version not a number!');\n      }\n      if (typeof obj.walletType !== 'number') {\n        throw new Error('walletType not a number!');\n      }\n      // Optional\n      if (obj.encryptedSeed && typeof obj.encryptedSeed !== 'string') {\n        throw new Error('encryptedSeed not a string!');\n      }\n      if (obj.pkh && typeof obj.pkh !== 'string') {\n        throw new Error('pkh not a string!');\n      }\n      if (obj.iv && typeof obj.iv !== 'string') {\n        throw new Error('iv not a string!');\n      }\n      if (obj.pk && typeof obj.pk !== 'string') {\n        throw new Error('pk not a string!');\n      }\n      if (obj.encryptedEntropy && typeof obj.encryptedEntropy !== 'string') {\n        throw new Error('encryptedEntropy not a string!');\n      }\n    } catch (e) {\n      this.messageService.addError(e);\n      throw e;\n    }\n  }\n  async checkImportPwd(): Promise<void> {\n    if (!this.walletJson) {\n      this.messageService.addWarning('No keystore file imported', 5);\n    } else if (this.pwd) {\n      await this.messageService.startSpinner('Importing wallet...');\n      try {\n        await this.import(this.walletJson, this.pwd);\n        this.pwd = '';\n      } finally {\n        this.messageService.stopSpinner();\n      }\n    } else {\n      this.messageService.addWarning('No password provided', 5);\n    }\n  }\n  async import(keyFile: string, pwd: string): Promise<void> {\n    this.typeCheckFile(keyFile);\n    await this.importService\n      .importWalletFromJson(keyFile, pwd)\n      .then((success: boolean) => {\n        if (success) {\n          this.router.navigate(['/account/']);\n        } else {\n          console.log(success);\n          this.messageService.addError('Something went wrong');\n        }\n      })\n      .catch((e) => {\n        this.messageService.addError(e);\n        this.walletService.clearWallet();\n        this.messageService.stopSpinner();\n      });\n  }\n  allowDrop(e): void {\n    e.stopPropagation();\n    e.preventDefault();\n  }\n  handleFileDragAndDrop(e): void {\n    e.preventDefault();\n    this.handleFileInput(e.dataTransfer.files);\n  }\n  handleFileInput(files: FileList): boolean {\n    let fileToUpload = files.item(0);\n    if (!fileToUpload) {\n      return false;\n    } else if (!this.validateFile(fileToUpload.name)) {\n      let fileNotSupported = '';\n      this.subscriptions.add(this.translate.get('IMPORTCOMPONENT.FILENOTSUPPORTED').subscribe((res: string) => (fileNotSupported = res)));\n      this.messageService.add(fileNotSupported);\n\n      console.log('Selected file format is not supported');\n      fileToUpload = null;\n      this.walletJson = null;\n      return false;\n    } else {\n      const reader = new FileReader();\n      reader.readAsText(fileToUpload);\n      reader.onload = () => {\n        if (typeof reader.result === 'string') {\n          try {\n            this.importPreCheck(reader.result);\n          } catch (e) {\n            this.messageService.addError(e, 5);\n            this.walletJson = null;\n          }\n          if (this.walletJson) {\n            this.fileName = fileToUpload.name;\n          }\n        } else {\n          this.walletJson = null;\n          throw new Error('Not a string import');\n        }\n      };\n    }\n  }\n  validateFile(name: string): boolean {\n    const ext = name.substring(name.lastIndexOf('.') + 1);\n    if (ext.toLowerCase() === 'tez' || ext.toLowerCase() === 'json') {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  reset(): void {\n    this.advancedForm = false;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport 'babel-polyfill';\nimport TransportU2F from '@ledgerhq/hw-transport-u2f';\nimport TransportWebHID from '@ledgerhq/hw-transport-webhid';\nimport Tezos from '@obsidiansystems/hw-app-xtz';\nimport { OperationService } from '../operation/operation.service';\nimport { MessageService } from '../message/message.service';\n\n@Injectable()\nexport class LedgerService {\n  transport: any;\n  constructor(private operationService: OperationService, private messageService: MessageService) {}\n  async setTransport() {\n    if (!this.transport) {\n      console.log('Trying to use WebHID for transport...');\n      try {\n        this.transport = await TransportWebHID.create();\n        console.log('Transport is now set to use WebHID!');\n      } catch (e) {\n        this.transport = null;\n        console.warn(\"Couldn't set WebHID as transport!\");\n        console.error(e);\n      }\n    }\n    if (!this.transport) {\n      try {\n        this.transport = await TransportU2F.create();\n        console.warn('Transport is now set to use U2F!');\n      } catch (e) {\n        this.transport = null;\n        console.log(\"Couldn't set U2F as transport!\");\n        console.error(e);\n      }\n    }\n  }\n  async transportCheck() {\n    if (!this.transport) {\n      await this.setTransport();\n    }\n    if (!this.transport) {\n      this.messageService.addError('Failed to set transport. Please make sure your browser supports WebHID or U2F');\n      throw new Error('NO_TRANSPORT_FOUND');\n    }\n  }\n  async getPublicAddress(path: string) {\n    await this.transportCheck();\n    const xtz = new Tezos(this.transport);\n    const result = await xtz\n      .getAddress(path, true)\n      .then((res) => {\n        return this.sanitize(res, true);\n      })\n      .catch((e) => {\n        if (e.message) {\n          this.messageService.addError(e.message);\n        } else {\n          this.messageService.addError(e);\n        }\n        throw e;\n      });\n    const pk = this.operationService.hex2pk(result.publicKey);\n    return pk;\n  }\n  async signOperation(op: string, path: string) {\n    if (!['03', '05'].includes(op.slice(0, 2))) {\n      throw new Error('Invalid prefix');\n    }\n    await this.transportCheck();\n    const xtz = new Tezos(this.transport);\n    console.log('op', op);\n    const result = await xtz\n      .signOperation(path, op)\n      .then((res) => {\n        return this.sanitize(res, false);\n      })\n      .catch((e) => {\n        console.warn(e);\n        this.messageService.addError(e, 0);\n        return null;\n      });\n    console.log(JSON.stringify(result));\n    if (result?.signature) {\n      return result.signature;\n    } else {\n      return null;\n    }\n  }\n  async signHash(hash: string, path: string) {\n    if (hash.length !== 64) {\n      throw new Error('Invalid hash!');\n    }\n    await this.transportCheck();\n    const xtz = new Tezos(this.transport);\n    const result = await xtz\n      .signHash(path, hash)\n      .then((res) => {\n        return this.sanitize(res, false);\n      })\n      .catch((e) => {\n        console.warn(e);\n        this.messageService.addError(e, 0);\n        return null;\n      });\n    console.log(JSON.stringify(result));\n    if (result?.signature) {\n      return result.signature;\n    } else {\n      return null;\n    }\n  }\n  private sanitize(res: any, getPk: boolean) {\n    res = JSON.parse(JSON.stringify(res));\n    if (getPk && typeof res?.publicKey !== 'string') {\n      throw Error('Invalid pk');\n    }\n    if (!getPk && typeof res?.signature !== 'string') {\n      throw Error('Invalid signature');\n    }\n    return res;\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { LedgerService } from '../../../../../services/ledger/ledger.service';\nimport { ImportService } from '../../../../../services/import/import.service';\nimport { MessageService } from '../../../../../services/message/message.service';\nimport { InputValidationService } from '../../../../../services/input-validation/input-validation.service';\nimport { utils } from '@tezos-core-tools/crypto-utils';\n\n@Component({\n  selector: 'app-connect-ledger',\n  templateUrl: './connect-ledger.component.html',\n  styleUrls: ['../../../../../../scss/components/views/start/login.component.scss']\n})\nexport class ConnectLedgerComponent implements OnInit {\n  activePanel = 0;\n  defaultPath = \"44'/1729'/0'/0'\";\n  defaultText = 'Default derivation path';\n  path: string;\n  pendingLedgerConfirmation = false;\n  isHDDerivationPathCustom = false;\n  browser = 'unknown';\n\n  constructor(\n    private router: Router,\n    private ledgerService: LedgerService,\n    private importService: ImportService,\n    private messageService: MessageService,\n    private inputValidationService: InputValidationService\n  ) {}\n\n  ngOnInit(): void {\n    this.path = this.defaultText;\n    this.checkBrowser();\n  }\n  checkBrowser(): void {\n    try {\n      if (navigator.userAgent.toLowerCase().indexOf('firefox') > -1) {\n        this.browser = 'firefox';\n      } else if ((navigator as any)?.userAgentData?.brands?.some((b) => b.brand === 'Google Chrome' || 'Chromium')) {\n        this.browser = 'chromium';\n      } else if ((navigator as any)?.userAgent.toLowerCase().indexOf('safari') > -1 && navigator.platform.indexOf('Mac') === -1) {\n        this.browser = 'safari';\n      }\n    } catch (e) {\n      console.warn(e);\n    }\n  }\n  async getPk(): Promise<void> {\n    const path: string = this.path.replace(this.defaultText, this.defaultPath);\n    if (this.inputValidationService.derivationPath(path)) {\n      this.pendingLedgerConfirmation = true;\n      try {\n        this.messageService.startSpinner('Waiting for Ledger confirmation...');\n        const pk = await this.ledgerService.getPublicAddress(path);\n        console.log('getPK => ' + pk);\n        await this.importFromPk(pk, path);\n      } catch (e) {\n        throw e;\n      } finally {\n        this.pendingLedgerConfirmation = false;\n        this.messageService.stopSpinner();\n      }\n    } else {\n      this.messageService.addWarning('Invalid derivation path');\n    }\n  }\n  async importFromPk(pk: string, path: string): Promise<void> {\n    if (utils.validPublicKey(pk)) {\n      if (await this.importService.importWalletFromPk(pk, path)) {\n        this.router.navigate([`/account/`]);\n      } else {\n        this.messageService.addError('Failed to import Ledger wallet');\n      }\n    } else {\n      this.messageService.addError('Not a valid public key');\n    }\n  }\n  setDefaultPath(v): void {\n    if (this.isHDDerivationPathCustom) {\n      this.path = this.defaultText;\n    } else {\n      this.path = this.defaultPath;\n    }\n    this.isHDDerivationPathCustom = v;\n  }\n}\n","<form autocomplete=\"off\">\n  <div class=\"flex-column card\">\n    <a routerLink=\"/\"><button class=\"flex-row back\"><img\n          src=\"../../../../../assets/img/left-arrow.svg\">BACK</button></a>\n    <div class=\"flex-column body\">\n      <h1>Connect your Ledger</h1>\n      <p class=\"description\">Keep the private keys safely on your Ledger device and use Kukai to access the Tezos\n        blockchain.</p>\n      <p class=\"description\">You need to open the Tezos Wallet app on your Ledger device and set the derivation path.\n      </p>\n      <input name=\"none\" type=\"text\" class=\"text\" [disabled]=\"!isHDDerivationPathCustom\" [(ngModel)]=\"path\"\n        value=\"'44\\'/1729\\'/0\\'/0\\''\">\n      <app-ui-toggle-advanced style=\"width: 24rem;\" [default]=\"false\" [text]=\"'Use custom HD derivation path:'\"\n        (stateChange)=\"setDefaultPath($event)\"></app-ui-toggle-advanced>\n      <br /><br /><br />\n      <button class=\"button next\" (click)=\"getPk()\" [disabled]=\"browser === 'safari'\">{{ browser !== 'safari' ?\n        'Connect' : 'Ledger support with Safari is currently unavailable' }}</button>\n    </div>\n  </div>\n</form>","import { Component } from '@angular/core';\n\n@Component({\n  templateUrl: '404.component.html',\n  styleUrls: ['../../../../scss/components/views/error/error.scss']\n})\nexport class P404Component {\n  constructor() {}\n}\n","<div id=\"error\" class=\"flex-column\">\n  <h1>404</h1>\n  <h4>Oops! You're lost.</h4>\n  <p>The page you are looking for was not found.</p>\n</div>","import { Component } from '@angular/core';\n\n@Component({\n  templateUrl: '500.component.html',\n  styleUrls: ['../../../../scss/components/views/error/error.scss']\n})\nexport class P500Component {\n  constructor() {}\n}\n","<div id=\"error\" class=\"flex-column\">\n  <h1>500</h1>\n  <h4>Houston, we have a problem!</h4>\n  <p>The page you are looking for is temporarily unavailable.</p>\n</div>","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-privacy-policy',\n  templateUrl: './privacy-policy.component.html',\n  styleUrls: ['../../../../../../scss/components/views/start/agreement/terms-of-use/terms-of-use.component.scss']\n})\nexport class PrivacyPolicyComponent implements OnInit {\n  constructor() {}\n\n  ngOnInit(): void {}\n  getHostName(): string {\n    return location.hostname;\n  }\n}\n","<div class=\"legal\">\n  <H1>Privacy Policy</H1>\n  <H5>Introduction</H5>\n  <p>Kukai Digital Wallet (hereinafter Kukai, collectively encompassing {{getHostName()}}) is committed to ensuring the\n    privacy of all our users. We take our duty to process your personal data very seriously. This policy represents our\n    commitment to your right to privacy, giving you a clear explanation about how we use your information and your\n    rights over that information.</p>\n\n  <p>Its possible to use {{getHostName()}} (hereinafter website) without submitting any personal information.</p>\n\n  <H5>Scope of Privacy Policy</H5>\n  <p>This privacy policy applies only to your use of our Tezos digital wallet, Kukai. Our website may contain links to\n    other websites, which are not hosted by Kukai. Please note that we have no control over how your data is collected,\n    stored, or used by other websites and we advise you to check the privacy policies of any such websites before\n    providing any data to them.</p>\n\n  <H5>What types of information do we collect and how?</H5>\n  <p>Kukai does not keep, process, or store any user data, however some services that Kukai relies on may store some\n    user data. Kukai uses Cloudflare services, which collects anonymized website traffic data.</p>\n\n  <p>Data protection laws require us to have a legal justification to process your personal information. Please note,\n    that to use Kukai digital wallet, no personal information is needed to use or access our website or to use our\n    digital wallet. Once again, Kukai does not store user data on any servers.</p>\n\n  <p>Please note, our website and forum may contain links to other websites which are not hosted by Kukai. Please note\n    that we have no control over how your data is collected, stored, or used by other websites and we advise you to\n    check the privacy policies of any such websites before providing any data to them.</p>\n\n  <H5>Legal obligation</H5>\n  <p>As Kukai does not keep, maintain, or process any personal information, Kukai will attempt to fulfill any legal\n    obligations placed upon us, through a lawfully valid legal order by a court of competent jurisdiction.</p>\n\n  <H5>Jurisdiction</H5>\n  <p>Our website is under Swedish jurisdiction and is subject to Swedish laws (which would negate the above retention\n    rules), and similar. Furthermore, our service providers could also be subject to similar orders without our\n    knowledge.</p>\n\n  <p>We take appropriate security measures to ensure that your digital wallet is secured, accurate and up to date.\n    However the transmission of information over the Internet is never completely secure, so while we do our best to\n    protect any information, however, we cannot guarantee the security of information transmitted to our website.</p>\n\n  <H5>Retention Period For Data</H5>\n  <p>We do not hold, store, maintain, or use any personal information as no personal information is needed to use our\n    digital wallet.</p>\n\n  <H5>Access to and your rights over your personal information and removal of User data:</H5>\n  <p>We do not hold, store, use, or maintain any personal user information. For a User to delete any data from the use\n    of our digital wallet please follow the following instructions: </p>\n\n  <p>Log out from the app to remove all user data from the browser cache.</p>\n\n  <p>For more information please see: <a href=\"https://www.tezos.help/kukai-data-removal/index.html\">https://www.tezos.help/kukai-data-removal/index.html</a></p>\n\n  <H5>Complaints</H5>\n  <p>If you wish to lodge a complaint about our handling of your personal data please get in touch with us on the\n    details above with the details of your complaint at contact@kukai.app. We aim to respond to all complaints within 14\n    working days. All legal requests will be reviewed by our legal department and appropriate action will be taken. If\n    you have a legal request, please contact us at: legal@kukai.app.</p>\n\n</div>","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-terms-of-use',\n  templateUrl: './terms-of-use.component.html',\n  styleUrls: ['../../../../../../scss/components/views/start/agreement/terms-of-use/terms-of-use.component.scss']\n})\nexport class TermsOfUseComponent implements OnInit {\n  constructor() {}\n\n  ngOnInit(): void {}\n}\n","<div class=\"legal\">\n  <H1>TERMS OF USE</H1>\n  <p><i>Last Updated: June 30, 2020</i></p>\n  <p class=\"notice\">IMPORTANT NOTICE: THIS AGREEMENT IS SUBJECT TO BINDING ARBITRATION AND A WAIVER OF CLASS ACTION RIGHTS AS DETAILED\n    IN SECTION 13. PLEASE READ THE AGREEMENT CAREFULLY.</p>\n\n  <H4>1. Acceptance of terms</H4>\n  <p>Kukai Wallet (hereinafter Kukai, we, us, or our) provides a platform for managing Tezos accounts, and\n    allowing ordinary websites and applications to interact with the blockchain network, while keeping the user in\n    control over what transactions they approve, through our website located at https://kukai.app/ (the Site), which\n    includes text, images, audio, code and other materials (collectively, the Content) and all of the features, and\n    services provided. The Site and any other features, tools, materials, or other services offered from time to time by\n    Kukai Wallet are referred to here as the Services. Please read these Terms of Use (the Terms) carefully before\n    using the Services. By using or otherwise accessing the Services, or clicking to accept or agree to these Terms\n    where that option is made available, you (1) accept and agree to these Terms, (2) consent to the collection, use,\n    disclosure and other handling of information as described in our Privacy Policy and (3) agree to any additional\n    terms, rules and conditions of participation issued by Kukai Wallet from time to time. If you do not agree to any of\n    the Terms, then you may not access or use the Content or Services.</p>\n\n  <H4>2. Modification of Terms of Use</H4>\n  <p>Except for Section 13, providing for arbitration and waiver of class action rights, Kukai Wallet reserves the\n    right, at its sole discretion, to modify or replace the Terms at any time without notice. We will always try to\n    provide advance notice, however, we reserve the right to modify or replace the Terms at our discretion. The most\n    current version of these Terms will be posted on our Site. You shall be responsible for reviewing and becoming\n    familiar with any such modifications. Use of the Services by you after any modification to the Terms constitutes\n    your acceptance of the Terms as modified.</p>\n\n  <H4>3. Eligibility</H4>\n  <p>You hereby represent and warrant that you are fully able and competent to enter into the terms, conditions,\n    obligations, affirmations, representations and warranties set forth in these Terms and to abide by and comply with\n    these Terms.</p>\n\n  <p>Kukai Wallet is a global platform and by accessing the Content or Services, you are representing and warranting\n    that you are of the legal age of majority in your jurisdiction as is required to access such Services and Content\n    and enter into arrangements as provided by the Services. You further represent that you are otherwise legally\n    permitted to use the service in your jurisdiction including owning cryptographic tokens of value, and interacting\n    with the Services or Content in any way. You further represent you are responsible for ensuring compliance with the\n    laws of your jurisdiction and acknowledge that Kukai Wallet is not liable for your compliance with such laws.</p>\n\n  <p>In addition, you represent to us that you and your financial institutions, or any party that owns or controls you\n    or your financial institutions, are (1) not subject to sanctions or otherwise designated on any list of prohibited\n    or restricted parties, including but not limited to the lists maintained by the United Nations Security Council, the\n    U.S. Government (e.g., the Specially Designated Nationals List and Foreign Sanctions Evaders List of the U.S.\n    Department of Treasury and the Entity List of the U.S. Department of Commerce), the European Union or its Member\n    States, or other applicable government authority and (2) not located in any country to which the United States has\n    embargoed goods or has otherwise applied any sanctions.</p>\n\n  <H4>4. Account Password and Security</H4>\n  <p>When setting up an account within Kukai Wallet, you will be responsible for keeping your own account secrets, which\n    may be a word seed phrase, an account file, or other locally stored secret information. Kukai Wallet encrypts this\n    information locally with a password you provide, that we never send to our servers. You agree to (a) never use the\n    same password for Kukai Wallet that you have ever used outside of this service, (b) keep your secret information and\n    password confidential and do not share them with anyone else and (c) immediately notify Kukai Wallet of any\n    unauthorized use of your account or breach of security. Kukai Wallet cannot and will not be liable for any loss or\n    damage arising from your failure to comply with this section.\n\n  <H4>5. DISCLAIMERS- RISKS</H4>\n\n  <H5>5.1. Warranty Disclaimer</H5>\n  <p>You expressly understand and agree that your use of the Services is at your sole risk. The Services (including the\n    Site and the Content) are provided on an as is and as available basis, without warranties of any kind, either\n    express or implied, including, without limitation, implied warranties of merchantability, fitness for a particular\n    purpose or non-infringement. You acknowledge that Kukai Wallet has no control over, and no duty to take any action\n    regarding: which users gain access to or use the Services; what effects the Content may have on you; how you may\n    interpret or use the Content; or what actions you may take as a result of having been exposed to the Content. You\n    release Kukai Wallet from any and all liability for you having acquired or not acquired Content through the\n    Services. Kukai Wallet makes no representations concerning any Content contained in or accessed through the\n    Services, and Kukai Wallet will not be responsible or liable for the accuracy, copyright compliance, legality or\n    decency of material contained in or accessed through the Services.</p>\n\n  <p>We do not represent or warrant that access to the Services will be continuous, uninterrupted, timely or secure. You\n    acknowledge and accept that the Services (a) may contain bugs, errors and defects, (b) may function improperly or be\n    subject to periods of downtime and unavailability, (c) may result in total or partial loss or corruption of data and\n    (d) may be modified at any time, including through the release of subsequent versions, all with or without notice to\n    you.</p>\n\n  <p>You acknowledge that Kukai Wallet is not responsible for transferring, safeguarding, or maintaining your private\n    keys or any digital currency associated therewith. If you lose, mishandle or have stolen associated digital currency\n    private keys, you acknowledge that you may not be able to recover associated digital currency, and that Kukai Wallet\n    is not responsible for such loss. You acknowledge that Kukai Wallet is not responsible for any loss, damage or\n    liability arising from your failure to comply with the terms hereunder.</p>\n\n  <H5>5.2 Sophistication and Risk of Cryptographic Systems</H5>\n  <p>By utilizing the Services or interacting with the Content or platform in any way, you represent that you understand\n    the inherent risks associated with cryptographic systems; and warrant that you have an understanding of the usage\n    and intricacies of the native cryptographic token Tezos (xtz), smart contract based tokens, and blockchain-based\n    software systems.</p>\n\n  <H5>5.3 Risk of Regulatory Actions in One or More Jurisdictions</H5>\n  <p>Kukai Wallet and any supported cryptographic token and blockchain could be impacted by one or more regulatory\n    inquiries or regulatory action, which could impede or limit the ability of Kukai Wallet to continue to develop, or\n    which could impede or limit your ability to access or use the Services or the underlying blockchain network.</p>\n\n  <H5>5.4 Risk of Weaknesses or Exploits in the Field of Cryptography</H5>\n  <p>You acknowledge and understand that Cryptography is a progressing field. Advances in code cracking or technical\n    advances such as the development of quantum computers may present risks to cryptocurrencies and Services of Content,\n    which could result in the theft or loss of your cryptographic tokens or property. To the extent possible, Kukai\n    Wallet intends to update the protocol underlying Services to account for any advances in cryptography and to\n    incorporate additional security measures, but does not guarantee or otherwise represent full security of the system.\n    By using the Services or accessing Content, you acknowledge these inherent risks.</p>\n\n  <H5>5.5 Volatility of Cryptocurrencies</H5>\n  <p>You understand that Tezos and other blockchain technologies and associated cryptographic tokens are highly volatile\n    due to many factors including but not limited to adoption, speculation, technology and security risks. You also\n    acknowledge that the cost of transacting on such technologies is variable and may increase at any time causing\n    impact to any activities taking place on the blockchain network. You acknowledge these risks and agree that Kukai\n    Wallet cannot be held liable for such fluctuations or increased costs.</p>\n\n  <H5>5.6 Application Security</H5>\n  <p>You further acknowledge that blockchain applications are code subject to flaws and acknowledge that you are solely\n    responsible for evaluating any code provided by the Services or Content and the trustworthiness of any third-party\n    websites, products, smart-contracts, or Content you access or use through the Services. You further expressly\n    acknowledge and represent that blockchain applications can be written maliciously or negligently, that Kukai Wallet\n    cannot be held liable for your interaction with such applications and that such applications may cause the loss of\n    property or even identity. This warning and others later provided by Kukai Wallet in no way evidence or represent an\n    on-going duty to alert you to all of the potential risks of utilizing the Services or Content. The code to Kukai\n    Wallet can be found at: https://github.com/kukai-wallet/kukai.</p>\n\n  <H4>6. Indemnity</H4>\n  <p>You agree to release and to indemnify, defend and hold harmless Kukai Wallet and its principles, subsidiaries,\n    affiliates and agencies, as well as the officers, directors, employees, shareholders and representatives of any of\n    the foregoing entities, from and against any and all losses, liabilities, expenses, damages, costs (including\n    attorneys fees and court costs) claims or actions of any kind whatsoever arising or resulting from your use of the\n    Services, your violation of these Terms, and any of your acts or omissions that implicate publicity rights,\n    defamation or invasion of privacy, and privacy laws. Kukai Wallet reserves the right, at its own expense, to assume\n    exclusive defense and control of any matter otherwise subject to indemnification by you and, in such case, you agree\n    to cooperate with Kukai Wallet in the defense of such matter.</p>\n\n  <H4>7. Limitation on Liability</H4>\n  <p>YOU ACKNOWLEDGE AND AGREE THAT YOU ASSUME FULL RESPONSIBILITY FOR YOUR USE OF THE SITE AND THE SERVICES. YOU\n    ACKNOWLEDGE AND AGREE THAT ANY INFORMATION YOU SEND OR RECEIVE DURING YOUR USE OF THE SITE AND THE SERVICES MAY NOT\n    BE SECURE AND MAY BE INTERCEPTED OR LATER ACQUIRED BY UNAUTHORIZED PARTIES. YOU ACKNOWLEDGE AND AGREE THAT YOUR USE\n    OF THE SITE AND THE SERVICES IS AT YOUR OWN RISK. RECOGNIZING SUCH, YOU UNDERSTAND AND AGREE THAT, TO THE FULLEST\n    EXTENT PERMITTED BY APPLICABLE LAW, NEITHER KUKAI WALLET NOR ITS SUPPLIERS OR LICENSORS WILL BE LIABLE TO YOU FOR\n    ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, PUNITIVE, EXEMPLARY OR OTHER DAMAGES OF ANY KIND,\n    INCLUDING WITHOUT LIMITATION DAMAGES FOR LOSS OF PROFITS, GOODWILL, USE, DATA OR OTHER TANGIBLE OR INTANGIBLE LOSSES\n    OR ANY OTHER DAMAGES BASED ON CONTRACT, TORT, STRICT LIABILITY OR ANY OTHER THEORY (EVEN IF KUKAI WALLET HAD BEEN\n    ADVISED OF THE POSSIBILITY OF SUCH DAMAGES), RESULTING FROM THE SITE OR SERVICES; THE USE OR THE INABILITY TO USE\n    THE SITE OR THE SERVICES; UNAUTHORIZED ACCESS TO OR ALTERATION OF YOUR TRANSMISSIONS OR DATA; STATEMENTS OR CONDUCT\n    OF ANY THIRD PARTY ON THE SITE OR THE SERVICES; ANY ACTIONS WE TAKE OR FAIL TO TAKE AS A RESULT OF COMMUNICATIONS\n    YOU SEND TO US; HUMAN ERRORS; TECHNICAL MALFUNCTIONS; FAILURES, INCLUDING PUBLIC UTILITY OR TELEPHONE OUTAGES;\n    OMISSIONS, INTERRUPTIONS, LATENCY, DELETIONS OR DEFECTS OF ANY DEVICE OR NETWORK, PROVIDERS, OR SOFTWARE (INCLUDING,\n    BUT NOT LIMITED TO, THOSE THAT DO NOT PERMIT PARTICIPATION IN THE SERVICES); ANY INJURY OR DAMAGE TO COMPUTER\n    EQUIPMENT; INABILITY TO FULLY ACCESS THE SITE OR THE SERVICES OR ANY OTHER WEBSITE; THEFT, TAMPERING, DESTRUCTION,\n    OR UNAUTHORIZED ACCESS TO, IMAGES OR OTHER CONTENT OF ANY KIND; DATA THAT IS PROCESSED LATE OR INCORRECTLY OR IS\n    INCOMPLETE OR LOST; TYPOGRAPHICAL, PRINTING OR OTHER ERRORS, OR ANY COMBINATION THEREOF; OR ANY OTHER MATTER\n    RELATING TO THE SITE OR ANY OTHER ASPECT OF THE SERVICES.</p>\n\n  <p>SOME JURISDICTIONS DO NOT ALLOW THE EXCLUSION OF CERTAIN WARRANTIES OR THE LIMITATION OR EXCLUSION OF LIABILITY FOR\n    INCIDENTAL OR CONSEQUENTIAL DAMAGES. ACCORDINGLY, SOME OF THE ABOVE LIMITATIONS MAY NOT APPLY TO YOU.</p>\n\n  <H4>8. Intellectual Property</H4>\n  <H5>8.1 Our Proprietary Rights</H5>\n  <p>All title, ownership and intellectual property rights in and to the Services are owned by Kukai Wallet or its\n    licensors. You acknowledge and agree that the Services contains proprietary and confidential information that is\n    protected by applicable intellectual property and other laws. Except as expressly authorized by Kukai Wallet, you\n    agree not to copy, modify, rent, lease, loan, sell, distribute, perform, display or create derivative works based on\n    the Site, or the Services, in whole or in part.</p>\n\n  <H5>8.2 Limited License</H5>\n  <p>We grant you limited, non-exclusive, revocable permission to make use of the Site, and the Services (collectively\n    referred to as, Access). This Access shall remain in effect until and unless terminated by you or us. You promise\n    and agree that you will not redistribute or transfer the Services.</p>\n\n  <p>The Kukai Wallet software application, including without limitation the Site, and the Services, are not sold or\n    transferred to you, and Kukai Wallet and its licensors retain ownership of all copies of the software applications\n    even after installation on your personal computers, mobile handsets, tablets, wearable devices, speakers and/or\n    other devices (Devices).</p>\n\n  <p>All Kukai Wallet trademarks, service marks, trade names, logos, domain names, and any other features of the Kukai\n    Wallet brand (Kukai Wallet Brand Features) are the sole property of Kukai Wallet or its licensors. The Terms do\n    not grant you any rights to use any Kukai Wallet Brand Features whether for commercial or non-commercial use.</p>\n\n  <p>You agree to abide by our user guidelines and not to use the Services or any part thereof in any manner not\n    expressly permitted by the Terms. Except for the rights expressly granted to you in the Terms, Kukai Wallet grants\n    no right, title, or interest to you in the Site or the Services.</p>\n\n  <p>Third party software (for example, open source software libraries) included in the Services are made available to\n    you under the relevant third party software librarys license terms.</p>\n\n  <p>Notwithstanding anything herein to the contrary, nothing in the Terms entitles you to copy, modify, fork, merge,\n    combine with another program or create a derivative work of the Services, including without limitation the Site.</p>\n\n  <H4>9. Links</H4>\n  <p>The Services provide, or third parties may provide, links to other World Wide Web or accessible sites, applications\n    or resources. Because Kukai Wallet has no control over such sites, applications and resources, you acknowledge and\n    agree that Kukai Wallet is not responsible for the availability of such external sites, applications or resources,\n    and does not endorse and is not responsible or liable for any content, advertising, products or other materials on\n    or available from such sites or resources. You further acknowledge and agree that Kukai Wallet shall not be\n    responsible or liable, directly or indirectly, for any damage or loss caused or alleged to be caused by or in\n    connection with use of or reliance on any such content, goods or services available on or through any such site or\n    resource.</p>\n\n  <H4>10. Termination and Suspension</H4>\n  <p>Kukai Wallet may terminate or suspend all or part of the Services and your Kukai Wallet access immediately, without\n    prior notice or liability, if you breach any of the terms or conditions of the Terms. Upon termination of your\n    access, your right to use the Services will immediately cease.</p>\n\n  <p>The following provisions of the Terms survive any termination of these Terms: INDEMNITY; WARRANTY DISCLAIMERS;\n    LIMITATION ON LIABILITY; OUR PROPRIETARY RIGHTS; LINKS; TERMINATION; NO THIRD PARTY BENEFICIARIES; BINDING\n    ARBITRATION AND CLASS ACTION WAIVER; GENERAL INFORMATION.</p>\n\n  <H4>11. No Third Party Beneficiaries</H4>\n  <p>You agree that, except as otherwise expressly provided in these Terms, there shall be no third party beneficiaries\n    to the Terms.</p>\n\n  <H4>12. Notice and Procedure For Making Claims of Copyright Infringement</H4>\n  <p>If you believe that your copyright or the copyright of a person on whose behalf you are authorized to act has been\n    infringed, please provide Kukai Wallets Copyright Agent a written Notice containing the following information:</p>\n\n  <p>- an electronic or physical signature of the person authorized to act on behalf of the owner of the copyright or\n    other intellectual property interest;\n    <BR>- a description of the copyrighted work or other intellectual property that you claim has been infringed;\n    <BR>- a description of where the material that you claim is infringing is located on the Services;\n    your address, telephone number, and email address;\n    <BR>- a statement by you that you have a good faith belief that the disputed use is not authorized by the copyright\n    owner, its agent, or the law;\n    <BR>- a statement by you, made under penalty of perjury, that the above information in your Notice is accurate and\n    that you are the copyright or intellectual property owner or authorized to act on the copyright or intellectual\n    property owners behalf.</p>\n\n  <p>Kukai Wallets Copyright Agent can be reached at:</p>\n\n  <p>Email: legal@kukai.app</p>\n\n  <H4>13. Binding Arbitration and Class Action Waiver</H4>\n\n  <p>PLEASE READ THIS SECTION CAREFULLY  IT MAY SIGNIFICANTLY AFFECT YOUR LEGAL RIGHTS, INCLUDING YOUR RIGHT TO FILE A\n    LAWSUIT IN COURT</p>\n\n  <H5>13.1 Initial Dispute Resolution</H5>\n\n  <p>The parties shall use their best efforts to engage directly to settle any dispute, claim, question, or disagreement\n    and engage in good faith negotiations which shall be a condition to either party initiating a lawsuit or\n    arbitration.</p>\n\n  <H5>13.2 Binding Arbitration</H5>\n\n  <p>If the parties do not reach an agreed upon solution within a period of 30 days from the time informal dispute\n    resolution under the Initial Dispute Resolution provision begins, then either party may initiate arbitration as the\n    sole means to resolve all claims, subject to the terms set forth below. Specifically, all claims arising out of or\n    relating to these Terms (including their formation, performance and breach), the parties relationship with each\n    other and/or your use of the Services shall be finally settled by binding arbitration administered by the American\n    Arbitration Association in accordance with the provisions of its Commercial Arbitration Rules and the supplementary\n    procedures for consumer related disputes of the American Arbitration Association (the AAA), excluding any rules or\n    procedures governing or permitting class actions.</p>\n\n  <p>The arbitrator, and not any federal, state or local court or agency, shall have exclusive authority to resolve all\n    disputes arising out of or relating to the interpretation, applicability, enforceability or formation of these\n    Terms, including, but not limited to any claim that all or any part of these Terms are void or voidable, or whether\n    a claim is subject to arbitration. The arbitrator shall be empowered to grant whatever relief would be available in\n    a court under law or in equity. The arbitrators award shall be written, and binding on the parties and may be\n    entered as a judgment in any court of competent jurisdiction.</p>\n\n  <p>The parties understand that, absent this mandatory provision, they would have the right to sue in court and have a\n    jury trial. They further understand that, in some instances, the costs of arbitration could exceed the costs of\n    litigation and the right to discovery may be more limited in arbitration than in court.</p>\n\n  <H5>13.3 Location</H5>\n\n  <p>Binding arbitration shall take place in Louisiana. You agree to submit to the personal jurisdiction of any federal\n    or state court in Orleans Parish, Louisiana, in order to compel arbitration, to stay proceedings pending\n    arbitration, or to confirm, modify, vacate or enter judgment on the award entered by the arbitrator.</p>\n\n  <H5>13.4 Class Action Waiver</H5>\n\n  <p>The parties further agree that any arbitration shall be conducted in their individual capacities only and not as a\n    class action or other representative action, and the parties expressly waive their right to file a class action or\n    seek relief on a class basis. YOU AND KUKAI WALLET AGREE THAT EACH MAY BRING CLAIMS AGAINST THE OTHER ONLY IN YOUR\n    OR ITS INDIVIDUAL CAPACITY, AND NOT AS A PLAINTIFF OR CLASS MEMBER IN ANY PURPORTED CLASS OR REPRESENTATIVE\n    PROCEEDING. If any court or arbitrator determines that the class action waiver set forth in this paragraph is void\n    or unenforceable for any reason or that an arbitration can proceed on a class basis, then the arbitration provision\n    set forth above shall be deemed null and void in its entirety and the parties shall be deemed to have not agreed to\n    arbitrate disputes.</p>\n\n  <H5>13.5 Exception - Litigation of Intellectual Property and Small Claims Court Claims</H5>\n\n  <p>Notwithstanding the parties decision to resolve all disputes through arbitration, either party may bring an action\n    in state or federal court to protect its intellectual property rights (intellectual property rights means patents,\n    copyrights, moral rights, trademarks, and trade secrets, but not privacy or publicity rights). Either party may also\n    seek relief in a small claims court for disputes or claims within the scope of that courts jurisdiction.</p>\n\n  <H5>13.6 Choice of Law</H5>\n\n  <p>The Terms and the relationship between you and Kukai Wallet shall be governed by the laws of the State of Louisiana\n    without regard to conflict of law provisions.</p>\n\n  <H4>14. GENERAL INFORMATION</H4>\n\n  <H5>14.1 Entire Agreement</H5>\n\n  <p>These Terms (and any additional terms, rules and conditions of participation that Kukai Wallet may post on the\n    Services) constitute the entire agreement between you and Kukai Wallet with respect to the Services and supersedes\n    any prior agreements, oral or written, between you and Kukai Wallet. In the event of a conflict between these Terms\n    and the additional terms, rules and conditions of participation, the latter will prevail over the Terms to the\n    extent of the conflict.</p>\n\n  <H5>14.2 Waiver and Severability of Terms</H5>\n\n  <p>The failure of Kukai Wallet to exercise or enforce any right or provision of the Terms shall not constitute a\n    waiver of such right or provision. If any provision of the Terms is found by an arbitrator or court of competent\n    jurisdiction to be invalid, the parties nevertheless agree that the arbitrator or court should endeavor to give\n    effect to the parties intentions as reflected in the provision, and the other provisions of the Terms remain in\n    full force and effect.</p>\n\n  <H5>14.3 Statute of Limitations</H5>\n\n  <p>You agree that regardless of any statute or law to the contrary, any claim or cause of action arising out of or\n    related to the use of the Services or the Terms must be filed within one (1) year after such claim or cause of\n    action arose or be forever barred.</p>\n\n  <H5>14.4 Section Titles</H5>\n\n  <p>The section titles in the Terms are for convenience only and have no legal or contractual effect.</p>\n\n  <H5>14.5 Communications</H5>\n\n  <p>Users with questions, complaints or claims with respect to the Services may contact us using the relevant contact\n    information set forth above or email us at: contact@kukai.app</p>\n</div>","import { Injectable } from '@angular/core';\nimport { KeyPair } from '../../interfaces';\nimport { WalletService } from '../wallet/wallet.service';\nimport { CONSTANTS } from '../../../environments/environment';\nimport { Parser } from '@taquito/michel-codec';\nimport { valueEncoder } from '@taquito/local-forging/dist/lib/michelson/codec';\nimport { OperationService } from '../operation/operation.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class EmbeddedAuthService {\n  constructor(private walletService: WalletService, private operationService: OperationService) {}\n  async authenticate(authReq: any, origin: string, keyPair: KeyPair = null): Promise<{ message: string; signature: string }> {\n    if (!origin) {\n      throw new Error('NO_DOMAIN_FOUND');\n    } else if ((!this.walletService?.wallet || !this.walletService.isEmbeddedTorusWallet()) && !keyPair) {\n      throw new Error('NO_WALLET_FOUND');\n    }\n    if (!keyPair) {\n      keyPair = await this.walletService.getKeys('', this.walletService.wallet.implicitAccounts[0].pkh).catch((e) => {\n        throw new Error('NO_KEYS_FOUND');\n      });\n    }\n    const authMessage: string = this.createAuthMessage(authReq?.id, authReq?.nonce, origin, keyPair.pk, keyPair.pkh);\n    const signature = this.signMessage(authMessage, keyPair.sk);\n    return { message: authMessage, signature };\n  }\n  async signExprSilent(hexExpr: string): Promise<string> {\n    const keyPair = await this.walletService.getKeys('', this.walletService.wallet.implicitAccounts[0].pkh).catch((e) => {\n      throw new Error('NO_KEYS_FOUND');\n    });\n    const signature: string = this.operationService.sign(hexExpr, keyPair.sk).edsig;\n    return signature;\n  }\n  private createAuthMessage(requestId: string = '', nonce: string = '', domain: string, publicKey: string, address: string): string {\n    if (typeof requestId !== 'string') {\n      throw new Error('INVALID_REQUEST_ID');\n    } else if (typeof nonce !== 'string') {\n      throw new Error('INVALID_NONCE');\n    }\n    const authPayload: any = {\n      requestId,\n      purpose: 'authentication',\n      currentTime: Math.floor(Date.now() / 1000).toString(), // UNIX timestamp\n      nonce,\n      network: this._network(),\n      publicKey,\n      address,\n      domain\n    };\n    if (!requestId) {\n      delete authPayload.requestId;\n    }\n    if (!nonce) {\n      delete authPayload.nonce;\n    }\n    return `Tezos Signed Message: ${JSON.stringify(authPayload)}`;\n  }\n  _network(): string {\n    return CONSTANTS.NETWORK;\n  }\n  private signMessage(message: string, sk: string): string {\n    const parser = new Parser();\n    const expr = parser.parseMichelineExpression(`\"${message.replace(/\"/g, '\\\\\"')}\"`);\n    const hexMessage = `05${valueEncoder(expr)}`;\n    const signature: string = this.operationService.sign(hexMessage, sk).edsig;\n    return signature;\n  }\n}\n","import { Account } from '../../../services/wallet/wallet';\nimport { Template } from 'kukai-embed';\nexport interface PrepareRequest {\n  account: Account;\n  tokenTransfer: string;\n  symbol: string;\n}\nexport interface TemplateRequest {\n  template: Template;\n  ops?: FullyPreparedTransaction[];\n  partialOps?: PartiallyPreparedTransaction[];\n  fee?: TemplateFee;\n}\nexport interface TemplateFee {\n  network: string;\n  storage: string;\n  total: string;\n}\n\nexport interface ConfirmSwapRequest {\n  account: Account;\n  transactions: FullyPreparedTransaction[];\n  externalReq: boolean;\n}\n\nexport enum LqdEntrypoints {\n  addLiquidity = 'addLiquidity',\n  removeLiquidity = 'removeLiquidity',\n  xtzToToken = 'xtzToToken',\n  tokenToXtz = 'tokenToXtz'\n}\n\nexport interface ConfirmRequest {\n  account: Account;\n  tokenTransfer: string;\n  transactions: FullyPreparedTransaction[];\n  externalReq: boolean;\n}\nexport interface PartiallyPreparedTransaction {\n  kind: 'transaction';\n  amount: string;\n  destination: string;\n  parameters?: any;\n  meta?: {\n    alias: string;\n    verifier: string;\n    twitterId?: string;\n  };\n  gasRecommendation?: string;\n  storageRecommendation?: string;\n}\nexport interface FullyPreparedTransaction extends PartiallyPreparedTransaction {\n  fee: string;\n  gasLimit: string;\n  storageLimit: string;\n}\n","<div *ngIf=\"isOpen\" class=\"flex-column kukai-modal\">\n  <div class=\"flex-row content\">\n    <div class=\"flex-column liquidity-baking\">\n      <div class=\"flex-row main-container\">\n        <div class=\"flex-column right\" [class.expanded]=\"advancedForm\" [class.loaded]=\"chartInit\" [class.expanded-00]=\"moreInfo && mode === Mode.swap\" [class.expanded-01]=\"advancedForm && mode === Mode.swap\" [class.expanded-10]=\"moreInfo && advancedForm && mode === Mode.swap\" [class.expanded-11]=\"mode === Mode.liquidity && entrypoint === LqdEntrypoints.addLiquidity\" [class.expanded-100]=\"moreInfo && mode === Mode.liquidity && entrypoint === LqdEntrypoints.addLiquidity\" [class.expanded-101]=\"advancedForm && mode === Mode.liquidity && entrypoint === LqdEntrypoints.addLiquidity\" [class.expanded-110]=\"moreInfo && advancedForm && mode === Mode.liquidity && entrypoint === LqdEntrypoints.addLiquidity\" [class.expanded-111]=\"mode === Mode.liquidity && entrypoint === LqdEntrypoints.removeLiquidity\" [class.expanded-1000]=\"moreInfo && mode === Mode.liquidity && entrypoint === LqdEntrypoints.removeLiquidity\" [class.expanded-1001]=\"advancedForm && mode === Mode.liquidity && entrypoint === LqdEntrypoints.removeLiquidity\" [class.expanded-1010]=\"moreInfo && advancedForm && mode === Mode.liquidity && entrypoint === LqdEntrypoints.removeLiquidity\">\n          <app-ui-chart #leftChart class=\"popout\" [design]=\"'default'\" [type]=\"'line'\" [units]=\"units\" [datas]=\"chartDatas\"\n            [attributes]=\"attributes\" (drawn)=\"chartInit = true;\"></app-ui-chart>\n            <div class=\"filler\" [style.display]=\"chartInit ? '' : 'none'\"></div>\n        </div>\n        <div class=\"flex-column left\" [class.expanded]=\"advancedForm\">\n          <div class=\"flex-column top\">\n            <div class=\"flex-row container-toggle\">\n              <button [class.active]=\"mode === Mode.swap\" (click)=\"toggleMode(Mode.swap)\">SWAP</button>\n              <button [class.active]=\"mode === Mode.liquidity\" (click)=\"toggleMode(Mode.liquidity)\">LIQUIDITY</button>\n            </div>\n            <div class=\"flex-row button close\" (click)=\"close()\"><img class=\"x\"\n                src=\"../../../../../assets/img/close-btn-x.png\" />\n            </div>\n          </div>\n          <app-ui-chart #miniChart class=\"popout-mini\" [design]=\"'mini'\" [type]=\"'line'\" [units]=\"units\"\n            [data]=\"chartData\" [datas]=\"chartDatas\" [attributes]=\"attributes\">\n          </app-ui-chart>\n          <ng-container *ngIf=\"mode === Mode.liquidity\">\n            <form autocomplete=\"off\">\n              <div class=\"flex-column container-toggle-secondary\">\n                <div class=\"flex-row buttons\">\n                  <button [class.active]=\"entrypoint === LqdEntrypoints.addLiquidity\" (click)=\"toggleDirection(0)\">\n                    ADD\n                  </button>\n                  <button [class.active]=\"entrypoint === LqdEntrypoints.removeLiquidity\" (click)=\"toggleDirection(1)\">\n                    REMOVE\n                  </button>\n                </div>\n              </div>\n              <div class=\"flex-column container-inputs\" [class.liquidity]=\"entrypoint === LqdEntrypoints.addLiquidity\">\n                <div class=\"flex-column currency\">\n                  <div class=\"flex-row inputs\">\n                    <div class=\"flex-row right\">\n                      <input type=\"text\" inputmode=\"decimal\" [value]=\"qtyRaw\" [placeholder]=\"'0'\" value=\"\"\n                        (paste)=\"sanitizeNumberInput($event, qty.decimalPlaces, 'qtyRaw')\"\n                        (input)=\"sanitizeNumberInput($event, qty.decimalPlaces, 'qtyRaw')\" />\n                    </div>\n                    <div class=\"flex-row left\">\n                      <span class=\"symbol\">{{ entrypoint === LqdEntrypoints.addLiquidity ? 'XTZ' : 'SIRS' }}</span>\n                      <img\n                        [src]=\"entrypoint === LqdEntrypoints.addLiquidity ? 'assets/img/tezos-xtz-logo.svg' : 'assets/img/tokens/sirius.png'\" />\n                    </div>\n                  </div>\n                  <div class=\"tag\">{{ entrypoint === LqdEntrypoints.addLiquidity ? 'Add' : 'Remove' }}</div>\n                  <span *ngIf=\"entrypoint === LqdEntrypoints.removeLiquidity\" class=\"hint\" (click)=\"updateMaxAmount('qtyRaw')\">Balance: <span class=\"max\">{{lqdBalance}}</span></span>\n                  <span *ngIf=\"entrypoint === LqdEntrypoints.addLiquidity\" class=\"hint\">Balance: {{xtzBalance}}</span>\n                </div>\n                <div *ngIf=\"entrypoint === LqdEntrypoints.addLiquidity\" class=\"seperator files add\">\n                  <span class=\"img-wrap\"><img\n                      [src]=\"semaphore ? 'assets/img/feeLoader.gif' : 'assets/img/lb-plus.svg'\" /></span>\n                </div>\n                <div *ngIf=\"entrypoint === LqdEntrypoints.addLiquidity\" class=\"flex-column currency\">\n                  <div class=\"flex-row inputs\">\n                    <div class=\"flex-row right\">\n                      <input type=\"text\" inputmode=\"decimal\" [value]=\"qtyRawOut\" placeholder=\"0\" [value]=\"qtyRawOut\"\n                        (input)=\"sanitizeNumberInput($event, 8, 'qtyRawOut')\"\n                        (paste)=\"sanitizeNumberInput($event, 8, 'qtyRawOut')\" />\n                    </div>\n                    <div class=\"flex-row left\">\n                      <span class=\"symbol\">{{ 'tzBTC' }}</span>\n                      <img [src]=\"'assets/img/tokens/tzbtc.png'\" />\n                    </div>\n                  </div>\n                  <div class=\"tag\">Add</div>\n                  <span class=\"hint\" (click)=\"updateMaxAmount('qtyRawOut')\">Balance: <span class=\"max\">{{ tzBTCBalance\n                      }}</span></span>\n                </div>\n              </div>\n            </form>\n          </ng-container>\n          <ng-container *ngIf=\"mode === Mode.swap\">\n            <form autocomplete=\"off\">\n              <div class=\"flex-column container-inputs\">\n                <div class=\"flex-column currency\">\n                  <div class=\"flex-row inputs\">\n                    <div class=\"flex-row right\">\n                      <input type=\"text\" inputmode=\"decimal\" [value]=\"qtyRaw\" [placeholder]=\"'0'\" value=\"\"\n                        (paste)=\"sanitizeNumberInput($event, qty.decimalPlaces, 'qtyRaw')\"\n                        (input)=\"sanitizeNumberInput($event, qty.decimalPlaces, 'qtyRaw')\" />\n                    </div>\n                    <div class=\"flex-row left\">\n                      <span class=\"symbol\">{{ entrypoint === LqdEntrypoints.xtzToToken ? 'XTZ' : 'tzBTC' }}</span>\n                      <img\n                        [src]=\"entrypoint === LqdEntrypoints.xtzToToken ? 'assets/img/tezos-xtz-logo.svg' : 'assets/img/tokens/tzbtc.png'\" />\n                    </div>\n                  </div>\n                  <div class=\"tag\">From</div>\n                  <span *ngIf=\"entrypoint === LqdEntrypoints.xtzToToken\" class=\"hint\">Balance: {{ xtzBalance}}</span>\n                  <span *ngIf=\"entrypoint === LqdEntrypoints.tokenToXtz\" class=\"hint\" (click)=\"updateMaxAmount('qtyRaw')\">Balance: <span class=\"max\">{{tzBTCBalance}}</span></span>\n                </div>\n                <div class=\"seperator files add\" (click)=\"toggleDirection()\">\n                  <span class=\"img-wrap\"><img\n                      [src]=\"simSemaphore ? 'assets/img/feeLoader.gif' : 'assets/img/swap.svg'\" /></span>\n                </div>\n                <div class=\"flex-column currency\">\n                  <div class=\"flex-row inputs\">\n                    <div class=\"flex-row right\">\n                      <input type=\"text\" inputmode=\"decimal\" [value]=\"qtyRawOut\" [placeholder]=\"'0'\"\n                        (paste)=\"sanitizeNumberInput($event, qtyOut.decimalPlaces, 'qtyRawOut')\"\n                        (input)=\"sanitizeNumberInput($event, qtyOut.decimalPlaces, 'qtyRawOut')\" />\n                    </div>\n                    <div class=\"flex-row left\">\n                      <span class=\"symbol\">{{ entrypoint === LqdEntrypoints.xtzToToken ? 'tzBTC' : 'XTZ' }}</span>\n                      <img\n                        [src]=\"entrypoint === LqdEntrypoints.xtzToToken ? 'assets/img/tokens/tzbtc.png' : 'assets/img/tezos-xtz-logo.svg'\" />\n                    </div>\n                  </div>\n                  <div class=\"tag\">Expected</div>\n                      <span *ngIf=\"entrypoint === LqdEntrypoints.tokenToXtz\" class=\"hint\">Balance: {{ xtzBalance }}</span>\n                      <span *ngIf=\"entrypoint === LqdEntrypoints.xtzToToken\" class=\"hint\">Balance: {{ tzBTCBalance }}</span>\n                </div>\n              </div>\n            </form>\n          </ng-container>\n          <div *ngIf=\"expectedRate\" class=\"flex-row item expected-rate\">\n            <span class=\"flex-row key\">Exchange Rate:</span>\n            <span class=\"value\">{{ expectedRate }}</span>\n          </div>\n          <div class=\"flex-column more-info-toggle\" [class.expanded]=\"moreInfo\">\n            <div class=\"flex-row item\" (click)=\"moreInfo = !moreInfo\">\n              <span class=\"value\">{{ 'View Details' }} <span *ngIf=\"impactDouble >= 0.04\" class=\"price-impact\">Price\n                  Impact {{ impactDouble | percent:'1.2-2' }}</span></span>\n              <div class=\"flex-row\"><img src=\"assets/img/chevron-down.svg\"></div>\n            </div>\n          </div>\n          <div *ngIf=\"moreInfo\" class=\"more-info-body\"\n            [class.expanded]=\"moreInfo\">\n            <div class=\"flex-row item\">\n              <span class=\"flex-row key\">Price Impact:&nbsp;<img src=\"assets/img/information-circle-outline.svg\"\n                  class=\"info-button\" />\n                <div class=\"body\">\n                  The impact your transaction is expected to make on the exchange rate. The size of your swap relative to the size of the pool determines the impact. Note: This impact is what you are accepting in addition to the slippage.\n                </div>\n              </span>\n              <span class=\"value\" [class.warning]=\"impactDouble > 0.04\">{{impactDouble > 0.005 ? (impactDouble | percent:'1.2-2') : \"<0.5%\"}}</span>\n            </div>\n            <div *ngIf=\"(LqdEntrypoints.xtzToToken === entrypoint)\" class=\"flex-row item\">\n              <span class=\"flex-row key\">Minimum Received:&nbsp;<img src=\"assets/img/information-circle-outline.svg\"\n                  class=\"info-button\" />\n                <div class=\"body\">\n                  The minimum amount you are guaranteed to receive. If the exchange rate changes unfavorably such that you can no longer receive at least this amount, then your transaction will not be completed.\n                </div>\n              </span>\n              <span class=\"value\">{{(minimumToken?.internalNormalised | number:'1.2-8') || 0}} tzBTC</span>\n            </div>\n            <div *ngIf=\"(LqdEntrypoints.tokenToXtz === entrypoint)\" class=\"flex-row item\">\n              <span class=\"flex-row key\">Minimum Received:&nbsp;<img src=\"assets/img/information-circle-outline.svg\"\n                  class=\"info-button\" />\n                <div class=\"body\">\n                  The minimum amount you are guaranteed to receive. If the exchange rate changes unfavorably such that you can no longer receive at least this amount, then your transaction will not be completed.\n                </div>\n              </span>\n              <span class=\"value\">{{(minimumXtz?.internalNormalised | number:'1.6-6') || 0}} XTZ</span>\n            </div>\n            <div\n              *ngIf=\"(LqdEntrypoints.removeLiquidity === entrypoint)\"\n              class=\"item\">\n              <span class=\"flex-row key\">Minimum Received:&nbsp;<img src=\"assets/img/information-circle-outline.svg\"\n                  class=\"info-button\" />\n                <div class=\"body\">\n                  The minimum amount you are guaranteed to receive. If the exchange rate changes unfavorably such that you can no longer receive at least this amount, then your transaction will not be completed.\n                </div>\n              </span><br />\n              <span class=\"value\">{{(minimumXtz?.internalNormalised | number:'1.6-6') || 0}} XTZ + {{\n                (minimumToken?.internalNormalised | number:'1.2-8') || 0}} tzBTC</span>\n            </div>\n            <div *ngIf=\"(LqdEntrypoints.addLiquidity === entrypoint)\" class=\"flex-row item\">\n              <span class=\"flex-row key\">Minimum Received:&nbsp;<img src=\"assets/img/information-circle-outline.svg\"\n                  class=\"info-button\" />\n                <div class=\"body\">\n                  The minimum amount you are guaranteed to receive. If the exchange rate changes unfavorably such that you can no longer receive at least this amount, then your transaction will not be completed.\n                </div>\n              </span>\n              <span class=\"value\">{{(minimumLqd?.internalNormalised | number:'1.0-0') || 0}} SIRS</span>\n            </div>\n            <div class=\"flex-column slippage\">\n              <span class=\"flex-row label\">Slippage&nbsp;<img src=\"assets/img/information-circle-outline.svg\"\n                  class=\"info-button\" />\n                <div class=\"body\">\n                  Your transaction will not complete if the exchange rate changes unfavorably by more than this slippage percentage. The slippage does not include the Price Impact, when swapping you are accepting both the Price Impact % and the Slippage %.\n                </div>\n              </span>\n              <div class=\"flex-row inputs\">\n                <button [class.active]=\"slippage === 0.005\" (click)=\"slippage = 0.005; update()\">\n                  0.5%\n                </button>\n                <button [class.active]=\"slippage === 0.01\" (click)=\"slippage = 0.01; update()\">\n                  1%\n                </button>\n                <button [class.active]=\"slippage === 0.03\" (click)=\"slippage = 0.03; update()\">\n                  3%\n                </button>\n                <form autocomplete=\"off\">\n                  <input inputmode=\"decimal\" [class.active]=\"slippage !== 0.03 && slippage !== 0.01 && slippage !== 0.005\"\n                    (input)=\"customSlippage($event)\" (focus)=\"customSlippageFocus($event)\" (blur)=\"customSlippageBlur($event)\"\n                    [placeholder]=\"slippage * 100\" value=\"\" />\n                  <span class=\"placeholder-secondary\">%</span>\n                </form>\n              </div>\n            </div>\n          </div>\n          <div class=\"flex-column more-info-toggle\" [class.expanded]=\"advancedForm\">\n            <div class=\"flex-row item\" (click)=\"advancedForm = !advancedForm\">\n              <span class=\"value\">{{ 'Advanced' }}</span>\n              <div class=\"flex-row\"><img src=\"assets/img/chevron-down.svg\"></div>\n            </div>\n          </div>\n          <form *ngIf=\"advancedForm\" autocomplete=\"off\" class=\"more-info-body\" [class.expanded]=\"advancedForm\">\n            <div class=\"flex-row\">\n              <div class=\"flex-column entity\">\n                <label class=\"label\">Gas limit</label>\n                <input inputmode=\"decimal\" type=\"text\" class=\"text\" (input)=\"sanitizeNumberInput($event, 0, 'customGasLimit')\"\n                  (paste)=\"sanitizeNumberInput($event, 0, 'customGasLimit')\"\n                  placeholder={{this.defaultTransactionParams.gas.toString()}} [value]=\"customGasLimit\">\n              </div>\n              <div class=\"flex-column entity\">\n                <label class=\"label\">Fee</label>\n                <input inputmode=\"decimal\" type=\"text\" (input)=\"sanitizeNumberInput($event, 6, 'customFee')\"\n                  (paste)=\"sanitizeNumberInput($event, 6, 'customFee')\" class=\"text\"\n                  placeholder={{this.defaultTransactionParams.fee.toString()}} [value]=\"customFee\">\n              </div>\n            </div>\n            <div class=\"flex-row\">\n              <div class=\"flex-column entity\">\n                <label class=\"label\">Storage limit</label>\n                <input inputmode=\"decimal\" type=\"text\" (input)=\"sanitizeNumberInput($event, 0, 'customStorageLimit')\"\n                  (paste)=\"sanitizeNumberInput($event, 0, 'customStorageLimit')\" class=\"text\"\n                  placeholder={{this.defaultTransactionParams.storage.toString()}} [value]=\"customStorageLimit\">\n              </div>\n              <div class=\"flex-column entity\">\n                <label class=\"label\">Max Storage cost</label>\n                <input inputmode=\"decimal\" type=\"text\" class=\"text read-only\" [value]=\"burnAmount() ? burnAmount() : '0 tez'\" tabindex=-1\n                  readonly>\n              </div>\n            </div>\n          </form>\n          <div class=\"flex-column bottom\">\n            <div class=\"seperator\"></div>\n            <span class=\"form-validity error\">{{ formInvalid || latestSimError }}</span>\n            <button class=\"confirm\" [disabled]=\"formInvalid || latestSimError\" (click)=\"preview()\">Preview</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>","import { Component, ElementRef, EventEmitter, Output, ViewChild } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { FullyPreparedTransaction, PartiallyPreparedTransaction, LqdEntrypoints } from '../../misc/send/interfaces';\nimport { EstimateService } from '../../../services/estimate/estimate.service';\nimport { SubjectService } from '../../../services/subject/subject.service';\nimport { TezosDomainsService } from '../../../services/tezos-domains/tezos-domains.service';\nimport { TokenBalancesService } from '../../../services/token-balances/token-balances.service';\nimport { TokenService } from '../../../services/token/token.service';\nimport { WalletService } from '../../../services/wallet/wallet.service';\nimport { SwapLiquidityService } from '../../../services/swap-liquidity/swap-liquidity.service';\nimport { Amount } from '../../../services/swap-liquidity/classes/Amount';\nimport { ModalComponent } from '../modal.component';\nimport { OperationService } from '../../../services/operation/operation.service';\nimport { DefaultTransactionParams } from '../../../interfaces';\nimport Big from 'big.js';\nimport { Account } from '../../../services/wallet/wallet';\nimport assert from 'assert';\nimport { TranslateService } from '@ngx-translate/core';\nimport { InputValidationService } from '../../../services/input-validation/input-validation.service';\nimport { TorusService } from '../../../services/torus/torus.service';\nimport { MessageService } from '../../../services/message/message.service';\nimport { take } from 'rxjs/operators';\nimport { ChartComponent, ChartSeries } from '../../ui/chart/chart.component';\nimport { ChartData } from 'chart.js';\nimport { ChartService, ChartTitle } from '../../../services/chart/chart.service';\n\nenum Mode {\n  swap = 'swap',\n  liquidity = 'liquidity'\n}\n\nconst zeroTxParams: DefaultTransactionParams = {\n  gas: 0,\n  storage: 0,\n  fee: 0,\n  burn: 0\n};\n\n@Component({\n  selector: 'app-swap-liquidity',\n  templateUrl: './swap-liquidity.component.html',\n  styleUrls: ['../../../../scss/components/modals/modal.scss']\n})\nexport class SwapLiquidityComponent extends ModalComponent {\n  @ViewChild('leftChart') leftChart: ChartComponent;\n  @ViewChild('miniChart') miniChart: ChartComponent;\n  @Output() prepareResponse = new EventEmitter();\n  LqdEntrypoints = LqdEntrypoints;\n  Mode = Mode;\n  Object = Object;\n  mode = Mode.swap;\n  entrypoint: string = LqdEntrypoints.xtzToToken;\n  advancedForm = false;\n\n  defaultTransactionParams: DefaultTransactionParams = zeroTxParams;\n\n  readonly lqdTokenContract = 'KT1AafHA1C1vk959wvHWBispY9Y2f3fxBUUo';\n  readonly lqdContract = 'KT1TxqZ8QtKvLu3V3JH7Gx58n7Co8pgtpQU5';\n  readonly tzBTCContract = 'KT1PWx2mnDueood7fEmfbBDKx1D9BAnnXitn';\n\n  readonly costPerByte: string = this.estimateService.costPerByte;\n\n  moreInfo = false;\n\n  formInvalid = '';\n  latestSimError = '';\n\n  customFee = '';\n  customGasLimit = '';\n  customStorageLimit = '';\n\n  minimumLqd: Amount = null;\n  minimumXtz: Amount = null;\n  minimumToken: Amount = null;\n  xtzRequired: Amount = null;\n  expectedRate: string;\n  impactDouble: number;\n  qty: Amount = new Amount({\n    normalisedAmount: '',\n    decimalPlaces: 6\n  });\n  qtyRaw = '';\n  qtyOut: Amount = new Amount({\n    normalisedAmount: '',\n    decimalPlaces: 8\n  });\n  qtyRawOut = '';\n  slippage = 0.005;\n\n  xtzBalance = '0';\n  lqdBalance = '0';\n  tzBTCBalance = '0';\n\n  activeAccount = null;\n  transactions: PartiallyPreparedTransaction[] = [];\n\n  balances: any[];\n  name = 'swap-liquidity';\n\n  private subscriptions: Subscription = new Subscription();\n  simSemaphore = 0;\n\n  tooltipValue: string = '--';\n  titleColor = '#333';\n  series = 'day';\n  units = 'tzBTC';\n  attributes: any = {};\n  chartData: ChartData;\n  chartDatas: Array<ChartData> = [];\n  chartOptions = null;\n  popoutOptions: any;\n  chartInit = false;\n\n  constructor(\n    public tokenService: TokenService,\n    public walletService: WalletService,\n    private estimateService: EstimateService,\n    public tezosDomainService: TezosDomainsService,\n    public tokenBalancesService: TokenBalancesService,\n    private subjectService: SubjectService,\n    private swapLiquidityService: SwapLiquidityService,\n    private operationService: OperationService,\n    public torusService: TorusService,\n    private translate: TranslateService,\n    public tezosDomains: TezosDomainsService,\n    private inputValidationService: InputValidationService,\n    private messageService: MessageService,\n    private chartService: ChartService\n  ) {\n    super();\n    const setTokenBalances = () => {\n      this.xtzBalance = Big(this.activeAccount?.balanceXTZ ?? 0)\n        .div(10 ** 6)\n        .toString();\n      this.lqdBalance = this.balances.find((b) => b.contractAddress === this.lqdTokenContract && b.id == 0)?.balance ?? '0';\n      this.tzBTCBalance = this.balances.find((b) => b.contractAddress === this.tzBTCContract && b.id == 0)?.balance ?? '0';\n    };\n    this.subscriptions.add(\n      this.subjectService.activeAccount.subscribe((activeAccount) => {\n        if (!!activeAccount) {\n          this.activeAccount = activeAccount;\n          this.balances = this.tokenBalancesService?.balances;\n          setTokenBalances();\n        }\n      })\n    );\n    this.subscriptions.add(\n      this.subjectService.nftsUpdated.subscribe((p) => {\n        this.balances = p?.balances ?? this.tokenBalancesService?.balances;\n        setTokenBalances();\n      })\n    );\n    this.subscriptions.add(\n      this.subjectService.walletUpdated.subscribe(() => {\n        this.balances = this.tokenBalancesService?.balances;\n        setTokenBalances();\n      })\n    );\n  }\n\n  async initChartsMobile(): Promise<void> {\n    Promise.all([\n      this.chartService.fetchLBGraphData(ChartSeries.day),\n      this.chartService.fetchLBGraphData(ChartSeries.week),\n      this.chartService.fetchLBGraphData(ChartSeries.month),\n      this.chartService.fetchLBGraphData(ChartSeries.year)\n    ]).then((arr) => {\n      this.chartDatas[ChartSeries.day] = arr[0];\n      this.chartDatas[ChartSeries.week] = arr[1];\n      this.chartDatas[ChartSeries.month] = arr[2];\n      this.chartDatas[ChartSeries.year] = arr[3];\n      //prevents race cond\n      if (this.entrypoint === LqdEntrypoints.xtzToToken) {\n        this.leftChart?.toggleSet(ChartTitle.XTZtzBTC);\n        this.miniChart?.toggleSet(ChartTitle.XTZtzBTC);\n      } else if (this.entrypoint === LqdEntrypoints.tokenToXtz) {\n        this.leftChart?.toggleSet(ChartTitle.tzBTCXTZ);\n        this.miniChart?.toggleSet(ChartTitle.tzBTCXTZ);\n      } else if (this.entrypoint === LqdEntrypoints.addLiquidity || this.entrypoint === LqdEntrypoints.removeLiquidity) {\n        this.leftChart?.toggleSet(ChartTitle.totalValueLocked);\n        this.miniChart?.toggleSet(ChartTitle.totalValueLocked);\n      }\n      this.leftChart?.toggleSeries(ChartSeries.day);\n      this.miniChart?.toggleSeries(ChartSeries.week);\n    });\n  }\n\n  async initChartsDesktop(): Promise<void> {\n    Promise.all([\n      this.chartService.fetchLBGraphData(ChartSeries.day),\n      this.chartService.fetchLBGraphData(ChartSeries.week),\n      this.chartService.fetchLBGraphData(ChartSeries.month),\n      this.chartService.fetchLBGraphData(ChartSeries.year)\n    ]).then((arr) => {\n      this.chartDatas[ChartSeries.day] = arr[0];\n      this.chartDatas[ChartSeries.week] = arr[1];\n      this.chartDatas[ChartSeries.month] = arr[2];\n      this.chartDatas[ChartSeries.year] = arr[3];\n      //prevents race cond\n      if (this.entrypoint === LqdEntrypoints.xtzToToken) {\n        this.leftChart?.toggleSet(ChartTitle.XTZtzBTC);\n        this.leftChart?.toggleSeries(ChartSeries.day);\n      } else if (this.entrypoint === LqdEntrypoints.tokenToXtz) {\n        this.leftChart?.toggleSet(ChartTitle.tzBTCXTZ);\n        this.leftChart?.toggleSeries(ChartSeries.day);\n      } else if (this.entrypoint === LqdEntrypoints.addLiquidity || this.entrypoint === LqdEntrypoints.removeLiquidity) {\n        this.leftChart?.toggleSet(ChartTitle.totalValueLocked);\n        this.leftChart?.toggleSeries(ChartSeries.month);\n      }\n    });\n  }\n\n  async initCharts(): Promise<void> {\n    const isMobile = document.documentElement.style.getPropertyValue('--is-mobile');\n    const style = getComputedStyle(document.body);\n    this.titleColor = style.getPropertyValue('--base-font-color');\n    if (isMobile === '1') {\n      await this.initChartsMobile();\n    } else {\n      await this.initChartsDesktop();\n    }\n  }\n\n  birthExchangeRate(): void {\n    let qty = new Amount({\n      normalisedAmount: 1,\n      decimalPlaces: 6\n    });\n    const { xtzPool, tokenPool } = this.swapLiquidityService.createPoolAmounts();\n    const rate = this.swapLiquidityService.xtzToTokenExchangeRateDisplay(qty, xtzPool, tokenPool, this.swapLiquidityService.settings('liquidityBaking'));\n    this.expectedRate = `1 XTZ ($${this.walletService?.wallet?.XTZrate.toFixed(2)}) = ${Big(rate).toFixed(tokenPool.decimalPlaces)} tzBTC`;\n  }\n\n  async init(): Promise<boolean> {\n    this.qtyRaw = '';\n    this.qty = new Amount({\n      normalisedAmount: 0,\n      decimalPlaces: 6\n    });\n    this.balances = this.tokenBalancesService?.balances;\n    const r = await this.hydratePools();\n    this.attributes = { APY: this.swapLiquidityService.estimateLiquidityBakingAPY() };\n    this.initCharts();\n    this.birthExchangeRate();\n    return r;\n  }\n\n  async open(): Promise<void> {\n    this.subjectService.activeAccount.pipe(take(1)).subscribe(async (activeAccount) => {\n      this.activeAccount = activeAccount;\n      await this.estimateService.preLoadData(this.activeAccount.pkh, this.activeAccount.pk);\n      if (await this.init()) {\n        super.open();\n      }\n      this.messageService.stopSpinner();\n    });\n  }\n\n  close(): void {\n    this.reset();\n    this.mode = Mode.swap;\n    this.entrypoint = LqdEntrypoints.xtzToToken;\n    this.chartInit = false;\n    super.close();\n  }\n\n  calculateXtzToToken(): void {\n    this.qty = new Amount({\n      normalisedAmount: parseFloat(this.qtyRaw),\n      decimalPlaces: 6\n    });\n    this.qtyOut = new Amount({\n      normalisedAmount: parseFloat(this.qtyRawOut),\n      decimalPlaces: 8\n    });\n    const xtzToSell = this.qty;\n    const { xtzPool, tokenPool } = this.swapLiquidityService.createPoolAmounts();\n    const result = this.swapLiquidityService.calculateXtzToToken(\n      xtzToSell,\n      xtzPool,\n      tokenPool,\n      this.slippage,\n      this.swapLiquidityService.settings('liquidityBaking')\n    );\n    this.minimumToken = result.minimum;\n    this.expectedRate = `1 XTZ ($${this.walletService?.wallet?.XTZrate.toFixed(2)}) = ${Big(result.rate).toFixed(tokenPool.decimalPlaces)} tzBTC`;\n    this.impactDouble = result.impactDouble;\n    this.qtyOut = result.expected;\n    this.qtyRawOut = result.expected?.internalNormalised.toFixed(result.expected?.decimalPlaces).toString();\n  }\n\n  calculateTokenToXTZFromXTZ(): void {\n    this.qty = new Amount({\n      normalisedAmount: parseFloat(this.qtyRaw),\n      decimalPlaces: 8\n    });\n    this.qtyOut = new Amount({\n      normalisedAmount: parseFloat(this.qtyRawOut),\n      decimalPlaces: 6\n    });\n    const xtzToBuy = this.qtyOut;\n    const { xtzPool, tokenPool } = this.swapLiquidityService.createPoolAmounts();\n    const result = this.swapLiquidityService.calculateTokenToXTZFromXTZ(\n      xtzToBuy,\n      xtzPool,\n      tokenPool,\n      this.slippage,\n      this.swapLiquidityService.settings('liquidityBaking')\n    );\n    this.minimumXtz = result.xtz.minimum;\n    this.expectedRate = `1 tzBTC ($${Big(result.xtz.rate).times(this.walletService?.wallet?.XTZrate).toFixed(2)}) = ${Big(result.xtz.rate).toFixed(\n      xtzPool.decimalPlaces\n    )} XTZ`;\n    this.impactDouble = result.xtz.impactDouble;\n    this.qty = result.token.expected;\n    this.qtyRaw = result.token.expected?.internalNormalised.toFixed(result.token.expected?.decimalPlaces).toString();\n  }\n\n  calculateTokenToXTZ(): void {\n    this.qty = new Amount({\n      normalisedAmount: parseFloat(this.qtyRaw),\n      decimalPlaces: 8\n    });\n    this.qtyOut = new Amount({\n      normalisedAmount: parseFloat(this.qtyRawOut),\n      decimalPlaces: 6\n    });\n    const tokenToSell = this.qty;\n    const { xtzPool, tokenPool } = this.swapLiquidityService.createPoolAmounts();\n    const result = this.swapLiquidityService.calculateTokenToXTZ(\n      tokenToSell,\n      xtzPool,\n      tokenPool,\n      this.slippage,\n      this.swapLiquidityService.settings('liquidityBaking')\n    );\n    this.minimumXtz = result.minimum;\n    this.expectedRate = `1 tzBTC ($${Big(result.rate).times(this.walletService?.wallet?.XTZrate).toFixed(2)}) = ${Big(result.rate).toFixed(\n      xtzPool.decimalPlaces\n    )} XTZ`;\n    this.impactDouble = result.impactDouble;\n    this.qtyOut = result.expected;\n    this.qtyRawOut = result.expected?.internalNormalised.toFixed(result.expected?.decimalPlaces).toString();\n  }\n\n  calculateXtzToTokenFromToken(): void {\n    this.qty = new Amount({\n      normalisedAmount: parseFloat(this.qtyRaw),\n      decimalPlaces: 6\n    });\n    this.qtyOut = new Amount({\n      normalisedAmount: parseFloat(this.qtyRawOut),\n      decimalPlaces: 8\n    });\n    const tokenToBuy = this.qtyOut;\n    const { xtzPool, tokenPool } = this.swapLiquidityService.createPoolAmounts();\n    const result = this.swapLiquidityService.calculateXtzToTokenFromToken(\n      tokenToBuy,\n      xtzPool,\n      tokenPool,\n      this.slippage,\n      this.swapLiquidityService.settings('liquidityBaking')\n    );\n    this.minimumToken = result.token.minimum;\n    this.expectedRate = `1 XTZ ($${this.walletService?.wallet?.XTZrate.toFixed(2)}) = ${Big(result.token.rate).toFixed(tokenPool.decimalPlaces)} tzBTC`;\n    this.impactDouble = result.token.impactDouble;\n    this.qty = result.xtz.expected;\n    this.qtyRaw = result.xtz.expected?.internalNormalised.toFixed(result.xtz.expected?.decimalPlaces).toString();\n  }\n\n  calcSwap(type: string = 'qtyRaw'): void {\n    if (type === 'qtyRaw' && this.entrypoint === LqdEntrypoints.xtzToToken) {\n      this.calculateXtzToToken();\n    } else if (type === 'qtyRawOut' && this.entrypoint === LqdEntrypoints.tokenToXtz) {\n      this.calculateTokenToXTZFromXTZ();\n    } else if (type === 'qtyRaw' && this.entrypoint === LqdEntrypoints.tokenToXtz) {\n      this.calculateTokenToXTZ();\n    } else if (type === 'qtyRawOut' && this.entrypoint === LqdEntrypoints.xtzToToken) {\n      this.calculateXtzToTokenFromToken();\n    }\n  }\n\n  calcAddLiquidity(type: string): void {\n    const { xtzPool, tokenPool } = this.swapLiquidityService.createPoolAmounts();\n    if (type === 'qtyRaw') {\n      const toSell = this.qty;\n      const result = this.swapLiquidityService.calculateAddLiquidityXTZ(\n        toSell,\n        xtzPool,\n        tokenPool,\n        parseFloat(this.swapLiquidityService.storage[this.lqdContract]?.total_pool),\n        this.slippage,\n        this.swapLiquidityService.settings('liquidityBaking')\n      );\n      this.minimumLqd = result.liquidityMinimum;\n      this.qtyOut = result.tokenRequired;\n      this.qtyRawOut = result.tokenRequired?.internalNormalised.toFixed(result.tokenRequired?.decimalPlaces).toString();\n      this.expectedRate = `1 XTZ ($${this.walletService?.wallet?.XTZrate.toFixed(2)}) = ${Big(result.exchangeRate).toFixed(tokenPool.decimalPlaces)} tzBTC`;\n    } else {\n      const toSell = this.qtyOut;\n      const result = this.swapLiquidityService.calculateAddLiquidityToken(\n        toSell,\n        xtzPool,\n        tokenPool,\n        parseFloat(this.swapLiquidityService.storage[this.lqdContract]?.total_pool),\n        this.slippage,\n        this.swapLiquidityService.settings('liquidityBaking')\n      );\n      this.minimumLqd = result.liquidityMinimum;\n      this.qty = this.xtzRequired = result.xtzRequired;\n      this.qtyRaw = result.xtzRequired?.internalNormalised.toFixed(result.xtzRequired?.decimalPlaces).toString();\n      this.expectedRate = `1 XTZ ($${this.walletService?.wallet?.XTZrate.toFixed(2)}) = ${Big(result.exchangeRate).toFixed(tokenPool.decimalPlaces)} tzBTC`;\n    }\n  }\n\n  calcRemoveLiquidity(): void {\n    const lqtToBurn = this.qty;\n    const { xtzPool, tokenPool } = this.swapLiquidityService.createPoolAmounts();\n    const result = this.swapLiquidityService.calculateRemoveLiquidity(\n      lqtToBurn,\n      xtzPool,\n      tokenPool,\n      parseFloat(this.swapLiquidityService.storage[this.lqdContract]?.total_pool),\n      this.slippage,\n      this.swapLiquidityService.settings('liquidityBaking')\n    );\n    this.minimumXtz = result.xtzMinimum;\n    this.minimumToken = result.tokenMinimum;\n  }\n\n  reset(): void {\n    this.minimumLqd = null;\n    this.minimumXtz = null;\n    this.minimumToken = null;\n    this.expectedRate = '';\n    this.impactDouble = undefined;\n    this.xtzRequired = null;\n\n    this.qty = new Amount({\n      normalisedAmount: '',\n      decimalPlaces: 6\n    });\n    this.qtyRaw = '';\n    this.qtyOut = new Amount({\n      normalisedAmount: '',\n      decimalPlaces: 8\n    });\n    this.qtyRawOut = '';\n\n    this.advancedForm = false;\n    this.customFee = '';\n    this.customGasLimit = '';\n    this.customStorageLimit = '';\n    this.defaultTransactionParams = zeroTxParams;\n    this.formInvalid = '';\n    this.latestSimError = '';\n\n    this.slippage = 0.005;\n    this.transactions = [];\n\n    this.moreInfo = false;\n  }\n  async hydratePools(): Promise<boolean> {\n    try {\n      await this.swapLiquidityService.fetchStorage(this.lqdContract);\n    } catch (e) {\n      this.messageService.addError(this.translate.instant('SWAPCOMPONENT.CONTRACTSTORAGEFAILED'));\n      return false;\n    }\n    return true;\n  }\n\n  async update(type: string = 'qtyRaw'): Promise<void> {\n    this.xtzBalance = Big(this.activeAccount?.balanceXTZ ?? 0)\n      .div(10 ** 6)\n      .toString();\n    this.lqdBalance = this.balances.find((b) => b.contractAddress === this.lqdTokenContract && b.id == 0)?.balance ?? '0';\n    this.tzBTCBalance = this.balances.find((b) => b.contractAddress === this.tzBTCContract && b.id == 0)?.balance ?? '0';\n    if (this.entrypoint === LqdEntrypoints.xtzToToken || this.entrypoint === LqdEntrypoints.tokenToXtz) {\n      this.calcSwap(type);\n    } else if (this.entrypoint === LqdEntrypoints.addLiquidity) {\n      this.qty = new Amount({\n        normalisedAmount: parseFloat(this.qtyRaw),\n        decimalPlaces: 6\n      });\n      this.qtyOut = new Amount({\n        normalisedAmount: parseFloat(this.qtyRawOut),\n        decimalPlaces: 8\n      });\n      this.calcAddLiquidity(type);\n    } else if (this.entrypoint === LqdEntrypoints.removeLiquidity) {\n      this.qty = new Amount({\n        normalisedAmount: parseFloat(this.qtyRaw),\n        decimalPlaces: 0\n      });\n      this.qtyOut = new Amount({\n        normalisedAmount: parseFloat(this.qtyRawOut),\n        decimalPlaces: 0\n      });\n      this.calcRemoveLiquidity();\n    }\n    if (this.qty && this.qty.internalNormalised) {\n      this.estimateFees();\n    }\n  }\n\n  preview(): void {\n    if (!this.qtyRaw) {\n      return;\n    }\n    try {\n      this.prepareResponse.emit(this.getFullyPreparedTxs());\n      ModalComponent.currentModel.next({ name: '', data: {} });\n      this.reset();\n    } catch (e) {\n      this.formInvalid = e.message;\n    }\n  }\n  toggleMode(mode): void {\n    if (mode === this.mode) {\n      return;\n    }\n    this.reset();\n    const chartToggle = (label) => {\n      const style = getComputedStyle(document.body);\n      this.titleColor = style.getPropertyValue('--base-font-color');\n      this.miniChart.toggleSet(label);\n      this.leftChart.toggleSet(label);\n      if (label === ChartTitle.totalValueLocked) {\n        this.miniChart.toggleSeries(ChartSeries.month);\n        this.leftChart.toggleSeries(ChartSeries.month);\n      } else {\n        this.miniChart.toggleSeries(ChartSeries.week);\n        this.leftChart.toggleSeries(ChartSeries.day);\n      }\n    };\n    if (mode === Mode.swap) {\n      this.mode = Mode.swap;\n      this.entrypoint = LqdEntrypoints.xtzToToken;\n      chartToggle(ChartTitle.XTZtzBTC);\n    } else if (mode === Mode.liquidity) {\n      this.mode = Mode.liquidity;\n      this.entrypoint = LqdEntrypoints.addLiquidity;\n      chartToggle(ChartTitle.totalValueLocked);\n    }\n    this.qty = new Amount({\n      normalisedAmount: 0,\n      decimalPlaces: 6\n    });\n    this.birthExchangeRate();\n  }\n  toggleDirection(dir): void {\n    if (this.mode === 'swap') {\n      const chartToggle = (label) => {\n        const style = getComputedStyle(document.body);\n        this.titleColor = style.getPropertyValue('--base-font-color');\n        this.leftChart.toggleSet(label);\n        this.miniChart.toggleSet(label);\n        this.miniChart.toggleSeries(ChartSeries.week);\n      };\n      this.qtyRaw = this.qtyRawOut;\n      if (this.entrypoint === LqdEntrypoints.tokenToXtz) {\n        this.entrypoint = LqdEntrypoints.xtzToToken;\n        chartToggle(ChartTitle.XTZtzBTC);\n      } else if (this.entrypoint === LqdEntrypoints.xtzToToken) {\n        this.entrypoint = LqdEntrypoints.tokenToXtz;\n        chartToggle(ChartTitle.tzBTCXTZ);\n      }\n      this.evalAmount();\n    } else {\n      if (dir === 0 && this.entrypoint !== LqdEntrypoints.addLiquidity) {\n        this.reset();\n        this.entrypoint = LqdEntrypoints.addLiquidity;\n        this.qty = new Amount({\n          normalisedAmount: parseFloat(this.qtyRaw),\n          decimalPlaces: 6\n        });\n      } else if (dir === 1 && this.entrypoint !== LqdEntrypoints.removeLiquidity) {\n        this.reset();\n        this.entrypoint = LqdEntrypoints.removeLiquidity;\n        this.qty = new Amount({\n          normalisedAmount: parseFloat(this.qtyRaw),\n          decimalPlaces: 0\n        });\n      }\n      this.birthExchangeRate();\n    }\n  }\n  getTotalFee(): number {\n    if (this.customFee !== '' && Number(this.customFee)) {\n      return Number(this.customFee);\n    }\n    return Number(this.defaultTransactionParams.fee);\n  }\n  getTotalBurn(): number {\n    if (this.customStorageLimit !== '' && Number(this.customStorageLimit)) {\n      return Number(Big(this.customStorageLimit).mul(this.transactions.length).times(this.costPerByte).div(1000000).toString());\n    }\n    return this.defaultTransactionParams.burn;\n  }\n  burnAmount(): string {\n    const burn = this.customStorageLimit ? Number(Big(this.customStorageLimit).times(this.costPerByte).div(1000000)) : this.defaultTransactionParams.burn;\n    if (burn) {\n      return burn + ' tez';\n    }\n    return '';\n  }\n  customSlippage(e): void {\n    e.target.value = e.target.value.replace(/[^0-9\\.]+/g, '');\n    this.slippage = Math.max(Math.min(100, parseFloat(e.target.value || 0) / 100.0), 0);\n    // this.slippageInput.nativeElement.value = this.slippage;\n    this.update();\n  }\n  customSlippageFocus(e): void {\n    if (e.target.value !== '') {\n      e.target.value = e.target.value.replace(/[^0-9\\.]+/g, '');\n      this.slippage = Math.max(Math.min(100, parseFloat(e.target.value || 0) / 100.0), 0);\n      this.update();\n    }\n  }\n  customSlippageBlur(e): void {\n    if (!Number.isNaN(Number(e.target.value)) && e.target.value !== '') {\n      e.target.value = Math.max(Math.min(100, e.target.value), 0);\n    } else {\n      e.target.value = '';\n      this.slippage = 0.005;\n      this.update();\n    }\n  }\n  getMaxAmount(account: Account): { tez; lqd; tzBTC } {\n    if (account) {\n      let accountBalance = Big(this.xtzBalance);\n      accountBalance = accountBalance.minus(this.customFee && Number(this.customFee) ? Number(this.customFee) : this.defaultTransactionParams.fee);\n      accountBalance = accountBalance.minus(\n        this.customStorageLimit && Number(this.customStorageLimit)\n          ? Number(Big(this.customStorageLimit).times(this.costPerByte).div('1000000'))\n          : this.defaultTransactionParams.burn\n      );\n      accountBalance = accountBalance.minus(0.000001); // dust\n      return {\n        tez: accountBalance.toFixed(),\n        lqd: Big(this.lqdBalance).toFixed(),\n        tzBTC: Big(this.tzBTCBalance).toFixed()\n      };\n    }\n  }\n  async estimateFees(): Promise<void> {\n    console.log('estimate..');\n    const prevSimError = this.latestSimError;\n    this.latestSimError = '';\n    let txs: PartiallyPreparedTransaction[] = [];\n    try {\n      txs = this.getMinimalPreparedTxs();\n      this.transactions = txs;\n    } catch (e) {\n      console.log(e);\n    }\n    if (txs?.length) {\n      this.simSemaphore++;\n      this.latestSimError = '';\n      const callback = (res) => {\n        if (res) {\n          this.formInvalid = this.checkBalances();\n          if (res.error) {\n            this.latestSimError = res.error;\n          } else {\n            this.defaultTransactionParams = res;\n            this.latestSimError = '';\n          }\n          console.log(res, txs);\n        } else {\n          console.log('no res');\n        }\n        this.simSemaphore--;\n      };\n      this.estimateService.estimateTransactions(JSON.parse(JSON.stringify(txs)), this.activeAccount.address, undefined, callback);\n    } else {\n      this.latestSimError = prevSimError;\n    }\n  }\n  updateMaxAmount(input: string = 'qtyRaw'): void {\n    if (this.activeAccount) {\n      const balances = this.getMaxAmount(this.activeAccount);\n      if (!balances) {\n        return;\n      }\n      let balance: string = '0.0';\n      if (this.entrypoint === this.LqdEntrypoints.removeLiquidity) {\n        balance = balances?.lqd;\n        this.qtyRaw = balance;\n        this.update('qtyRaw');\n      } else if (this.entrypoint === this.LqdEntrypoints.tokenToXtz) {\n        if (input === 'qtyRaw') {\n          balance = balances?.tzBTC;\n          this.qtyRaw = balance;\n          this.update('qtyRaw');\n        } else {\n          balance = balances?.tez;\n          this.qtyRawOut = balance;\n          this.update('qtyRawOut');\n        }\n      } else if (this.entrypoint === this.LqdEntrypoints.xtzToToken || this.entrypoint === this.LqdEntrypoints.addLiquidity) {\n        if (input === 'qtyRawOut') {\n          balance = balances?.tzBTC;\n          this.qtyRawOut = balance;\n          this.update('qtyRawOut');\n        } else {\n          balance = balances?.tez;\n          this.qtyRaw = balance;\n          this.update('qtyRaw');\n        }\n      }\n    }\n  }\n  getMinimalPreparedTxs(): PartiallyPreparedTransaction[] {\n    if (this.entrypoint === LqdEntrypoints.xtzToToken) {\n      return (this.transactions = [\n        {\n          kind: 'transaction',\n          amount: this.qty.internalNormalised.toString(),\n          destination: this.lqdContract,\n          parameters: this.operationService.getXTZToTokenParameters(\n            this.activeAccount.address,\n            this.minimumToken.internalBigInt.toFixed(0).toString(),\n            (Date.now() + 60 * 60 * 1000).toString()\n          )\n        }\n      ]);\n    } else if (this.entrypoint === LqdEntrypoints.tokenToXtz) {\n      return (this.transactions = [\n        {\n          kind: 'transaction',\n          amount: '0',\n          destination: this.tzBTCContract,\n          parameters: this.operationService.getRevokeAmountParameters(this.lqdContract)\n        },\n        {\n          kind: 'transaction',\n          amount: '0',\n          destination: this.tzBTCContract,\n          parameters: this.operationService.getApproveAmountParameters(this.lqdContract, this.qty.internalBigInt.toFixed(0).toString())\n        },\n        {\n          kind: 'transaction',\n          amount: '0',\n          destination: this.lqdContract,\n          parameters: this.operationService.getTokenToXTZParameters(\n            this.activeAccount.address,\n            this.qty.internalBigInt.toFixed(0).toString(),\n            this.minimumXtz.internalBigInt.toFixed(0).toString(),\n            (Date.now() + 60 * 60 * 1000).toString()\n          )\n        },\n        {\n          kind: 'transaction',\n          amount: '0',\n          destination: this.tzBTCContract,\n          parameters: this.operationService.getRevokeAmountParameters(this.lqdContract)\n        }\n      ]);\n    } else if (this.entrypoint === LqdEntrypoints.removeLiquidity) {\n      return (this.transactions = [\n        {\n          kind: 'transaction',\n          amount: '0',\n          destination: this.lqdContract,\n          parameters: this.operationService.getRemoveLiquidityParameters(\n            this.activeAccount.address,\n            this.qty.internalBigInt.toFixed(0).toString(),\n            this.minimumXtz.internalBigInt.toFixed(0).toString(),\n            this.minimumToken.internalBigInt.toFixed(0).toString(),\n            (Date.now() + 60 * 60 * 1000).toString()\n          )\n        }\n      ]);\n    } else if (this.entrypoint === LqdEntrypoints.addLiquidity) {\n      return (this.transactions = [\n        {\n          kind: 'transaction',\n          amount: '0',\n          destination: this.tzBTCContract,\n          parameters: this.operationService.getRevokeAmountParameters(this.lqdContract)\n        },\n        {\n          kind: 'transaction',\n          amount: '0',\n          destination: this.tzBTCContract,\n          parameters: this.operationService.getApproveAmountParameters(this.lqdContract, this.qtyOut.internalBigInt.toFixed(0))\n        },\n        {\n          kind: 'transaction',\n          amount: this.qty.internalNormalised.toString(),\n          destination: this.lqdContract,\n          parameters: this.operationService.getAddLiquidityParameters(\n            this.activeAccount.address,\n            this.minimumLqd.internalBigInt.toFixed(0).toString(),\n            this.qtyOut.internalBigInt.toFixed(0).toString(),\n            (Date.now() + 60 * 60 * 1000).toString()\n          )\n        },\n        {\n          kind: 'transaction',\n          amount: '0',\n          destination: this.tzBTCContract,\n          parameters: this.operationService.getRevokeAmountParameters(this.lqdContract)\n        }\n      ]);\n    }\n  }\n  getFullyPreparedTxs(): FullyPreparedTransaction[] {\n    assert(!this.simSemaphore, 'Awaiting request');\n    const minimalTxs = this.getMinimalPreparedTxs();\n    this.transactions = minimalTxs;\n    assert(this.inputValidationService.fee(this.customFee), 'Invalid fee');\n    assert(this.inputValidationService.gas(this.customGasLimit), 'Invalid gas limit');\n    assert(this.inputValidationService.gas(this.customStorageLimit), 'Invalid storage limit');\n    assert(!this.checkBalances(), this.checkBalances());\n    assert(minimalTxs.length === this.defaultTransactionParams.customLimits?.length, 'Simulation error');\n    return this.opsWithCustomLimits();\n  }\n  opsWithCustomLimits(): FullyPreparedTransaction[] {\n    let extraGas: number = 0;\n    let extraStorage: number = 0;\n    if (this.customGasLimit && this.customGasLimit !== this.defaultTransactionParams.gas.toString()) {\n      extraGas = Number(this.customGasLimit) - this.defaultTransactionParams.gas;\n    }\n    if (this.customStorageLimit && this.customStorageLimit !== this.defaultTransactionParams.storage.toString()) {\n      extraStorage = Number(this.customStorageLimit) - this.defaultTransactionParams.storage;\n    }\n    const extraGasPerOp: number = Math.round(extraGas / this.transactions.length);\n    const extraStoragePerOp: number = Math.round(extraStorage / this.transactions.length);\n    const txs: FullyPreparedTransaction[] = [];\n    for (let i = 0; i < this.transactions.length; i++) {\n      let gasLimit: string = extraGas\n        ? (Number(this.defaultTransactionParams.customLimits[i].gasLimit) + extraGasPerOp).toString()\n        : this.defaultTransactionParams.customLimits[i].gasLimit.toString();\n      let storageLimit = extraStorage\n        ? (Number(this.defaultTransactionParams.customLimits[i].storageLimit) + extraStoragePerOp).toString()\n        : this.defaultTransactionParams.customLimits[i].storageLimit.toString();\n      gasLimit = !(Number(gasLimit) < 0) ? gasLimit : '0';\n      storageLimit = !(Number(storageLimit) < 0) ? storageLimit : '0';\n      const fullyTx: FullyPreparedTransaction = {\n        ...this.transactions[i],\n        fee: i === this.transactions.length - 1 ? this.getTotalFee().toString() : '0',\n        gasLimit,\n        storageLimit\n      };\n      txs.push(fullyTx);\n    }\n    return txs;\n  }\n  checkBalances(): string {\n    if (this.transactions.length > 0 && this.activeAccount) {\n      const balances = this.getMaxAmount(this.activeAccount);\n      if (balances) {\n        const maxTez = Big(balances?.tez).minus(0.000001);\n        const maxLQD = Big(balances.lqd).plus(0.0);\n        const maxtzBTC = Big(balances.tzBTC).plus(0.0);\n        let amount = Big(0);\n        for (const tx of this.transactions) {\n          amount = amount.plus(Big(tx.amount));\n        }\n        if (this.entrypoint === LqdEntrypoints.xtzToToken) {\n          if (!!maxTez && amount.gt(maxTez)) {\n            return this.translate.instant('SWAPCOMPONENT.TOOHIGHFEEORAMOUNT');\n          }\n          if (this.minimumToken && this.minimumToken.internalNormalised === 0) {\n            return this.translate.instant('SWAPCOMPONENT.TOOSMALLAMOUNT');\n          }\n        } else if (this.entrypoint === LqdEntrypoints.tokenToXtz) {\n          if (Big(this.qty.internalNormalised).gt(maxtzBTC)) {\n            return this.translate.instant('SWAPCOMPONENT.TOOHIGHAMOUNT');\n          }\n          if (this.minimumXtz && this.minimumXtz.internalNormalised === 0) {\n            return this.translate.instant('SWAPCOMPONENT.TOOSMALLAMOUNT');\n          }\n        } else if (this.entrypoint === LqdEntrypoints.addLiquidity) {\n          if (!!maxTez && amount.gt(maxTez)) {\n            return this.translate.instant('SWAPCOMPONENT.TOOHIGHAMOUNT');\n          }\n          if (this.qtyOut && Big(this.qtyOut.internalNormalised).gt(maxtzBTC)) {\n            return this.translate.instant('SWAPCOMPONENT.TOOHIGHAMOUNT');\n          }\n          if (this.xtzRequired && this.xtzRequired.internalNormalised === 0) {\n            return this.translate.instant('SWAPCOMPONENT.TOOSMALLAMOUNT');\n          }\n          if (this.minimumLqd && this.minimumLqd.internalNormalised === 0) {\n            return this.translate.instant('SWAPCOMPONENT.TOOSMALLAMOUNT');\n          }\n        } else if (this.entrypoint === LqdEntrypoints.removeLiquidity) {\n          if (Big(this.qty.internalNormalised).gt(maxLQD)) {\n            return this.translate.instant('SWAPCOMPONENT.TOOHIGHAMOUNT');\n          }\n          if (this.minimumXtz && this.minimumXtz.internalNormalised === 0) {\n            return this.translate.instant('SWAPCOMPONENT.TOOSMALLAMOUNT');\n          }\n        }\n      }\n    }\n    return '';\n  }\n  sanitizeNumberInput(e, decimalPlaces: number, type = ''): void {\n    const exp = new RegExp(`^\\\\d{0,}(\\\\.\\\\d{0,${decimalPlaces}})?\\$`, 'g');\n    if (type === 'qtyRaw') {\n      if (exp.test(e?.target?.value)) {\n        this.qtyRaw = e?.target?.value;\n      } else {\n        e.target.value = this.qtyRaw;\n      }\n      this.evalAmount('qtyRaw');\n    } else if (type === 'qtyRawOut') {\n      if (exp.test(e?.target?.value)) {\n        this.qtyRawOut = e?.target?.value;\n      } else {\n        e.target.value = this.qtyRawOut;\n      }\n      this.evalAmount('qtyRawOut');\n    } else {\n      if (exp.test(e?.target?.value)) {\n        this[type] = e?.target?.value;\n      } else {\n        e.target.value = this[type];\n      }\n    }\n  }\n  evalAmount(type: string = 'qtyRaw'): void {\n    let qty = this[type];\n    if (parseFloat(qty) < 0.0 || !qty) {\n      this.qtyRawOut = this.qtyRaw = '';\n      return;\n    } else if (isNaN(parseFloat(qty)) && parseFloat(qty) === 0.0) {\n      return;\n    } else if (!isNaN(parseFloat(qty))) {\n      this.update(type);\n    }\n  }\n  openInfoModal(title: string): void {\n    switch (title) {\n      case 'slippage':\n        ModalComponent.currentModel.next({\n          name: 'info',\n          data: {\n            message:\n              'Token prices in a pool may change significantly within seconds. Slippage tolerance defines the difference between the expected and current exchange rate that you find acceptable. The higher the slippage tolerance, the more likely a transaction will go through.',\n            title: 'Slippage Information'\n          },\n          forceClose: false\n        });\n        break;\n      case 'pricerate':\n        ModalComponent.currentModel.next({\n          name: 'info',\n          data: {\n            message: 'The amount of token B you receive for 1 token A, per the current exchange rate.',\n            title: 'Price Rate Information'\n          },\n          forceClose: false\n        });\n        break;\n      case 'impactdouble':\n        ModalComponent.currentModel.next({\n          name: 'info',\n          data: {\n            message: 'The impact your transaction is expected to make on the exchange rate.',\n            title: 'Price Impact'\n          },\n          forceClose: false\n        });\n        break;\n      case 'minimumxtz':\n        ModalComponent.currentModel.next({\n          name: 'info',\n          data: {\n            message: 'The minimum amount of XTZ to be received from the transaction.',\n            title: 'Minimum XTZ'\n          },\n          forceClose: false\n        });\n        break;\n      case 'requiredtoken':\n        ModalComponent.currentModel.next({\n          name: 'info',\n          data: {\n            message: 'Required tzBTC needed for transaction.',\n            title: 'Required tzBTC'\n          },\n          forceClose: false\n        });\n        break;\n      case 'minimumtoken':\n        ModalComponent.currentModel.next({\n          name: 'info',\n          data: {\n            message: 'The minimum amount of tzBTC to be received from the transaction.',\n            title: 'Minimum tzBTC'\n          },\n          forceClose: false\n        });\n        break;\n      case 'minimumlqt':\n        ModalComponent.currentModel.next({\n          name: 'info',\n          data: {\n            message: 'The minimum amount of SIRS to be received from the transaction.',\n            title: 'Minimum SIRS'\n          },\n          forceClose: false\n        });\n        break;\n      default:\n        break;\n    }\n  }\n}\n","<div *ngIf=\"isOpen\" class=\"flex-column kukai-modal\">\n  <div class=\"content\">\n    <div class=\"flex-row top\">\n      <div class=\"flex-row button close\" (click)=\"closeModalAction()\"><img class=\"x\"\n          src=\"../../../assets/img/close-btn-x.png\" /></div>\n      <h1 class=\"title\">Confirmation</h1>\n    </div>\n    <div class=\"flex-column confirm-send\" [class.image]=\"tokenBalanceService.isNFT(token)\" [class.batch]=\"parameters\">\n      <form autocomplete=\"off\">\n        <div class=\"flex-row top\">\n          <div class=\"flex-column left\" [style.minHeight]=\"!tokenBalanceService.isNFT(token) ? 'unset' : ''\">\n            <span *ngIf=\"!tokenBalanceService.isNFT(token)\" class=\"key\">SEND AMOUNT:</span>\n            <app-asset class=\"token-image\" [class.balance]=\"!tokenBalanceService.isNFT(token)\"\n              [assets]=\"token ? {displayAsset: token?.displayAsset, thumbnailAsset: token?.thumbnailAsset} : {thumbnailAsset: 'assets/img/tezos-xtz-logo.svg'}\"\n              [priorityList]=\"['thumbnailAsset', 'displayAsset']\" [class.sd]=\"!token\"></app-asset>\n          </div>\n          <div class=\"flex-column right\">\n            <span class=\"flex-row amount\"><span class=\"tez value\">{{ formatAmount(token, totalAmount(),\n                false)\n                }}</span>\n              <ng-container *ngIf=\"!tokenTransfer\"><span class=\"fiat key\">USD: <span class=\"value\">{{'$' +\n                    (totalAmount()\n                    *\n                    walletService.wallet.XTZrate | number:'1.2-2')\n                    }}</span></span>\n              </ng-container>\n            </span>\n            <div class=\"flex-column items\">\n              <span *ngIf=\"tokenBalanceService.isNFT(token)\" class=\"key amount-quantity\">QUANTITY:&nbsp;&nbsp;<span\n                  class=\"value\">{{ getQuantity(totalAmount())\n                  }}</span></span>\n              <span class=\"key\">FEE:&nbsp;&nbsp;<span class=\"value\">{{ (getTotalFee() | number:'1.0-6') + ' tez'\n                  }}</span></span>\n              <span *ngIf=\"getTotalBurn(); let totalBurn\" class=\"key\">STORAGE COST:&nbsp;<span class=\"value\">{{\n                  (totalBurn\n                  |\n                  number:'1.0-6') + ' tez'\n                  }}</span></span>\n            </div>\n          </div>\n        </div>\n        <div class=\"flex-row from\">\n          <div class=\"flex-column left\">\n            <span class=\"key\">FROM: </span>\n          </div>\n          <div class=\"flex-column right\">\n            <div *ngIf=\"getUsername(); let displayName\" class=\"flex-row torus-name\"><img class=\"verifier-logo\"\n                src=\"../../../assets/img/{{ getVerifier() }}-logo.svg\">{{ displayName }}</div>\n            <span class=\"address\">{{\n              activeAccount?.address\n              }}</span>\n          </div>\n        </div>\n        <div *ngIf=\"!parameters\" class=\"flex-row divider\">\n          <span></span><img class=\"icon\" src=\"../../../assets/img/send-down-arrow.png\" /><span></span>\n        </div>\n        <div class=\"flex-row to\">\n          <div class=\"flex-column left\">\n            <span class=\"key\">SEND TO<ng-container *ngIf=\"parameters && transactions?.length > 1\">&nbsp;BATCH\n              </ng-container>: </span>\n          </div>\n          <div class=\"flex-column right\">\n            <div *ngFor=\"let transaction of transactions | slice:0:showAll; index as i\"\n              (click)=\"updateParameters(i, transaction.parameters)\" class=\"flex-column transaction\">\n              <span *ngIf=\"transaction?.meta && transaction.meta?.verifier\" class=\"flex-row torus-to value\"><img\n                  src=\"../../../assets/img/{{ transaction.meta.verifier }}-logo.svg\" class=\"icon\">\n                {{ transaction.meta?.alias }}</span>\n              <span class=\"flex-row single-to\" [class.default]=\"transactions.length === 1\"\n                [class.selectable]=\"transactions.length > 1 && parameters\"\n                [class.active]=\"batchParamIndex === i && transactions.length > 1 && parameters\"><span>{{\n                  transaction?.destination\n                  }}</span></span>\n              <p class=\"previewAttention\" *ngIf=\"tokenTransfer && transaction?.destination.slice(0, 3) === 'KT1'\">\n                Warning:\n                Verify the contract can manage tokens</p>\n            </div>\n            <div *ngIf=\"transactions?.length > 10\" class=\"button show-all\"\n              (click)=\"showAll = showAll === 10 ? undefined : 10\">{{ showAll === 10 ? 'Show All' : 'Show Less' }}</div>\n          </div>\n        </div>\n        <br />\n        <br />\n        <span *ngIf=\"parameters && transactions.length > 1\" class=\"flex-row transfer-amount\"><span class=\"key\">TRANSFER\n            AMOUNT: </span><span class=\"key\">{{ (transactions[batchParamIndex]?.amount | number:'1.0-6')\n            }}</span></span>\n        <div *ngIf=\"parameters && parameters?.entrypoint\" class=\"flex-row contract-call\"><span class=\"key\">CONTRACT\n            CALL:\n          </span><span class=\"key\">{{ parameters?.entrypoint }}</span></div>\n        <app-ui-toggle-advanced style=\"width: calc(100% - 1em);margin: 0 0 2.5em 0;\" *ngIf=\"externalReq\"\n          [default]=\"false\" (stateChange)=\"advancedForm = $event\">\n        </app-ui-toggle-advanced>\n      </form>\n      <div *ngIf=\"advancedForm\" class=\"advanced-form\">\n        <ng-container *ngIf=\"parameters\">\n          <div class=\"tabs-container\">\n            <ul class=\"flex-row tabs\">\n              <li class=\"tab\" [class.active]=\"parametersFormat === 0\" (click)=\"setParametersFormat(0)\">Micheline</li>\n              <li class=\"tab\" [class.active]=\"parametersFormat === 1\" (click)=\"setParametersFormat(1)\">JSON</li>\n            </ul>\n          </div>\n          <textarea *ngIf=\"parameters\" name=\"none\" rows=\"10\" readonly>{{ parametersDisplay }}</textarea>\n        </ng-container>\n        <form autocomplete=\"off\" *ngIf=\"externalReq && (!walletService.isLedgerWallet()) || ledgerError\">\n          <div class=\"flex-row\">\n            <div class=\"flex-column\">\n              <label class=\"label\">Gas limit</label>\n              <input inputmode=\"decimal\" name=\"none\" type=\"text\" class=\"text\" (input)=\"sanitizeNumberInput($event, 'gas')\"\n                (paste)=\"sanitizeNumberInput($event, 'gas')\" [placeholder]=\"getTotalDefaultGas() || '0'\"\n                [(ngModel)]=\"customGasLimit\">\n            </div>\n            <div class=\"flex-column\">\n              <label class=\"label\">Fee</label>\n              <input inputmode=\"decimal\" name=\"none\" type=\"text\" class=\"text\" [placeholder]=\"getTotalFee() || '0'\"\n                (paste)=\"sanitizeNumberInput($event)\" (input)=\"sanitizeNumberInput($event)\" [(ngModel)]=\"customFee\">\n            </div>\n          </div>\n          <div class=\"flex-row\">\n            <div class=\"flex-column\">\n              <label class=\"label\">Storage limit</label>\n              <input inputmode=\"decimal\" name=\"none\" type=\"text\" class=\"text\" (input)=\"sanitizeNumberInput($event, 'storage')\"\n                (paste)=\"sanitizeNumberInput($event, 'storage')\" [placeholder]=\"getTotalDefaultStorage() || '0'\"\n                [(ngModel)]=\"customStorageLimit\">\n            </div>\n            <div class=\"flex-column\">\n              <label class=\"label\">Max storage cost</label>\n              <input inputmode=\"decimal\" name=\"none\" type=\"text\" class=\"text read-only\" [placeholder]=\"(getTotalBurn() || '0') + ' tez'\"\n                tabindex=-1 readonly>\n            </div>\n          </div>\n        </form>\n      </div>\n      <div class=\"flex-column bottom\">\n        <span [style.visibility]=\"!pwdInvalid ? 'hidden' : ''\" [style.margin]=\"!pwdInvalid ? '0' : ''\"\n          class=\"label danger\">{{ this.pwdInvalid }}</span>\n        <ng-container *ngIf=\"walletService.isPwdWallet()\">\n          <span class=\"label\">ENTER YOUR\n            PASSWORD TO CONFIRM:</span>\n          <input name=\"none\" [(ngModel)]=\"password\" autocomplete=\"current-password\" placeholder=\"Password\"\n            class=\"text password\" type=\"password\" (input)=\"this.pwdInvalid = ''\" (change)=\"this.pwdInvalid = ''\"\n            (keydown.enter)='!messageService.spinnerOn ? inject() : null'>\n        </ng-container>\n        <button class=\"confirm\" *ngIf=\"walletService.isLedgerWallet() && ledgerError; else elseBlock\"\n          (click)=\"ledgerRetry()\">Sign with\n          Ledger</button>\n        <ng-template #elseBlock>\n          <button class=\"confirm\" (click)=\"!messageService.spinnerOn ? inject() : null\"\n            [disabled]=\"(walletService.isLedgerWallet() && (!sendResponse || !sendResponse.payload || !sendResponse.payload.signedOperation)) || walletService.isWatchWallet()\">\n            {{ walletService.isLedgerWallet() ? 'Broadcast' : 'Confirm'}}</button>\n        </ng-template>\n      </div>\n    </div>\n  </div>\n</div>","import { EventEmitter, Input, OnChanges, OnDestroy, Output } from '@angular/core';\nimport { Component, OnInit, SimpleChanges } from '@angular/core';\nimport { FullyPreparedTransaction, PrepareRequest } from '../../../misc/send/interfaces';\nimport { TokenService } from '../../../../services/token/token.service';\nimport { WalletService } from '../../../../services/wallet/wallet.service';\nimport { EstimateService } from '../../../../services/estimate/estimate.service';\nimport { OperationService } from '../../../../services/operation/operation.service';\nimport { MessageService } from '../../../../services/message/message.service';\nimport { CoordinatorService } from '../../../../services/coordinator/coordinator.service';\nimport { LookupService } from '../../../../services/lookup/lookup.service';\nimport { LedgerService } from '../../../../services/ledger/ledger.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { KeyPair } from '../../../../interfaces';\nimport { emitMicheline, assertMichelsonData } from '@taquito/michel-codec';\nimport Big from 'big.js';\nimport { LedgerWallet, TorusWallet } from '../../../../services/wallet/wallet';\nimport { InputValidationService } from '../../../../services/input-validation/input-validation.service';\nimport { ModalComponent } from '../../modal.component';\nimport { Subscription } from 'rxjs';\nimport { TezosDomainsService } from '../../../../services/tezos-domains/tezos-domains.service';\nimport { TokenBalancesService } from '../../../../services/token-balances/token-balances.service';\nimport { SubjectService } from '../../../../services/subject/subject.service';\n\n@Component({\n  selector: 'app-confirm-send',\n  templateUrl: './send-confirmation.component.html',\n  styleUrls: ['../../../../../scss/components/modals/modal.scss']\n})\nexport class ConfirmSendComponent extends ModalComponent implements OnInit, OnChanges, OnDestroy {\n  @Input() confirmRequest: PrepareRequest = null;\n  @Output() operationResponse = new EventEmitter();\n  syncSub: Subscription;\n  tokenTransfer = '';\n  activeAccount = null;\n  externalReq: boolean = false;\n  transactions: FullyPreparedTransaction[] = [];\n  costPerByte: string = this.estimateService.costPerByte;\n\n  customFee = '';\n  customGasLimit = '';\n  customStorageLimit = '';\n\n  parameters: any = null;\n  batchParamIndex = 0;\n  micheline: any = null;\n  batchParameters: { num: number; parameters: any }[] = [];\n  parametersFormat = 0;\n  parametersDisplay = '';\n  showAll = 10;\n\n  showFullBatch = false;\n  sendResponse = null;\n  ledgerError = '';\n  password = '';\n  pwdInvalid = '';\n  advancedForm = false;\n  name = 'confirm-send';\n  token = null;\n  domain = undefined;\n\n  private subscriptions: Subscription = new Subscription();\n\n  constructor(\n    private translate: TranslateService,\n    public tokenService: TokenService,\n    public walletService: WalletService,\n    private estimateService: EstimateService,\n    private operationService: OperationService,\n    private messageService: MessageService,\n    private coordinatorService: CoordinatorService,\n    private lookupService: LookupService,\n    private ledgerService: LedgerService,\n    private inputValidationService: InputValidationService,\n    public tezosDomainService: TezosDomainsService,\n    public tokenBalanceService: TokenBalancesService,\n    private subjectService: SubjectService\n  ) {\n    super();\n  }\n\n  ngOnInit(): void {}\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes?.confirmRequest?.currentValue) {\n      this.reset(true);\n      this.externalReq = changes.confirmRequest.currentValue.externalReq;\n      this.tokenTransfer = changes.confirmRequest.currentValue.tokenTransfer;\n      this.activeAccount = changes.confirmRequest.currentValue.account;\n      this.tezosDomainService.getDomainFromAddress(this.activeAccount?.address).then((domain) => {\n        this.domain = domain;\n      });\n      this.transactions = changes.confirmRequest.currentValue.transactions;\n      this.token = this.tokenService.getAsset(this.tokenTransfer);\n      console.log('transactions', this.transactions);\n      if (this.externalReq) {\n        ModalComponent.currentModel.next({\n          name: this.name,\n          data: null\n        });\n      }\n      this.init();\n      if (this.externalReq) {\n        this.syncSub = this.subjectService.beaconResponse.subscribe((response) => {\n          if (response) {\n            this.closeModalAction('silent');\n          }\n        });\n      }\n    }\n  }\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n  open(data: any): void {\n    this.customFee = data?.customFee;\n    this.customGasLimit = data?.customGasLimit;\n    this.customStorageLimit = data?.customStorageLimit;\n    super.open();\n  }\n  async init(): Promise<void> {\n    await this.loadParameters();\n    if (this.walletService.wallet instanceof LedgerWallet) {\n      this.ledgerError = '?';\n    }\n  }\n  async loadParameters(): Promise<void> {\n    if (this.transactions.length > 1) {\n      for (const [i, op] of this.transactions.entries()) {\n        if (op.parameters) {\n          this.batchParameters.push({\n            num: i + 1,\n            parameters: op.parameters\n          });\n          if (!this.parameters) {\n            this.updateParameters(0, op.parameters);\n          }\n        }\n      }\n    } else if (this.transactions[0].parameters) {\n      this.updateParameters(0, this.transactions[0].parameters);\n    }\n  }\n  updateParameters(index: number, parameters: any): void {\n    if (!parameters) {\n      return;\n    }\n    this.batchParamIndex = index;\n    this.parameters = parameters;\n    this.parametersToMicheline();\n    this.parametersDisplay = this.parametersTextboxDisplay();\n  }\n  parametersTextboxDisplay(): string {\n    return !this.parametersFormat ? this.micheline.value : JSON.stringify(this.parameters.value, null, 2);\n  }\n  setParametersFormat(id: number): void {\n    this.parametersFormat = id;\n    this.parametersDisplay = this.parametersTextboxDisplay();\n  }\n  beaconTokenTransfer(op: any): null | { tokenId: string; to: string; amount: string } {\n    if (op.parameters && this.tokenService.isKnownTokenContract(op.destination)) {\n      return this.operationService.parseTokenTransfer(op);\n    }\n    return null;\n  }\n  parametersToMicheline(): void {\n    if (this.parameters) {\n      try {\n        if (!this.parameters.value || !this.parameters.entrypoint) {\n          throw new Error('entrypoint and value expected');\n        }\n        assertMichelsonData(this.parameters.value);\n        const res = emitMicheline(this.parameters.value, {\n          indent: '  ',\n          newline: '\\n'\n        });\n        this.micheline = {\n          entrypoint: this.parameters.entrypoint,\n          value: res\n        };\n      } catch (e) {\n        console.warn(e);\n        this.micheline = null;\n      }\n    }\n  }\n  getTotalAmount(): string {\n    let totalSent = Big(0);\n    for (const tx of this.transactions) {\n      totalSent = totalSent.add(tx.amount);\n    }\n    return totalSent.toFixed();\n  }\n  getTotalCost(display: boolean = false): string {\n    const totalFee = Big(this.getTotalFee()).plus(Big(this.getTotalBurn())).toString();\n    if (display && totalFee === '0') {\n      return '-';\n    }\n    return totalFee;\n  }\n  getTotalFee(): string {\n    if (this.customFee) {\n      return this.customFee;\n    }\n    let totalFee = Big(0);\n    for (const tx of this.transactions) {\n      totalFee = totalFee.add(tx.fee ? tx.fee : 0);\n    }\n    return totalFee.toFixed();\n  }\n  getTotalBurn(): number {\n    const totalActiveStorageLimit: number =\n      this.customStorageLimit !== '' && Number(this.customStorageLimit) ? Number(this.customStorageLimit) : this.getTotalDefaultStorage();\n    return Number(Big(totalActiveStorageLimit).times(this.costPerByte).div(1000000).toString());\n  }\n  getTotalDefaultGas(): number {\n    let totalGas = Big(0);\n    for (const tx of this.transactions) {\n      totalGas = totalGas.plus(tx.gasLimit);\n    }\n    return totalGas.toFixed();\n  }\n  getTotalDefaultStorage(): number {\n    let totalStorage = Big(0);\n    for (const tx of this.transactions) {\n      totalStorage = totalStorage.plus(tx.storageLimit);\n    }\n    return totalStorage.toFixed();\n  }\n  getQuantity(amount): number {\n    return Big(amount)\n      .div(10 ** (false ? this.token.decimals : 0))\n      .toFixed();\n  }\n  totalAmount(): string {\n    let totalSent = Big(0);\n    for (const tx of this.transactions) {\n      totalSent = totalSent.add(tx.amount);\n    }\n    return totalSent.toFixed();\n  }\n  formatAmount(token, amount: string, baseUnit = true): string {\n    if (!token) {\n      return `${Big(amount)\n        .div(10 ** (baseUnit ? 6 : 0))\n        .toFixed()} tez`;\n    } else {\n      if (token) {\n        if (this.tokenBalanceService.isNFT(token)) {\n          return `${token.name}`;\n        } else {\n          return `${Big(amount)\n            .div(10 ** (baseUnit ? token.decimals : 0))\n            .toFixed()} ${token.symbol}`;\n        }\n      } else {\n        return '[Unknown token]';\n      }\n    }\n  }\n  async ledgerRetry(): Promise<void> {\n    if (!this.inputValidationService.fee(this.getTotalFee().toString())) {\n      this.messageService.addError('Invalid fee');\n      return;\n    }\n    this.messageService.startSpinner('Preparing transaction...');\n    const keys = await this.walletService.getKeys('');\n    if (keys) {\n      await this.sendTransaction(keys);\n    } else {\n      this.messageService.stopSpinner();\n    }\n  }\n  async inject(): Promise<void> {\n    if (this.walletService.isLedgerWallet()) {\n      await this.broadCastLedgerTransaction();\n      this.sendResponse = null;\n      ModalComponent.currentModel.next({ name: '', data: null });\n    } else {\n      if (!this.inputValidationService.fee(this.getTotalFee().toString())) {\n        this.messageService.addError('Invalid fee');\n        return;\n      }\n      const pwd = this.password;\n      this.password = '';\n      this.messageService.startSpinner('Signing transaction...');\n      let keys;\n      try {\n        keys = await this.walletService.getKeys(pwd, this.activeAccount.pkh);\n      } catch {\n        this.messageService.stopSpinner();\n      }\n      if (keys) {\n        this.pwdInvalid = '';\n        this.messageService.startSpinner('Sending transaction...');\n        await this.sendTransaction(keys);\n        ModalComponent.currentModel.next({ name: '', data: null });\n      } else {\n        this.messageService.stopSpinner();\n        if (this.walletService.wallet instanceof TorusWallet) {\n          this.pwdInvalid = `Authorization failed`;\n        } else {\n          this.pwdInvalid = this.translate.instant('SENDCOMPONENT.WRONGPASSWORD'); // 'Wrong password!';\n        }\n      }\n    }\n  }\n  async sendTransaction(keys: KeyPair): Promise<void> {\n    const txs: FullyPreparedTransaction[] = this.opsWithCustomLimits();\n    this.subscriptions.add(\n      this.operationService.transfer(this.activeAccount.address, txs, Number(this.getTotalFee()), keys, this.tokenTransfer).subscribe(\n        async (ans: any) => {\n          this.sendResponse = ans;\n          if (ans.success === true) {\n            console.log('Transaction successful ', ans);\n            if (ans.payload.opHash) {\n              await this.messageService.stopSpinner();\n              this.operationResponse.emit(ans.payload.opHash);\n              const metadata = {\n                transactions: this.transactions,\n                opHash: ans.payload.opHash,\n                tokenTransfer: this.tokenTransfer\n              };\n              await this.coordinatorService.boost(this.activeAccount.address, metadata);\n              if (this.transactions[0].meta) {\n                this.torusNotification(this.transactions[0]);\n              }\n              for (const transaction of this.transactions) {\n                if (this.walletService.addressExists(transaction.destination)) {\n                  await this.coordinatorService.boost(transaction.destination);\n                }\n              }\n            } else if (this.walletService.wallet instanceof LedgerWallet) {\n              await this.requestLedgerSignature();\n              return;\n            }\n          } else {\n            await this.messageService.stopSpinner();\n            console.log('Transaction error id ', ans.payload.msg);\n            this.messageService.addError(ans.payload.msg, 0);\n            this.operationResponse.emit('broadcast_error');\n          }\n          this.reset();\n        },\n        (err) => {\n          this.messageService.stopSpinner();\n          console.log('Error Message ', JSON.stringify(err));\n          if (this.walletService.isLedgerWallet()) {\n            this.messageService.addError('Failed to create transaction', 0);\n            this.operationResponse.emit('broadcast_error');\n          }\n          this.reset();\n        }\n      )\n    );\n  }\n  opsWithCustomLimits(): FullyPreparedTransaction[] {\n    let extraGas: number = 0;\n    let extraStorage: number = 0;\n    if (this.customGasLimit && this.customGasLimit !== this.getTotalDefaultGas().toString()) {\n      extraGas = Number(this.customGasLimit) - this.getTotalDefaultGas();\n    }\n    if (this.customStorageLimit && this.customStorageLimit !== this.getTotalDefaultStorage().toString()) {\n      extraStorage = Number(this.customStorageLimit) - this.getTotalDefaultStorage();\n    }\n    const extraGasPerOp: number = Math.round(extraGas / this.transactions.length);\n    const extraStoragePerOp: number = Math.round(extraStorage / this.transactions.length);\n    const txs: FullyPreparedTransaction[] = [];\n    for (let i = 0; i < this.transactions.length; i++) {\n      let gasLimit: string = extraGas ? (Number(this.transactions[i].gasLimit) + extraGasPerOp).toString() : this.transactions[i].gasLimit.toString();\n      let storageLimit = extraStorage\n        ? (Number(this.transactions[i].storageLimit) + extraStoragePerOp).toString()\n        : this.transactions[i].storageLimit.toString();\n      gasLimit = !(Number(gasLimit) < 0) ? gasLimit : '0';\n      storageLimit = !(Number(storageLimit) < 0) ? storageLimit : '0';\n      const fullyTx: FullyPreparedTransaction = {\n        ...this.transactions[i],\n        fee: i === this.transactions.length - 1 ? this.getTotalFee().toString() : '0',\n        gasLimit,\n        storageLimit\n      };\n      txs.push(fullyTx);\n    }\n    return txs;\n  }\n  async requestLedgerSignature(): Promise<void> {\n    if (this.walletService.wallet instanceof LedgerWallet) {\n      await this.messageService.startSpinner('Waiting for Ledger signature...');\n      try {\n        const op = this.sendResponse.payload.unsignedOperation;\n        let signature = '';\n        if (op.length <= 2290) {\n          signature = await this.ledgerService.signOperation('03' + op, this.walletService.wallet.implicitAccounts[0].derivationPath);\n        } else {\n          signature = await this.ledgerService.signHash(\n            this.operationService.ledgerPreHash('03' + op),\n            this.walletService.wallet.implicitAccounts[0].derivationPath\n          );\n        }\n        if (signature) {\n          const signedOp = op + signature;\n          this.sendResponse.payload.signedOperation = signedOp;\n          this.ledgerError = '';\n        } else {\n          this.ledgerError = 'Failed to sign transaction';\n        }\n      } finally {\n        this.messageService.stopSpinner();\n      }\n    }\n  }\n  async broadCastLedgerTransaction(): Promise<void> {\n    this.subscriptions.add(\n      this.operationService.broadcast(this.sendResponse.payload.signedOperation).subscribe(async (ans: any) => {\n        this.sendResponse = ans;\n        if (ans.success && this.activeAccount) {\n          const metadata = {\n            transactions: this.transactions,\n            opHash: ans.payload.opHash,\n            tokenTransfer: this.tokenTransfer\n          };\n          if (this.transactions[0].meta) {\n            this.torusNotification(this.transactions[0]);\n          }\n          await this.coordinatorService.boost(this.activeAccount.address, metadata);\n          if (this.walletService.addressExists(this.transactions[0].destination)) {\n            await this.coordinatorService.boost(this.transactions[0].destination);\n          }\n          this.operationResponse.emit(ans.payload.opHash);\n        } else {\n          console.log('sendResponse', JSON.stringify(this.sendResponse));\n          this.operationResponse.emit('broadcast_error');\n        }\n        console.log('ans: ' + JSON.stringify(ans));\n        this.reset();\n      })\n    );\n  }\n  async torusNotification(transaction: FullyPreparedTransaction): Promise<void> {\n    if (transaction.meta) {\n      const amount = this.tokenService.formatAmount(this.tokenTransfer, transaction.amount.toString(), false);\n      if (transaction.meta.verifier === 'google') {\n        this.messageService.emailNotify(transaction.meta.alias, amount);\n        this.lookupService.add(transaction.destination, transaction.meta.alias, 2);\n      } else if (transaction.meta.verifier === 'reddit') {\n        this.messageService.redditNotify(transaction.meta.alias, amount);\n        this.lookupService.add(transaction.destination, transaction.meta.alias, 3);\n      } else if (transaction.meta.verifier === 'twitter') {\n        this.messageService.twitterNotify(transaction.meta.twitterId, transaction.meta.alias, amount);\n        this.lookupService.add(transaction.destination, transaction.meta.alias, 4);\n      }\n    }\n  }\n  getUsername(): string {\n    if (this.walletService.wallet instanceof TorusWallet) {\n      return this.walletService.wallet.displayName();\n    } else if (this.activeAccount) {\n      const party = this.lookupService.resolve({\n        address: this.activeAccount.address\n      });\n      if (party?.name) {\n        return party.name;\n      }\n    }\n    return '';\n  }\n  getVerifier(): string {\n    if (this.walletService.wallet instanceof TorusWallet) {\n      return this.walletService.wallet.verifier;\n    } else {\n      return 'domain';\n    }\n  }\n  previewAttention(): string {\n    if (this.transactions[0]?.meta?.verifier) {\n      if (!this.tokenTransfer && new Big(this.totalAmount()).gt('50')) {\n        let recipientKind = '';\n        switch (this.transactions[0].meta.verifier) {\n          case 'google':\n            recipientKind = 'Google account email address';\n            break;\n          case 'reddit':\n            recipientKind = 'Reddit username';\n            break;\n          case 'twitter':\n            recipientKind = 'Twitter handle';\n            break;\n          default:\n            recipientKind = 'information';\n        }\n        return `Carefully review the recipient's ${recipientKind}! Spelling mistakes can lead to permanent loss of the transferred funds.`;\n      }\n    }\n    return '';\n  }\n  // Only Numbers with Decimals\n  sanitizeNumberInput(e, type = ''): void {\n    console.dir(this.token?.decimals, e.target);\n    if (['gas', 'storage'].includes(type) || (type === 'amount' && this.token?.decimals == 0)) {\n      e.target.value = e.target.value.replace(/[^0-9]/g, '');\n    } else {\n      e.target.value = e.target.value.replace(/[^0-9\\.]/g, '');\n      if ((e.target.value.match(/\\./g) || []).length > 1) {\n        const tmp = e.target.value.split('');\n        tmp.splice(tmp.lastIndexOf('.'), 1);\n        e.target.value = tmp.join('');\n      }\n      if (e.target.value.charAt(0) === '.') {\n        e.target.value = '0' + e.target.value;\n      }\n    }\n  }\n  closeModalAction(emit: string = null): void {\n    ModalComponent.currentModel.next({ name: '', data: null });\n    this.operationResponse.emit(emit);\n    this.reset();\n  }\n  reset(init = false): void {\n    if (!init) {\n      this.confirmRequest = null;\n      if (this.syncSub) {\n        this.syncSub.unsubscribe();\n        this.syncSub = undefined;\n      }\n    }\n    this.tokenTransfer = '';\n    this.transactions = [];\n    this.activeAccount = null;\n\n    this.customFee = '';\n    this.customGasLimit = '';\n    this.customStorageLimit = '';\n\n    this.token = null;\n    this.domain = undefined;\n\n    this.parameters = null;\n    this.batchParamIndex = 0;\n    this.micheline = null;\n    this.batchParameters = [];\n    this.parametersFormat = 0;\n\n    this.showFullBatch = false;\n    this.sendResponse = null;\n    this.ledgerError = '';\n    this.password = '';\n    this.pwdInvalid = '';\n    this.advancedForm = false;\n    this.customFee = '';\n    this.externalReq = false;\n  }\n}\n","<div class=\"flex-row dropdown\" [class.expanded]=\"isOpen\" (click)=\"toggleDropdown()\" [id]=\"ecmpId\">\n  <img class=\"button icon-torus\"\n    [src]=\"torusVerifier === '' ? 'assets/img/tezos-xtz-logo.svg' :  'assets/img/' + torusVerifier.toLowerCase() + '-logo.svg'\" />\n  <input readonly [(ngModel)]=\"torusVerifierName\" /><img class=\"button icon-db\"\n    src=\"../../../assets/img/down-arrow.svg\" />\n  <div class=\"flex-column dropdown-content\">\n    <a [class.selected]=\"torusVerifierName === 'Tezos Address'\"\n      (click)=\"torusVerifier = ''; torusVerifierName = 'Tezos Address';\">\n      Tezos Address\n    </a>\n    <a [class.selected]=\"torusVerifierName === 'Tezos Domains'\"\n      (click)=\"torusVerifier = 'domain'; torusVerifierName = 'Tezos Domains'\">\n      Tezos Domains\n    </a>\n    <ng-container *ngFor=\"let key of torusService.verifierMapKeys\">\n      <ng-container *ngIf=\"torusService.verifierMap[key].lookups\">\n        <a [class.selected]=\"torusVerifierName === torusService.verifierMap[key].name\"\n          (click)=\"torusVerifier = key; torusVerifierName = torusService.verifierMap[key].name\">\n          {{ torusService.verifierMap[key].name }}\n        </a>\n      </ng-container>\n    </ng-container>\n  </div>\n</div>","import { Component, Input, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { TorusService } from '../../../../services/torus/torus.service';\nimport { DropdownComponent } from '../dropdown.component';\n\n@Component({\n  selector: 'app-ui-dropdown-prepare-send',\n  templateUrl: './prepare-send-dropdown.component.html',\n  styleUrls: ['../../../../../scss/components/ui/dropdown/prepare-send-dropdown.component.scss']\n})\nexport class PrepareSendDropdownComponent extends DropdownComponent implements OnInit {\n  @Input() torusVerifierName = 'Tezos Address';\n  @Input() torusVerifier = '';\n\n  constructor(public router: Router, public torusService: TorusService) {\n    super();\n  }\n\n  ngOnInit(): void {}\n\n  toggleDropdown(): void {\n    this.dropdownResponse.emit({\n      torusVerifierName: this.torusVerifierName,\n      torusVerifier: this.torusVerifier\n    });\n    this.isOpen = !this.isOpen;\n  }\n}\n","<div *ngIf=\"isOpen\" class=\"flex-column kukai-modal\">\n  <div class=\"content\">\n    <div class=\"flex-row top\">\n      <div class=\"flex-row button close\" (click)=\"closeModalAction()\"><img class=\"x\"\n          src=\"../../../assets/img/close-btn-x.png\" /></div>\n      <h1 class=\"title\">{{ !isNFT ? getTitle() : 'Send Token'}}</h1>\n    </div>\n    <div class=\"flex-column prepare-send\">\n      <form autocomplete=\"off\">\n        <div *ngIf=\"!this.isMultipleDestinations\" class=\"flex-column top\">\n          <div *ngIf=\"isNFT\" class=\"flex-row token\">\n            <app-asset class=\"asset\" [priorityList]=\"['thumbnailAsset', 'displayAsset']\" [assets]=\"token\"></app-asset>\n            <span class=\"title\">{{token?.name}}</span>\n          </div>\n          <span *ngIf=\"!this.token || !(this.token?.isBooleanAmount || this.token?.balance == 1)\"\n            class=\"flex-row label title\">ENTER {{!isNFT ? 'AMOUNT' :\n            'QUANTITY'}}:</span>\n          <div *ngIf=\"!this.token || !(this.token?.isBooleanAmount || this.token?.balance == 1)\"\n            class=\"flex-row amount\">\n            <input #amountInput inputmode=\"decimal\" name=\"none\" [placeholder]=\"token?.decimals == 0 ? '0' : '0.00'\" [(ngModel)]=\"amount\"\n              name=\"none\" (mousedown)=\"sendMax = false; default\"\n              (input)=\"sanitizeNumberInput($event, 'amount'); amountChange()\"\n              (paste)=\"sanitizeNumberInput($event, 'amount')\" (change)=\"amountChange()\"\n              [disabled]=\"isMultipleDestinations\" />\n            <button *ngIf=\"!this.isMultipleDestinations\" tabindex=-1 class=\"small\" [class.max]=\"sendMax\"\n              (click)=\"sendEntireBalance($event)\">MAX</button>\n          </div>\n          <div class=\"flex-row fees\">\n            <span *ngIf=\"!tokenTransfer\" class=\"amount-usd\">\n              <span>USD:&nbsp;</span>{{'$' + (getTotalAmount() * walletService.wallet.XTZrate | number:'1.2-2' ||\n              '0.00')\n              }}\n            </span>\n            <span class=\"amount-fee\"><span>FEE{{ getTotalBurn() > 0 ? ' & STORAGE COST' : ''}}:&nbsp;</span><img\n                *ngIf=\"simSemaphore\" src=\"../../../../assets/img/feeLoader.gif\">{{ getTotalCost() != 0 ? (getTotalCost()\n              |\n              number:'1.0-6') + ' tez' : '--'\n              }}</span>\n          </div>\n        </div>\n      </form>\n      <form class=\"to\" autocomplete=\"off\">\n        <div *ngIf=\"!this.isMultipleDestinations\" class=\"flex-column\">\n          <span class=\"label title\">SEND TO:</span>\n          <div class=\"address\">\n            <div *ngIf=\"!toPkh\" class=\"flex-column tool\" id=\"paste\" (click)=\"pasteToPkh()\">\n              <img src=\"assets/img/paste.svg\" />\n            </div>\n            <app-qr-scanner *ngIf=\"!toPkh\" [override]=\"true\" class=\"flex-column tool\" id=\"qr\" (scanResponse)=\"handleScanResponse($event)\"></app-qr-scanner>\n            <app-ui-dropdown-prepare-send [torusVerifier]=\"torusVerifier\" [torusVerifierName]=\"torusVerifierName\"\n              (dropdownResponse)=\"dropdownResponse($event)\"></app-ui-dropdown-prepare-send>\n            <input type=\"text\" placeholder=\"Recipient\" class=\"text\" (input)=\"updateDefaultValues($event)\"\n              (change)=\"toPkhChange()\" name=\"toPkh\" [(ngModel)]=\"toPkh\">\n          </div>\n          <div class=\"flex-row address-display\">\n            <span [style.display]=\"!torusPendingLookup && torusLookupAddress ? '' : 'none'\">{{ torusLookupAddress\n              }}</span><span [style.display]=\"torusPendingLookup ? '' : 'none'\"><img\n                src=\"../../../../assets/img/feeLoader.gif\"></span>\n          </div>\n        </div>\n        <div *ngIf=\"this.isMultipleDestinations\" class=\"flex-column\">\n          <label class=\"label\">Addresses and amounts <span class=\"batchInfo\">{{ batchSpace() }}</span></label>\n          <textarea name=\"none\" type=\"text\" class=\"text\" (input)=\"updateDefaultValues()\" rows=\"3\"\n            [(ngModel)]=\"toMultipleDestinationsString\" name=\"none\"\n            placeholder=\"address1 amount1 ; &#10;address2 amount2 ; &#10;address3 ...\"></textarea>\n        </div>\n        <div class=\"flex-column\">\n          <app-ui-toggle-advanced style=\"width: calc(100% - 1.5em);margin: 1rem 0;\" [default]=\"false\"\n            (stateChange)=\"advancedForm = $event\"></app-ui-toggle-advanced>\n          <button *ngIf=\"!isNFT && advancedForm\" class=\"small multiple-destinations\" (click)=\"toggleDestination()\">\n            <span>\n              <ng-container *ngIf=\"!this.isMultipleDestinations\">Multiple transactions</ng-container>\n              <ng-container *ngIf=\"this.isMultipleDestinations\">Single transaction</ng-container>\n            </span>\n          </button>\n        </div>\n      </form>\n      <form autocomplete=\"off\" *ngIf=\"advancedForm\" class=\"flex-column advanced-form\">\n        <div class=\"flex-row\">\n          <div class=\"flex-column\">\n            <label class=\"label\">Gas limit</label>\n            <input inputmode=\"decimal\" name=\"none\" type=\"text\" class=\"text\" (input)=\"sanitizeNumberInput($event, 'gas')\"\n              (paste)=\"sanitizeNumberInput($event, 'gas')\" placeholder={{this.defaultTransactionParams.gas.toString()}}\n              [(ngModel)]=\"customGasLimit\" name=\"none\">\n          </div>\n          <div class=\"flex-column\">\n            <label class=\"label\">Fee</label>\n            <input inputmode=\"decimal\" name=\"none\" type=\"text\" (input)=\"sanitizeNumberInput($event); updateMaxAmount()\"\n              (paste)=\"sanitizeNumberInput($event); updateMaxAmount()\" class=\"text\"\n              placeholder={{this.defaultTransactionParams.fee.toString()}} [(ngModel)]=\"customFee\" name=\"none\">\n          </div>\n        </div>\n        <div class=\"flex-row\">\n          <div class=\"flex-column\">\n            <label class=\"label\">Storage limit</label>\n            <input inputmode=\"decimal\" name=\"none\" type=\"text\" (input)=\"sanitizeNumberInput($event, 'storage'); updateMaxAmount()\"\n              (paste)=\"sanitizeNumberInput($event, 'storage'); updateMaxAmount()\" class=\"text\"\n              placeholder={{this.defaultTransactionParams.storage.toString()}} [(ngModel)]=\"customStorageLimit\"\n              name=\"none\">\n          </div>\n          <div class=\"flex-column\">\n            <label class=\"label\">Max storage cost</label>\n            <input inputmode=\"decimal\" name=\"none\" type=\"text\" class=\"text read-only\" [value]=\"burnAmount() ? burnAmount() : '0 tez'\"\n              tabindex=-1 readonly>\n          </div>\n        </div>\n      </form>\n      <br />\n      <div class=\"flex-column bottom\">\n        <div class=\"seperator\"></div>\n        <span *ngIf=\"formInvalid !== ''\" class=\"label danger\">\n          {{ formInvalid }}\n        </span>\n        <button class=\"confirm\" (click)=\"preview()\">Preview</button>\n      </div>\n    </div>\n  </div>\n</div>","import { Component, OnInit, Input, ViewChild, ElementRef, Output, EventEmitter, OnChanges, SimpleChanges } from '@angular/core';\nimport { TokenService } from '../../../../services/token/token.service';\nimport { EstimateService } from '../../../../services/estimate/estimate.service';\nimport { DefaultTransactionParams } from '../../../../interfaces';\nimport { FullyPreparedTransaction, PartiallyPreparedTransaction, PrepareRequest } from '../../../misc/send/interfaces';\nimport { Account, ImplicitAccount, OriginatedAccount } from '../../../../services/wallet/wallet';\nimport { TorusService } from '../../../../services/torus/torus.service';\nimport Big from 'big.js';\nimport { TranslateService } from '@ngx-translate/core';\nimport { WalletService } from '../../../../services/wallet/wallet.service';\nimport { InputValidationService } from '../../../../services/input-validation/input-validation.service';\nimport assert from 'assert';\nimport { TezosDomainsService } from '../../../../services/tezos-domains/tezos-domains.service';\nimport { ModalComponent } from '../../modal.component';\nimport { TokenBalancesService } from '../../../../services/token-balances/token-balances.service';\n\nconst zeroTxParams: DefaultTransactionParams = {\n  gas: 0,\n  storage: 0,\n  fee: 0,\n  burn: 0\n};\n@Component({\n  selector: 'app-prepare-send',\n  templateUrl: './prepare-send.component.html',\n  styleUrls: ['../../../../../scss/components/modals/modal.scss']\n})\nexport class PrepareSendComponent extends ModalComponent implements OnInit, OnChanges {\n  @Input() prepareRequest: PrepareRequest = null;\n  @Output() prepareResponse = new EventEmitter();\n  @ViewChild('destType') public destType: ElementRef;\n  activeAccount: Account = null;\n  tokenTransfer: string = null;\n  token = null;\n  costPerByte: string = this.estimateService.costPerByte;\n\n  defaultTransactionParams: DefaultTransactionParams = zeroTxParams;\n  active = false;\n  isMultipleDestinations = false;\n  advancedForm = false;\n  hideAmount = false;\n  simSemaphore = 0;\n  isNFT = false;\n  accountDropdownIsOpen = false;\n\n  torusVerifierName = 'Tezos Address';\n  torusVerifier = '';\n  torusLookupId = '';\n  torusLookupAddress = '';\n  torusTwitterId = '';\n  torusPendingLookup = false;\n\n  transactions = [];\n  toMultipleDestinationsString = '';\n\n  formInvalid = '';\n  latestSimError = '';\n  prevEquiClass = '';\n\n  sendMax = null;\n\n  amount = '';\n  toPkh = '';\n  customFee = '';\n  customGasLimit = '';\n  customStorageLimit = '';\n\n  name = 'prepare-send';\n\n  constructor(\n    private tokenService: TokenService,\n    private estimateService: EstimateService,\n    public torusService: TorusService,\n    private translate: TranslateService,\n    private walletService: WalletService,\n    public tezosDomains: TezosDomainsService,\n    private inputValidationService: InputValidationService,\n    private tokenBalancesService: TokenBalancesService\n  ) {\n    super();\n  }\n\n  ngOnInit(): void {}\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes?.prepareRequest?.currentValue) {\n      this.reset(true);\n      this.tokenTransfer = changes.prepareRequest.currentValue.tokenTransfer ?? null;\n      this.token = this.tokenService.getAsset(this.tokenTransfer);\n      this.isNFT = this.tokenBalancesService.isNFT(this.token);\n      this.activeAccount = changes.prepareRequest.currentValue.account;\n      this.amount = !this.token || !(this.token?.isBooleanAmount || this.token?.balance == 1) ? '' : '1';\n      if (!this.isOpen) {\n        this.openModal();\n      }\n    }\n  }\n  openModal() {\n    ModalComponent.currentModel.next({ name: this.name, data: null });\n    this.estimateService.preLoadData(this.activeAccount.pkh, this.activeAccount.pk);\n  }\n  closeModalAction() {\n    this.prepareResponse.emit(null);\n    ModalComponent.currentModel.next({ name: '', data: null });\n    this.reset();\n  }\n\n  reset(init = false) {\n    if (!init) {\n      this.prepareRequest = null;\n    }\n\n    this.defaultTransactionParams = zeroTxParams;\n    this.active = false;\n    this.isMultipleDestinations = false;\n    this.advancedForm = false;\n    this.hideAmount = false;\n    this.simSemaphore = 0;\n\n    this.tokenTransfer = null;\n    this.token = null;\n    this.isNFT = null;\n    this.accountDropdownIsOpen = false;\n\n    this.transactions = [];\n    this.toMultipleDestinationsString = '';\n\n    this.formInvalid = '';\n    this.latestSimError = '';\n    this.prevEquiClass = '';\n    this.torusVerifierName = 'Tezos Address';\n    this.torusVerifier = '';\n\n    this.sendMax = null;\n\n    this.amount = '';\n    this.toPkh = '';\n    this.customFee = '';\n    this.customGasLimit = '';\n    this.customStorageLimit = '';\n    this.clearTorus();\n  }\n  getTitle(): string {\n    return `Send ${this.getAssetName(true)}`;\n  }\n  getAssetName(short = true): string {\n    if (this.tokenTransfer) {\n      return this.token?.symbol ?? this.token?.name ?? 'Unknown';\n    } else {\n      return !this.prepareRequest.symbol ? 'tez' : this.prepareRequest.symbol;\n    }\n  }\n  getTotalAmount(): string {\n    let totalSent = Big(0);\n    for (const tx of this.transactions) {\n      totalSent = totalSent.add(tx.amount);\n    }\n    return totalSent.toFixed();\n  }\n  getTotalCost(display: boolean = false): number | string {\n    const totalFee = Big(this.getTotalFee()).plus(Big(this.getTotalBurn())).toString();\n    if (display && totalFee === '0') {\n      return '-';\n    }\n    return Number(totalFee);\n  }\n  getTotalFee(): number {\n    if (this.customFee !== '' && Number(this.customFee)) {\n      return Number(this.customFee);\n    }\n    return Number(this.defaultTransactionParams.fee);\n  }\n  getTotalBurn(): number {\n    if (this.customStorageLimit !== '' && Number(this.customStorageLimit)) {\n      return Number(Big(this.customStorageLimit).mul(this.transactions.length).times(this.costPerByte).div(1000000).toString());\n    }\n    return this.defaultTransactionParams.burn;\n  }\n  burnAmount(): string {\n    const burn = this.customStorageLimit ? Number(Big(this.customStorageLimit).times(this.costPerByte).div(1000000)) : this.defaultTransactionParams.burn;\n    if (burn) {\n      return burn + ' tez';\n    }\n    return '';\n  }\n  amountChange(): void {\n    this.estimateFees();\n  }\n  async estimateFees(): Promise<void> {\n    console.log('estimate..');\n    const prevSimError = this.latestSimError;\n    this.latestSimError = '';\n    let txs: PartiallyPreparedTransaction[] = [];\n    try {\n      txs = this.getMinimalPreparedTxs();\n      this.transactions = txs;\n    } catch (e) {\n      console.log(e);\n    }\n    if (txs?.length) {\n      const equiClass = this.equiClass(this.activeAccount.address, txs);\n      if (this.prevEquiClass !== equiClass || (this.tokenTransfer && this.checkBalance())) {\n        this.latestSimError = '';\n        this.prevEquiClass = equiClass;\n        this.simSemaphore++; // Put lock on 'Preview and 'Send max'\n        const callback = (res) => {\n          if (res) {\n            if (res.error) {\n              this.formInvalid = res.error;\n              this.latestSimError = res.error;\n            } else {\n              this.defaultTransactionParams = res;\n              this.formInvalid = '';\n              this.latestSimError = '';\n              this.updateMaxAmount();\n            }\n          } else {\n            console.log('no res');\n          }\n          this.simSemaphore--;\n        };\n        this.estimateService.estimateTransactions(JSON.parse(JSON.stringify(txs)), this.activeAccount.address, this.tokenTransfer, callback);\n      } else {\n        this.latestSimError = prevSimError;\n        this.formInvalid = this.latestSimError;\n      }\n    } else {\n      this.latestSimError = prevSimError;\n      if (this.isMultipleDestinations ? !this.toMultipleDestinationsString : !this.toPkh) {\n        this.defaultTransactionParams = zeroTxParams;\n        this.updateMaxAmount();\n        this.prevEquiClass = '';\n      }\n    }\n  }\n  equiClass(sender: string, transactions: any): string {\n    let data = sender;\n    if (this.tokenTransfer) {\n      data += transactions[0].to + transactions[0].amount.toString();\n    } else {\n      for (const tx of transactions) {\n        data += tx.to;\n      }\n    }\n    return data;\n  }\n  /*\n    1. input validation\n      strict checks that\n    2. create basic transaction array\n  */\n  sanitizeNumberInput(e, type = ''): void {\n    console.dir(this.token?.decimals, e.target);\n    if (['gas', 'storage'].includes(type) || (type === 'amount' && this.token?.decimals == 0)) {\n      e.target.value = e.target.value.replace(/[^0-9]/g, '');\n    } else {\n      e.target.value = e.target.value.replace(/[^0-9\\.]/g, '');\n      if ((e.target.value.match(/\\./g) || []).length > 1) {\n        const tmp = e.target.value.split('');\n        tmp.splice(tmp.lastIndexOf('.'), 1);\n        e.target.value = tmp.join('');\n      }\n      if (e.target.value.charAt(0) === '.') {\n        e.target.value = '0' + e.target.value;\n      }\n    }\n  }\n  updateDefaultValues(ev?: any): void {\n    const val = ev?.target.value.trim();\n    if (val && !this.torusVerifier) {\n      if (this.inputValidationService.twitterAccount(val)) {\n        this.torusVerifier = 'twitter';\n        this.torusVerifierName = 'Twitter';\n      } else if (this.inputValidationService.tezosDomain(val)) {\n        this.torusVerifier = 'domain';\n        this.torusVerifierName = 'Tezos Domains';\n      }\n      ev.target.value = ev.target.value.trim();\n    }\n\n    if (!this.torusVerifier) {\n      this.estimateFees();\n      if (this.isMultipleDestinations) {\n        this.amount = this.getTotalAmount();\n      }\n    }\n  }\n  toPkhChange(): void {\n    if (this.torusVerifier) {\n      this.torusLookup();\n    }\n  }\n  // Will return PartiallyPreparedTransaction or throw an error\n  getMinimalPreparedTxs(finalCheck = false): PartiallyPreparedTransaction[] {\n    if (!this.isMultipleDestinations) {\n      if (this.torusVerifier) {\n        assert(!this.invalidTorusAccount(), this.invalidTorusAccount());\n        assert(this.torusReady(), 'Pending lookup');\n        this.checkTx(this.torusLookupAddress, this.amount, finalCheck);\n        const meta: any = {\n          verifier: this.torusVerifier,\n          alias: this.torusLookupId\n        };\n        if (this.torusTwitterId) {\n          meta.twitterId = this.torusTwitterId;\n        }\n        return [\n          {\n            kind: 'transaction',\n            destination: this.torusLookupAddress,\n            amount: this.amount ? this.amount : '0',\n            meta\n          }\n        ];\n      } else {\n        this.checkTx(this.toPkh, this.amount, finalCheck);\n      }\n      return [\n        {\n          kind: 'transaction',\n          destination: this.toPkh,\n          amount: this.amount ? this.amount : '0'\n        }\n      ];\n      //this.checkGasStorageFee();\n    } else {\n      return this.getBatch(finalCheck);\n      //assert(false, 'not supported yet')\n    }\n  }\n  checkTx(toPkh: string, amount: string, finalCheck: boolean): void {\n    assert(\n      this.torusVerifier || !(!this.inputValidationService.address(toPkh) || toPkh === this.activeAccount.address),\n      this.translate.instant('SENDCOMPONENT.INVALIDRECEIVERADDRESS')\n    );\n    assert(\n      !this.torusVerifier ||\n        !(!this.inputValidationService.torusAccount(this.toPkh, this.torusVerifier) || this.torusLookupAddress === this.activeAccount.address),\n      'Invalid recipient'\n    );\n    assert(\n      !(\n        !this.inputValidationService.amount(amount, this.token ? this.token.decimals : undefined) ||\n        (finalCheck && (amount === '0' || amount === '') && toPkh.slice(0, 3) !== 'KT1')\n      ),\n      this.translate.instant('SENDCOMPONENT.INVALIDAMOUNT')\n    );\n  }\n  getBatch(finalCheck = false): PartiallyPreparedTransaction[] {\n    const txs: PartiallyPreparedTransaction[] = this.toMultipleDestinationsString\n      .trim()\n      .split(';')\n      .map((row, i) => {\n        if (row.trim()) {\n          const cols = row\n            .trim()\n            .split(' ')\n            .map((col) => col.trim())\n            .filter((col) => col);\n          assert(cols?.length === 2, `Transaction ${i + 1} has invalid number of arguments. Expected 2, but got ${cols?.length}.`);\n          assert(this.inputValidationService.address(cols[0]), `Transaction ${i + 1} contains an invalid destination.`);\n          assert(this.inputValidationService.amount(cols[1]), `Transaction ${i + 1} contains an invalid amount.`);\n          this.checkTx(cols[0], cols[1], finalCheck);\n          const tx: PartiallyPreparedTransaction = {\n            kind: 'transaction',\n            destination: cols[0],\n            amount: cols[1]\n          };\n          return tx;\n        }\n      })\n      .filter((row) => row);\n    return txs;\n  }\n  getFullyPreparedTxs(): FullyPreparedTransaction[] {\n    assert(!this.simSemaphore && (!this.torusVerifier || this.torusReady()), this.formInvalid ? this.formInvalid : 'Awaiting request');\n    const minimalTxs = this.getMinimalPreparedTxs(true);\n    this.transactions = minimalTxs;\n    assert(this.inputValidationService.fee(this.customFee), 'Invalid fee');\n    assert(this.inputValidationService.gas(this.customGasLimit), 'Invalid gas limit');\n    assert(this.inputValidationService.gas(this.customStorageLimit), 'Invalid storage limit');\n    assert(!this.checkBalance(), this.checkBalance());\n    assert(minimalTxs.length === this.defaultTransactionParams.customLimits?.length, 'Simulation error');\n    return this.opsWithCustomLimits();\n  }\n  opsWithCustomLimits(): FullyPreparedTransaction[] {\n    let extraGas: number = 0;\n    let extraStorage: number = 0;\n    if (this.customGasLimit && this.customGasLimit !== this.defaultTransactionParams.gas.toString()) {\n      extraGas = Number(this.customGasLimit) - this.defaultTransactionParams.gas;\n    }\n    if (this.customStorageLimit && this.customStorageLimit !== this.defaultTransactionParams.storage.toString()) {\n      extraStorage = Number(this.customStorageLimit) - this.defaultTransactionParams.storage;\n    }\n    const extraGasPerOp: number = Math.round(extraGas / this.transactions.length);\n    const extraStoragePerOp: number = Math.round(extraStorage / this.transactions.length);\n    const txs: FullyPreparedTransaction[] = [];\n    for (let i = 0; i < this.transactions.length; i++) {\n      let gasLimit: string = extraGas\n        ? (Number(this.defaultTransactionParams.customLimits[i].gasLimit) + extraGasPerOp).toString()\n        : this.defaultTransactionParams.customLimits[i].gasLimit.toString();\n      let storageLimit = extraStorage\n        ? (Number(this.defaultTransactionParams.customLimits[i].storageLimit) + extraStoragePerOp).toString()\n        : this.defaultTransactionParams.customLimits[i].storageLimit.toString();\n      gasLimit = !(Number(gasLimit) < 0) ? gasLimit : '0';\n      storageLimit = !(Number(storageLimit) < 0) ? storageLimit : '0';\n      const fullyTx: FullyPreparedTransaction = {\n        ...this.transactions[i],\n        fee: i === this.transactions.length - 1 ? this.getTotalFee().toString() : '0',\n        gasLimit,\n        storageLimit\n      };\n      txs.push(fullyTx);\n    }\n    return txs;\n  }\n  invalidTorusAccount(): string {\n    const torusError = {\n      google: 'Invalid Google email address',\n      reddit: 'Invalid Reddit username',\n      twitter: 'Invalid Twitter username',\n      domain: 'Tezos Domains must be valid url',\n      email: 'Invalid email address'\n    };\n    if (!this.inputValidationService.torusAccount(this.toPkh, this.torusVerifier) && this.toPkh !== '') {\n      return torusError[this.torusVerifier];\n    }\n  }\n  sendEntireBalance(event: Event): void {\n    event.stopPropagation();\n    this.sendMax = true;\n    this.checkMaxAmount();\n    this.amountChange();\n  }\n  toggleDestination(): void {\n    this.defaultTransactionParams = zeroTxParams;\n    this.sendMax = false;\n    this.prevEquiClass = '';\n    this.isMultipleDestinations = !this.isMultipleDestinations;\n    this.transactions = [];\n    this.toMultipleDestinationsString = '';\n    this.formInvalid = '';\n    this.toPkh = '';\n    this.amount = '';\n    this.customFee = '';\n    this.customGasLimit = '';\n    this.customStorageLimit = '';\n    this.clearTorus();\n    this.updateDefaultValues();\n  }\n  clearTorus(): void {\n    this.torusVerifier = '';\n    this.torusPendingLookup = false;\n    this.torusLookupAddress = '';\n    this.torusLookupId = '';\n    this.torusTwitterId = '';\n  }\n  checkMaxAmount(): void {\n    if (this.sendMax) {\n      const max = this.maxToSend(this.activeAccount);\n      if (max.length && max.slice(0, 1) !== '-') {\n        this.amount = max;\n      } else {\n        this.amount = '0';\n      }\n    }\n  }\n  checkBalance(): string {\n    if (this.transactions.length > 0) {\n      if (this.activeAccount && this.activeAccount instanceof ImplicitAccount) {\n        const max = Big(this.maxToSend(this.activeAccount)).plus(this.tokenTransfer ? 0 : 0.000001);\n        let amount = Big(0);\n        for (const tx of this.transactions) {\n          amount = amount.plus(Big(tx.amount));\n        }\n        if (amount.gt(max)) {\n          return this.translate.instant('SENDCOMPONENT.TOOHIGHFEEORAMOUNT');\n        }\n      } else if (this.activeAccount && this.activeAccount instanceof OriginatedAccount) {\n        const maxKt = Big(this.maxToSend(this.activeAccount));\n        const maxTz = Big(this.maxToSend(this.walletService.wallet.getImplicitAccount(this.activeAccount.pkh))).plus(0.000001);\n        let amount = Big(0);\n        for (const tx of this.transactions) {\n          amount = amount.plus(Big(tx.amount));\n        }\n        if (amount.gt(maxKt)) {\n          return this.translate.instant('SENDCOMPONENT.TOOHIGHAMOUNT');\n        } else if (new Big('0').gt(maxTz)) {\n          return this.translate.instant('SENDCOMPONENT.TOOHIGHFEE');\n        }\n      }\n    }\n    return '';\n  }\n  updateMaxAmount(): void {\n    if (this.sendMax) {\n      const max = this.maxToSend(this.activeAccount);\n      let maxAmount = '0';\n      if (max.length && max.slice(0, 1) !== '-') {\n        maxAmount = max;\n      }\n      if (this.amount !== maxAmount) {\n        this.amount = maxAmount;\n      }\n    }\n  }\n  maxToSend(account: Account): string {\n    if (account && account instanceof ImplicitAccount && !this.tokenTransfer) {\n      let accountBalance = Big(account.balanceXTZ).div(1000000);\n      accountBalance = accountBalance.minus(this.customFee && Number(this.customFee) ? Number(this.customFee) : this.defaultTransactionParams.fee);\n      if (!this.isMultipleDestinations) {\n        accountBalance = accountBalance.minus(\n          this.customStorageLimit && Number(this.customStorageLimit)\n            ? Number(Big(this.customStorageLimit).times(this.costPerByte).div('1000000'))\n            : this.defaultTransactionParams.burn\n        );\n      } else {\n        accountBalance = accountBalance.minus(this.defaultTransactionParams.burn);\n      }\n      accountBalance = accountBalance.minus(0.000001); // dust\n      return accountBalance.toString();\n    } else {\n      if (this.tokenTransfer) {\n        if (account instanceof ImplicitAccount) {\n          return Big(account.getTokenBalance(this.tokenTransfer))\n            .div(10 ** this.token.decimals)\n            .toFixed();\n        }\n      } else {\n        return Big(account.balanceXTZ).div(1000000).toString();\n      }\n    }\n  }\n\n  async verifierChange(): Promise<void> {\n    this.torusLookupAddress = '';\n    if (this.torusVerifier) {\n      this.torusLookup();\n    } else {\n      this.formInvalid = '';\n      this.estimateFees();\n    }\n    // this.validateReceiverAddress();\n    // resimulate?\n  }\n  async torusLookup(): Promise<any> {\n    if (!this.torusService.verifierMapKeys.includes(this.torusVerifier) && this.torusVerifier !== 'domain') {\n      this.formInvalid = 'Invalid verifier';\n    } else if (this.invalidTorusAccount()) {\n      this.formInvalid = this.invalidTorusAccount();\n    } else if (this.toPkh) {\n      this.torusPendingLookup = true;\n      this.torusLookupId = this.toPkh;\n\n      const { pkh, twitterId } =\n        this.torusVerifier === 'domain'\n          ? await this.tezosDomains\n              .getAddressFromDomain(this.toPkh)\n              .then((ans) => {\n                if (ans?.pkh === '') {\n                  this.formInvalid = 'Could not find the domain';\n                }\n                return ans;\n              })\n              .catch((e) => {\n                console.error(e);\n                this.formInvalid = e;\n                return '';\n              })\n          : await this.torusService.lookupPkh(this.torusVerifier, this.toPkh).catch((e) => {\n              console.error(e);\n              this.formInvalid = e;\n              return '';\n            });\n\n      this.torusPendingLookup = false;\n      if (pkh) {\n        this.torusLookupAddress = pkh;\n        this.torusTwitterId = twitterId ? twitterId : '';\n        this.estimateFees();\n      } else {\n        this.torusLookupAddress = '';\n      }\n    }\n  }\n  batchSpace(txs = 0): boolean | string {\n    if (this.isMultipleDestinations && this.defaultTransactionParams.customLimits && this.defaultTransactionParams.customLimits.length) {\n      const numberOfTxs = txs ? txs : this.defaultTransactionParams.customLimits.length;\n      const txsLimit = 294 + (this.defaultTransactionParams.reveal ? 0 : 2); // Max transactions in a batch is 296 (294 with a reveal)\n      return !txs ? this.numberWithCommas(numberOfTxs + ' / ' + txsLimit) : numberOfTxs <= txsLimit;\n    }\n    return !txs ? '' : true;\n  }\n  numberWithCommas(x: string): string {\n    const parts: Array<string> = x.split('.');\n    parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n    return parts.join('.');\n  }\n  torusReady(): boolean {\n    return !this.torusPendingLookup && this.torusLookupAddress !== '';\n  }\n  preview(): void {\n    let txs: FullyPreparedTransaction[];\n    try {\n      txs = this.getFullyPreparedTxs();\n      this.prepareResponse.emit(txs);\n      ModalComponent.currentModel.next({\n        name: 'confirm-send',\n        data: {\n          customFee: this.customFee,\n          customGasLimit: this.customGasLimit,\n          customStorageLimit: this.customStorageLimit\n        }\n      });\n      this.reset();\n    } catch (e) {\n      this.formInvalid = e.message;\n    }\n  }\n  dynSize(): string {\n    const size = this.amount ? this.amount.length : 0;\n    if (size < 7) {\n      return '5';\n    } else if (size < 9) {\n      return '4';\n    } else if (size < 12) {\n      return '3';\n    } else if (size < 17) {\n      return '2';\n    }\n    return '1.5';\n  }\n\n  dropdownResponse(data): void {\n    if (data?.torusVerifier !== this.torusVerifier) {\n      console.log(this.torusVerifier + ' -> ' + data.torusVerifier);\n      this.torusVerifier = data.torusVerifier;\n      this.torusVerifierName = data.torusVerifierName;\n      this.verifierChange();\n    }\n  }\n  pasteToPkh(): void {\n    navigator.clipboard.readText().then((clipText) => {\n      this.toPkh = clipText;\n      this.updateDefaultValues({ target: { value: this.toPkh } });\n    });\n  }\n  handleScanResponse(ev): void {\n    this.toPkh = ev?.pkh || '';\n    this.updateDefaultValues({ target: { value: this.toPkh } });\n  }\n}\n","<div *ngIf=\"active && template === 'gap'\" class=\"flex-column kukai-modal gap\">\n  <div class=\"content\">\n    <div class=\"flex-column top\">\n      <img class=\"flex-row button close\" (click)=\"cancel()\" src=\"../../../../assets/img/add-minterpop.svg\" />\n      <h1 class=\"title\">Confirmation</h1>\n    </div>\n    <div class=\"seperator\"></div>\n    <div class=\"flex-column confirm-send\">\n        <div class=\"asset-name\">{{ templateRequest.template.descriptions[0].text }}</div>\n        <div class=\"flex-row transaction\">\n          <div class=\"flex-column left\">\n            <span class=\"default-text\">Send</span>\n            <span class=\"default-text amount\">{{ (templateRequest.partialOps[0].amount | number:'1.0-6') + ' tez'\n              }}</span>\n            <span class=\"default-text\">USD&nbsp;{{'$' +\n              (templateRequest.partialOps[0].amount\n              *\n              walletService.wallet.XTZrate | number:'1.0-2')\n              }}</span>\n            <span class=\"default-text\">From:</span>\n            <div class=\"flex-row torus\" *ngIf=\"this.walletService.wallet.verifier\">\n              <img class=\"icon\" src=\"../../../assets/img/{{ this.walletService.wallet.verifier }}-logo.svg\">\n              <div class=\"flex-column\">\n                <span class=\"name\">{{ this.walletService.wallet.displayName() }}</span><span class=\"address\">{{\n                  activeAccount.address }}</span>\n              </div>\n            </div>\n            <span *ngIf=\"!this.walletService.wallet.verifier\" class=\"default-text single-to\">{{ activeAccount.address\n              }}</span>\n          </div>\n          <div *ngIf=\"templateRequest.template.descriptions[0]?.imgUrl\" class=\"flex-column right\">\n            <img class=\"token-image\" [src]=\"templateRequest.template.descriptions[0]?.imgUrl\" />\n          </div>\n        </div>\n      <br />\n      <div class=\"seperator\"></div>\n      <div class=\"flex-column bottom\">\n        <div class=\"flex-row default-text more-info\" [class]=\"showMore ? 'open' : ''\" (click)=\"toggle()\">{{ !showMore ?\n          'Show More' : 'Show Less' }}<img src=\"../../../../assets/img/gap-arrow.svg\"></div>\n        <div *ngIf=\"showMore\" class=\"info\">\n          <div class=\"flex-column\">\n            <div class=\"default-text\">\n              Send to:\n            </div>\n            <div class=\"default-text\">\n              {{ templateRequest.ops[0].destination }}\n            </div>\n          </div>\n          <div class=\"seperator\"></div>\n          <div class=\"flex-column\">\n            <div class=\"flex-row\">\n              <div class=\"default-text\">\n                Fee\n              </div>\n              <div class=\"default-text\">\n                {{ templateRequest.fee.network + ' tez' }}\n              </div>\n            </div>\n            <div class=\"flex-row\">\n              <div class=\"default-text\">\n                Max Storage Cost\n              </div>\n              <div class=\"default-text\">\n                {{ templateRequest.fee.storage + ' tez' }}\n              </div>\n            </div>\n          </div>\n          <div class=\"seperator\"></div>\n          <div class=\"flex-column\">\n            <div class=\"flex-row\">\n              <div class=\"default-text\">\n                Contract Call\n              </div>\n              <div class=\"default-text\">\n                {{ templateRequest.ops[0]?.parameters?.entrypoint }}\n              </div>\n            </div>\n            <br/>\n          </div>\n        </div>\n      </div>\n      <br />\n      <div class=\"flex-row buttons\">\n        <button (click)=\"approve()\" [disabled]=\"templateRequest?.partialOps?.length !== 1\">\n          <ng-container *ngIf=\"templateRequest.template.button; else defaultButtonText\">\n            {{templateRequest.template.button}}</ng-container>\n          <ng-template #defaultButtonText>PURCHASE</ng-template>\n        </button>\n      </div>\n      <div class=\"footer\">\n        <span>Powered by</span><img class=\"logo\" src=\"../../../../assets/img/header-logo-grey.svg\">\n      </div>\n    </div>\n  </div>\n</div>\n\n<div *ngIf=\"active && template === 'minterpop'\" class=\"flex-column kukai-modal\">\n  <div class=\"content\">\n    <div class=\"flex-column top\">\n      <img class=\"flex-row button close\" (click)=\"cancel()\" src=\"../../../../assets/img/add-minterpop.svg\" />\n      <h1 class=\"title\">Confirmation</h1>\n    </div>\n    <div class=\"seperator\"></div>\n    <div class=\"flex-column confirm-send\">\n        <div class=\"asset-name\">{{ templateRequest.template.descriptions[0].text }}</div>\n        <div class=\"flex-row transaction\">\n          <div class=\"flex-column left\">\n            <span class=\"default-text\">Send</span>\n            <span class=\"default-text amount\">{{ (templateRequest.partialOps[0].amount | number:'1.0-6') + ' tez'\n              }}</span>\n            <span class=\"default-text\">USD&nbsp;{{'$' +\n              (templateRequest.partialOps[0].amount\n              *\n              walletService.wallet.XTZrate | number:'1.0-2')\n              }}</span>\n            <span class=\"default-text\">From:</span>\n            <div class=\"flex-row torus\" *ngIf=\"this.walletService.wallet.verifier\">\n              <img class=\"icon\" src=\"../../../assets/img/{{ this.walletService.wallet.verifier }}-logo.svg\">\n              <div class=\"flex-column\">\n                <span class=\"name\">{{ this.walletService.wallet.displayName() }}</span><span class=\"address\">{{\n                  activeAccount.address }}</span>\n              </div>\n            </div>\n            <span *ngIf=\"!this.walletService.wallet.verifier\" class=\"default-text single-to\">{{ activeAccount.address\n              }}</span>\n          </div>\n          <div *ngIf=\"templateRequest.template.descriptions[0]?.imgUrl\" class=\"flex-column right\">\n            <img class=\"token-image\" [src]=\"templateRequest.template.descriptions[0]?.imgUrl\" />\n          </div>\n        </div>\n      <br />\n      <div class=\"seperator\"></div>\n      <div class=\"flex-column bottom\">\n        <div class=\"flex-row default-text more-info\" [class]=\"showMore ? 'open' : ''\" (click)=\"toggle()\">{{ !showMore ?\n          'Show More' : 'Show Less' }}<img src=\"../../../../assets/img/dropdown-minterpop.svg\"></div>\n        <div *ngIf=\"showMore\" class=\"info\">\n          <div class=\"flex-column\">\n            <div class=\"default-text\">\n              Send to:\n            </div>\n            <div class=\"default-text\">\n              {{ templateRequest.ops[0].destination }}\n            </div>\n          </div>\n          <div class=\"seperator\"></div>\n          <div class=\"flex-column\">\n            <div class=\"flex-row\">\n              <div class=\"default-text\">\n                Fee\n              </div>\n              <div class=\"default-text\">\n                {{ templateRequest.fee.network + ' tez' }}\n              </div>\n            </div>\n            <div class=\"flex-row\">\n              <div class=\"default-text\">\n                Max Storage Cost\n              </div>\n              <div class=\"default-text\">\n                {{ templateRequest.fee.storage + ' tez' }}\n              </div>\n            </div>\n          </div>\n          <div class=\"seperator\"></div>\n          <div class=\"flex-column\">\n            <div class=\"flex-row\">\n              <div class=\"default-text\">\n                Contract Call\n              </div>\n              <div class=\"default-text\">\n                {{ templateRequest.ops[0]?.parameters?.entrypoint }}\n              </div>\n            </div>\n            <br/>\n          </div>\n        </div>\n      </div>\n      <br />\n      <div class=\"flex-row buttons\">\n        <button (click)=\"approve()\" [disabled]=\"templateRequest?.partialOps?.length !== 1\">\n          <ng-container *ngIf=\"templateRequest.template.button; else defaultButtonText\">\n            {{templateRequest.template.button}}</ng-container>\n          <ng-template #defaultButtonText>Send</ng-template>\n        </button>\n      </div>\n      <div class=\"footer\">\n        <span>Powered by</span><img class=\"logo\" src=\"../../../../assets/img/header-logo-grey.svg\">\n      </div>\n    </div>\n  </div>\n</div>\n\n\n<div *ngIf=\"active && template === 'default'\" class=\"kukai-template\">\n  <div *ngIf=\"templateRequest.template\" class=\"flex-column card\">\n    <H1>You are about to<BR><b\n        *ngIf=\"templateRequest.template.action; else defaultAction\">{{templateRequest.template.action}}</b>\n      <ng-template #defaultAction><b>send</b></ng-template>\n    </H1>\n    <ng-container *ngFor=\"let description of templateRequest.template.descriptions\">\n      <ng-container *ngIf=\"!description.imgUrl\">\n        <p class=\"single\" *ngIf=\"description.text\">{{ description.text }}</p>\n      </ng-container>\n      <ng-container *ngIf=\"description.imgUrl\">\n        <img *ngIf=\"description.imgUrl\" src=\"{{description.imgUrl}}\" height=\"150\">\n        <p class=\"img-text\" *ngIf=\"description.text\">{{description.text}}</p>\n      </ng-container>\n    </ng-container>\n    <div class=\"buttons\" [class.horizontally]=\"!templateRequest.template.buttonsVertically\"\n      [class.vertically]=\"templateRequest.template.buttonsVertically\">\n      <button class=\"secondary\" (click)=\"cancel()\">Cancel</button>\n      <button (click)=\"approve()\">\n        <ng-container *ngIf=\"templateRequest.template.button; else defaultButtonText\">\n          {{templateRequest.template.button}}</ng-container>\n        <ng-template #defaultButtonText>Send</ng-template>\n      </button>\n    </div>\n    <p class=\"fee\">Estimated fee <b *ngIf=\"templateRequest.fee\">{{templateRequest.fee.total}} tez</b><img\n        *ngIf=\"!templateRequest.fee\" src=\"../../../../assets/img/feeLoader.gif\"></p>\n    <div class=\"footer\">\n      <span>Powered by</span><img class=\"logo\" src=\"../../../../assets/img/header-logo-grey.svg\">\n    </div>\n  </div>\n</div>","import { Component, EventEmitter, Input, OnInit, Output, SimpleChanges, OnChanges } from '@angular/core';\nimport { TemplateRequest, TemplateFee, FullyPreparedTransaction } from '../../../misc/send/interfaces';\nimport { Template, BaseTemplate } from 'kukai-embed';\nimport { WalletService } from '../../../../services/wallet/wallet.service';\nimport { MessageService } from '../../../../services/message/message.service';\nimport { SubjectService } from '../../../../services/subject/subject.service';\n\n@Component({\n  selector: 'app-confirm-send-embed',\n  templateUrl: './confirm-send.component.html',\n  styleUrls: ['./confirm-send.component.scss']\n})\nexport class ConfirmSendEmbedComponent implements OnInit, OnChanges {\n  @Input() templateRequest: TemplateRequest = null;\n  @Output() isApproved = new EventEmitter();\n  @Input() activeAccount = null;\n  active = false;\n  showMore = false;\n  template = 'default';\n  constructor(public walletService: WalletService, public messageService: MessageService, private subjectService: SubjectService) {}\n\n  ngOnInit(): void {\n    this.subjectService.origin.subscribe((origin) => {\n      if (origin && origin.indexOf('gap') !== -1) {\n        // (m)interpop\n        this.template = 'gap';\n      } else if (origin && origin.indexOf('interpop') !== -1) {\n        // (m)interpop\n        this.template = 'minterpop';\n      } else {\n        this.template = 'default';\n      }\n    });\n  }\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes?.templateRequest?.currentValue) {\n      console.log(this.templateRequest);\n      if ((<BaseTemplate>this.templateRequest?.template)?.descriptions?.length) {\n        this.hideScrollbar();\n        this.active = true;\n      } else {\n        console.warn('No template descriptions');\n        this.cancel();\n      }\n    }\n  }\n  cancel() {\n    this.reset();\n    this.isApproved.emit(null);\n  }\n  approve() {\n    if (this.templateRequest.ops && this.templateRequest.fee) {\n      this.isApproved.emit(this.templateRequest.ops);\n      this.reset();\n    }\n  }\n  toggle() {\n    if (this.templateRequest.ops) {\n      this.showMore = !this.showMore;\n    }\n  }\n  reset() {\n    this.resetScrollbar();\n    this.active = false;\n  }\n  hideScrollbar() {\n    const scrollBarWidth = window.innerWidth - document.body.offsetWidth;\n    document.body.style.marginRight = scrollBarWidth.toString();\n    document.body.style.overflow = 'hidden';\n  }\n  resetScrollbar() {\n    document.body.style.marginRight = '';\n    document.body.style.overflow = '';\n  }\n}\n","<div *ngIf=\"isOpen\" class=\"flex-column kukai-modal\">\n  <div class=\"content\">\n    <div class=\"flex-column top\">\n      <div class=\"flex-row button close\" (click)=\"closeModalAction()\"><img class=\"x\"\n          src=\"../../../../../assets/img/close-btn-x.png\" />\n      </div>\n      <h1 class=\"title\">Confirmation</h1>\n    </div>\n    <div class=\"flex-column liquidity-baking-confirm\">\n      <ng-container *ngIf=\"entrypoint === 'addLiquidity'\">\n        <div class=\"flex-column container-inputs alt from\">\n          <div class=\"flex-row currency from\">\n            <span class=\"amount\">{{ expectedXtz | number:'1.0-6' }}</span>\n            <div class=\"flex-row left\">\n              <span class=\"symbol\">{{ 'XTZ' }}</span>\n              <img [src]=\"'assets/img/tezos-xtz-logo.svg'\" />\n            </div>\n          </div>\n          <div class=\"seperator arrow plus\">\n            <span class=\"img-wrap\"><img [src]=\"semaphore ? 'assets/img/feeLoader.gif' : 'assets/img/lb-plus.svg'\" /></span>\n          </div>\n          <div class=\"flex-row currency from\">\n            <span class=\"amount\">{{ expectedToken | number:'1.0-8' }}</span>\n            <div class=\"flex-row left\">\n              <span class=\"symbol\">{{ 'tzBTC' }}</span>\n              <img [src]=\"'assets/img/tokens/tzbtc.png'\" />\n            </div>\n          </div>\n        </div>\n        <div class=\"seperator arrow\">\n          <div class=\"backdrop\"></div>\n          <span class=\"img-wrap\"><img [src]=\"semaphore ? 'assets/img/feeLoader.gif' : 'assets/img/lb-down-arrow.svg'\" /></span>\n        </div>\n        <div class=\"flex-column container-inputs alt to\">\n          <div class=\"flex-row currency to\">\n            <span class=\"amount\"> {{ expectedLqd ? (expectedLqd | number:'1.0-0') : \"&nbsp;\" }}</span>\n            <div class=\"flex-row left\">\n              <span class=\"symbol\">{{ 'SIRS' }}</span>\n              <img [src]=\"'assets/img/tokens/sirius.png'\" />\n            </div>\n          </div>\n        </div>\n      </ng-container>\n      <ng-container *ngIf=\"entrypoint === 'removeLiquidity'\">\n        <div class=\"flex-column container-inputs alt from\">\n          <div class=\"flex-row currency from\">\n            <span class=\"amount\">{{ expectedLqd | number:'1.0-0' }}</span>\n            <div class=\"flex-row left\">\n              <span class=\"symbol\">{{ 'SIRS' }}</span>\n              <img [src]=\"'assets/img/tokens/sirius.png'\" />\n            </div>\n          </div>\n        </div>\n        <div class=\"seperator arrow\">\n          <div class=\"backdrop\"></div>\n          <span class=\"img-wrap\"><img [src]=\"semaphore ? 'assets/img/feeLoader.gif' : 'assets/img/lb-down-arrow.svg'\" /></span>\n        </div>\n        <div class=\"flex-column container-inputs alt to\">\n          <div class=\"flex-row currency to\">\n            <span class=\"amount\"> {{expectedXtz ? (expectedXtz | number:'1.0-6') : \"&nbsp;\"}}</span>\n            <div class=\"flex-row left\">\n              <span class=\"symbol\">{{ 'XTZ' }}</span>\n              <img [src]=\"'assets/img/tezos-xtz-logo.svg'\" />\n            </div>\n          </div>\n          <div class=\"seperator arrow plus\">\n            <span class=\"img-wrap\"><img [src]=\"semaphore ? 'assets/img/feeLoader.gif' : 'assets/img/lb-plus.svg'\" /></span>\n          </div>\n          <div class=\"flex-row currency to\">\n            <span class=\"amount\"> {{expectedToken ? (expectedToken | number:'1.0-8') : \"&nbsp;\"}}</span>\n            <div class=\"flex-row left\">\n              <span class=\"symbol\">{{ 'tzBTC' }}</span>\n              <img [src]=\"'assets/img/tokens/tzbtc.png'\" />\n            </div>\n          </div>\n        </div>\n      </ng-container>\n      <ng-container *ngIf=\"entrypoint === 'xtzToToken'\">\n        <div class=\"flex-column container-inputs\">\n          <div *ngIf=\"expectedXtz\" class=\"flex-row currency from\">\n            <span class=\"amount\">{{expectedXtz | number:'1.0-6'}}</span>\n            <div class=\"flex-row left\">\n              <span class=\"symbol\">{{ 'XTZ' }}</span>\n              <img [src]=\"'assets/img/tezos-xtz-logo.svg'\" />\n            </div>\n          </div>\n          <div class=\"seperator arrow\">\n            <div class=\"backdrop\"></div>\n            <span class=\"img-wrap\"><img [src]=\"semaphore ? 'assets/img/feeLoader.gif' : 'assets/img/lb-down-arrow.svg'\" /></span>\n          </div>\n          <div class=\"flex-row currency to\">\n            <span class=\"amount\"> {{expectedToken ? (expectedToken | number:'1.0-8') : \"&nbsp;\"}}</span>\n            <div class=\"flex-row left\">\n              <span class=\"symbol\">{{ 'tzBTC' }}</span>\n              <img [src]=\"'assets/img/tokens/tzbtc.png'\" />\n            </div>\n            <span class=\"flex-row hint\">Expected</span>\n          </div>\n        </div>\n      </ng-container>\n      <ng-container *ngIf=\"entrypoint === 'tokenToXtz'\">\n        <div class=\"flex-column container-inputs\">\n          <div class=\"flex-row currency from\">\n            <span class=\"amount\">{{expectedToken | number:'1.0-8'}}</span>\n            <div class=\"flex-row left\">\n              <span class=\"symbol\">{{ 'tzBTC' }}</span>\n              <img [src]=\"'assets/img/tokens/tzbtc.png'\" />\n            </div>\n          </div>\n          <div class=\"seperator arrow\">\n            <div class=\"backdrop\"></div>\n            <span class=\"img-wrap\"><img [src]=\"semaphore ? 'assets/img/feeLoader.gif' : 'assets/img/lb-down-arrow.svg'\" /></span>\n          </div>\n          <div class=\"flex-row currency to\">\n            <span class=\"amount\"> {{expectedXtz ? (expectedXtz | number:'1.0-6') : \"&nbsp;\"}}</span>\n            <div class=\"flex-row left\">\n              <span class=\"symbol\">{{ 'XTZ' }}</span>\n              <img [src]=\"'assets/img/tezos-xtz-logo.svg'\" />\n            </div>\n            <span class=\"flex-row hint\">Expected</span>\n          </div>\n        </div>\n      </ng-container>\n      <div class=\"output\">\n        <div *ngIf=\"minimumToken && !minimumXtz\" class=\"flex-row item\">\n          <span class=\"flex-row key\">Minimum Received:&nbsp;\n          </span>\n          <img src=\"assets/img/information-circle-outline.svg\" class=\"info-button\" />\n          <div class=\"body\">\n            The minimum amount you are guaranteed to receive. If the exchange rate changes unfavorably such that you can no longer receive at least this amount, then your transaction will not be completed.\n          </div>\n          <span class=\"value\">{{minimumToken | number:'1.2-8'}} tzBTC</span>\n        </div>\n        <div *ngIf=\"minimumXtz && !minimumToken\" class=\"flex-row item\">\n          <span class=\"flex-row key\">Minimum Received:&nbsp;\n          </span>\n          <img src=\"assets/img/information-circle-outline.svg\"\n              class=\"info-button\" />\n          <div class=\"body\">\n            The minimum amount you are guaranteed to receive. If the exchange rate changes unfavorably such that you can no longer receive at least this amount, then your transaction will not be completed.\n          </div>\n          <span class=\"value\">{{minimumXtz | number:'1.6-6'}} XTZ</span>\n        </div>\n        <div\n          *ngIf=\"minimumXtz && minimumToken\"\n          class=\"item\">\n          <span class=\"flex-row key\" style=\"margin: 0 0 0.5em 0\">Minimum Received:&nbsp;\n          </span>\n          <img src=\"assets/img/information-circle-outline.svg\" class=\"info-button\" />\n          <div class=\"body\">\n            The minimum amount you are guaranteed to receive. If the exchange rate changes unfavorably such that you can no longer receive at least this amount, then your transaction will not be completed.\n          </div>\n          <span class=\"value\">{{minimumXtz | number:'1.6-6'}} XTZ + {{\n            minimumToken | number:'1.2-8'}} tzBTC</span>\n        </div>\n        <div *ngIf=\"minimumLqd\" class=\"flex-row item\">\n          <span class=\"flex-row key\">Minimum Received:&nbsp;\n          </span>\n          <img src=\"assets/img/information-circle-outline.svg\" class=\"info-button\" />\n          <div class=\"body\">\n            The minimum amount you are guaranteed to receive. If the exchange rate changes unfavorably such that you can no longer receive at least this amount, then your transaction will not be completed.\n          </div>\n          <span class=\"value\">{{minimumLqd | number:'1.0-0'}} SIRS</span>\n        </div>\n        <div class=\"flex-row item\">\n          <span class=\"flex-row key\">Fee:</span>\n          <span class=\"value\">&nbsp;{{getTotalFee() | number:'1.0-6'}} tez</span>\n        </div>\n        <div class=\"flex-row item\" *ngIf=\"getTotalBurn(); let storageCost\">\n          <span class=\"flex-row key\">Max Storage Cost:</span>\n          <span class=\"value\">&nbsp;{{storageCost | number:'1.0-6'}} tez</span>\n        </div>\n      </div>\n      <div *ngIf=\"(externalReq && (!walletService.isLedgerWallet() || ledgerError))\" class=\"flex-column more-info-toggle\" [class.expanded]=\"advancedForm\">\n        <div class=\"flex-row item\" (click)=\"advancedForm = !advancedForm\">\n          <span class=\"value\">{{ 'Advanced' }}</span>\n          <div class=\"flex-row\"><img src=\"assets/img/chevron-down.svg\"></div>\n        </div>\n      </div>\n      <form *ngIf=\"advancedForm && (externalReq && (!walletService.isLedgerWallet() || ledgerError))\" autocomplete=\"off\" class=\"more-info-body\" [class.expanded]=\"advancedForm\">\n        <div class=\"flex-row\">\n          <div class=\"flex-column entity\">\n            <label class=\"label\">Gas limit</label>\n            <input type=\"text\" inputmode=\"decimal\" class=\"text\" (input)=\"sanitizeNumberInput($event, 0, 'customGasLimit')\"\n              (paste)=\"sanitizeNumberInput($event, 0, 'customGasLimit')\" [placeholder]=\"getTotalDefaultGas() || '0'\"\n              [value]=\"customGasLimit\">\n          </div>\n          <div class=\"flex-column entity\">\n            <label class=\"label\">Fee</label>\n            <input type=\"text\" inputmode=\"decimal\" class=\"text\" [placeholder]=\"getTotalFee() || '0'\" (paste)=\"sanitizeNumberInput($event, 6, 'customFee')\"\n              (input)=\"sanitizeNumberInput($event, 6, 'customFee')\" [value]=\"customFee\">\n          </div>\n        </div>\n        <div class=\"flex-row\">\n          <div class=\"flex-column entity\">\n            <label class=\"label\">Storage limit</label>\n            <input type=\"text\" inputmode=\"decimal\" class=\"text\" (input)=\"sanitizeNumberInput($event, 0, 'customStorageLimit')\"\n              (paste)=\"sanitizeNumberInput($event, 0, 'customStorageLimit')\" [placeholder]=\"getTotalDefaultStorage() || '0'\"\n              [value]=\"customStorageLimit\">\n          </div>\n          <div class=\"flex-column entity\">\n            <label class=\"label\">Max storage cost</label>\n            <input type=\"text\" inputmode=\"decimal\" class=\"text read-only\" [placeholder]=\"(getTotalBurn() || '0') + ' tez'\" tabindex=-1\n              readonly>\n          </div>\n        </div>\n      </form>\n      <div class=\"flex-column bottom\">\n        <div class=\"seperator\"></div>\n        <span class=\"form-validity\" [class.error]=\"formInvalid !== 'Awaiting Request'\">{{ formInvalid }}</span>\n        <button *ngIf=\"walletService.isLedgerWallet() && ledgerError; else elseBlock\" class=\"confirm\"\n          [disabled]=\"!!formInvalid\" (click)=\"ledgerRetry()\">Sign with Ledger</button>\n        <ng-template #elseBlock>\n          <span *ngIf=\"this.pwdInvalid\" class=\"label danger\">{{ pwdInvalid }}</span>\n          <input *ngIf=\"walletService.isPwdWallet()\" [(ngModel)]=\"password\" autocomplete=\"current-password\"\n            placeholder=\"Password\" class=\"text password\" type=\"password\" (input)=\"this.pwdInvalid = ''\"\n            (change)=\"this.pwdInvalid = ''\" (keydown.enter)='inject()'>\n          <button class=\"confirm\" (click)=\"inject()\"\n            [disabled]=\"(walletService.isLedgerWallet() && (!sendResponse || !sendResponse.payload || !sendResponse.payload.signedOperation)) || walletService.isWatchWallet()\">\n            {{ walletService.isLedgerWallet() ? 'Broadcast' : confirmTitle}}</button>\n        </ng-template>\n      </div>\n    </div>\n  </div>\n</div>","import { EventEmitter, Input, OnChanges, OnDestroy, Output } from '@angular/core';\nimport { Component, OnInit, SimpleChanges } from '@angular/core';\nimport { ConfirmSwapRequest, FullyPreparedTransaction, PrepareRequest, LqdEntrypoints, PartiallyPreparedTransaction } from '../../misc/send/interfaces';\nimport { TokenService } from '../../../services/token/token.service';\nimport { WalletService } from '../../../services/wallet/wallet.service';\nimport { EstimateService } from '../../../services/estimate/estimate.service';\nimport { OperationService } from '../../../services/operation/operation.service';\nimport { MessageService } from '../../../services/message/message.service';\nimport { CoordinatorService } from '../../../services/coordinator/coordinator.service';\nimport { LookupService } from '../../../services/lookup/lookup.service';\nimport { LedgerService } from '../../../services/ledger/ledger.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { DefaultTransactionParams, KeyPair } from '../../../interfaces';\nimport Big from 'big.js';\nimport { LedgerWallet, TorusWallet } from '../../../services/wallet/wallet';\nimport { InputValidationService } from '../../../services/input-validation/input-validation.service';\nimport { ModalComponent } from '../modal.component';\nimport { Subscription } from 'rxjs';\nimport { TezosDomainsService } from '../../../services/tezos-domains/tezos-domains.service';\nimport { TokenBalancesService } from '../../../services/token-balances/token-balances.service';\nimport { SubjectService } from '../../../services/subject/subject.service';\nimport { Amount } from '../../../services/swap-liquidity/classes/Amount';\nimport assert from 'assert';\nimport { SwapLiquidityService } from '../../../services/swap-liquidity/swap-liquidity.service';\n\nconst zeroTxParams: DefaultTransactionParams = {\n  gas: 0,\n  storage: 0,\n  fee: 0,\n  burn: 0\n};\n\n@Component({\n  selector: 'app-swap-liquidity-confirm',\n  templateUrl: './swap-liquidity-confirm.component.html',\n  styleUrls: ['../../../../scss/components/modals/modal.scss']\n})\nexport class SwapLiquidityConfirmComponent extends ModalComponent implements OnInit, OnChanges, OnDestroy {\n  readonly lqdTokenContract = 'KT1AafHA1C1vk959wvHWBispY9Y2f3fxBUUo';\n  readonly lqdContract = 'KT1TxqZ8QtKvLu3V3JH7Gx58n7Co8pgtpQU5';\n  readonly tzBTCContract = 'KT1PWx2mnDueood7fEmfbBDKx1D9BAnnXitn';\n\n  @Input() confirmRequest: PrepareRequest = null;\n  @Output() operationResponse = new EventEmitter();\n  syncSub: Subscription;\n  activeAccount = null;\n  externalReq: boolean = false;\n  transactions: FullyPreparedTransaction[] = [];\n  semaphore = false;\n\n  defaultTransactionParams: DefaultTransactionParams = zeroTxParams;\n\n  customFee = '';\n  customGasLimit = '';\n  customStorageLimit = '';\n\n  sendResponse = null;\n  ledgerError = '';\n  password = '';\n  pwdInvalid = '';\n  advancedForm = false;\n  name = 'swap-liquidity-confirm';\n\n  expectedLqd: number;\n  minimumLqd: number;\n  expectedXtz: number;\n  minimumXtz: number;\n  expectedToken: number;\n  minimumToken: number;\n  entrypoint: string;\n\n  confirmTitle = '';\n\n  private subscriptions: Subscription = new Subscription();\n\n  constructor(\n    private translate: TranslateService,\n    public tokenService: TokenService,\n    public walletService: WalletService,\n    private estimateService: EstimateService,\n    private operationService: OperationService,\n    private messageService: MessageService,\n    private coordinatorService: CoordinatorService,\n    private lookupService: LookupService,\n    private ledgerService: LedgerService,\n    private inputValidationService: InputValidationService,\n    public tezosDomainService: TezosDomainsService,\n    public tokenBalanceService: TokenBalancesService,\n    private subjectService: SubjectService,\n    private swapLiquidityService: SwapLiquidityService\n  ) {\n    super();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes?.confirmRequest?.currentValue) {\n      this.reset(true);\n      this.parseTransactions(changes.confirmRequest.currentValue);\n      this.init();\n      ModalComponent.currentModel.next({ name: this.name, data: null });\n      if (this.externalReq) {\n        this.syncSub = this.subjectService.beaconResponse.subscribe((response) => {\n          if (response) {\n            this.closeModalAction('silent');\n          }\n        });\n      }\n    }\n  }\n  parseTransactions(csr: ConfirmSwapRequest): void {\n    let hasTrailingZeroApproval = false;\n    this.externalReq = csr.externalReq;\n    this.activeAccount = csr.account;\n    this.transactions = csr.transactions;\n    this.entrypoint = this.transactions.find((t) => Object.values(LqdEntrypoints).includes(t?.parameters?.entrypoint))?.parameters.entrypoint;\n    switch (this.entrypoint) {\n      case LqdEntrypoints.xtzToToken:\n        this.confirmTitle = 'Confirm Swap';\n        this.expectedXtz = parseFloat(this.transactions[0]?.amount);\n        this.minimumToken = new Amount({ rpcAmount: this.transactions[0]?.parameters.value.args[1].args[0].int, decimalPlaces: 8 }).internalNormalised;\n        this.calculateXtzToToken();\n        break;\n      case LqdEntrypoints.tokenToXtz:\n        this.confirmTitle = 'Confirm Swap';\n        const tokenToXtz = this.transactions.find((t) => t?.parameters?.entrypoint === LqdEntrypoints.tokenToXtz);\n        hasTrailingZeroApproval =\n          this.transactions[this.transactions.length - 1].parameters.entrypoint === 'approve' &&\n          this.transactions[this.transactions.length - 1]?.parameters?.value.args[1].int === '0';\n        this.expectedToken = new Amount({ rpcAmount: tokenToXtz?.parameters.value.args[1].args[0].int, decimalPlaces: 8 }).internalNormalised;\n        this.minimumXtz = new Amount({ rpcAmount: tokenToXtz?.parameters.value.args[1].args[1].args[0].int, decimalPlaces: 6 }).internalNormalised;\n        this.calculateTokenToXTZ();\n        break;\n      case LqdEntrypoints.addLiquidity:\n        this.confirmTitle = 'Add Liquidity';\n        const addLiquidity = this.transactions.find((t) => t?.parameters?.entrypoint === LqdEntrypoints.addLiquidity);\n        hasTrailingZeroApproval =\n          this.transactions[this.transactions.length - 1].parameters.entrypoint === 'approve' &&\n          this.transactions[this.transactions.length - 1]?.parameters?.value.args[1].int === '0';\n        this.expectedToken = new Amount({ rpcAmount: addLiquidity?.parameters.value.args[1].args[1].args[0].int, decimalPlaces: 8 }).internalNormalised;\n        this.expectedXtz = parseFloat(addLiquidity?.amount);\n        this.minimumLqd = new Amount({ rpcAmount: addLiquidity?.parameters.value.args[1].args[0].int, decimalPlaces: 0 }).internalNormalised;\n        this.calcAddLiquidity();\n        break;\n      case LqdEntrypoints.removeLiquidity:\n        this.confirmTitle = 'Remove Liquidity';\n        this.expectedLqd = new Amount({ rpcAmount: this.transactions[0]?.parameters.value.args[1].args[0].int, decimalPlaces: 0 }).internalNormalised;\n        this.minimumXtz = new Amount({ rpcAmount: this.transactions[0]?.parameters.value.args[1].args[1].args[0].int, decimalPlaces: 6 }).internalNormalised;\n        this.minimumToken = new Amount({\n          rpcAmount: this.transactions[0]?.parameters.value.args[1].args[1].args[1].args[0].int,\n          decimalPlaces: 8\n        }).internalNormalised;\n        this.calcRemoveLiquidity();\n        break;\n    }\n  }\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n  open(): void {\n    super.open();\n  }\n  async init(): Promise<void> {\n    if (this.walletService.wallet instanceof LedgerWallet) {\n      this.ledgerError = '?';\n    }\n  }\n  getTotalAmount(): string {\n    let totalSent = Big(0);\n    for (const tx of this.transactions) {\n      totalSent = totalSent.add(tx.amount);\n    }\n    return totalSent.toFixed();\n  }\n  getTotalCost(display: boolean = false): string {\n    const totalFee = Big(this.getTotalFee()).plus(Big(this.getTotalBurn())).toString();\n    if (display && totalFee === '0') {\n      return '-';\n    }\n    return totalFee;\n  }\n  getTotalFee(): string {\n    if (this.customFee) {\n      return this.customFee;\n    }\n    let totalFee = Big(0);\n    for (const tx of this.transactions) {\n      totalFee = totalFee.add(tx.fee ? tx.fee : 0);\n    }\n    return totalFee.toFixed();\n  }\n  getTotalBurn(): number {\n    const totalActiveStorageLimit: number =\n      this.customStorageLimit !== '' && Number(this.customStorageLimit) ? Number(this.customStorageLimit) : this.getTotalDefaultStorage();\n    return Number(Big(totalActiveStorageLimit).times(this.estimateService.costPerByte).div(1000000).toString());\n  }\n  getTotalDefaultGas(): number {\n    let totalGas = Big(0);\n    for (const tx of this.transactions) {\n      totalGas = totalGas.plus(tx.gasLimit);\n    }\n    return totalGas.toFixed();\n  }\n  getTotalDefaultStorage(): number {\n    let totalStorage = Big(0);\n    for (const tx of this.transactions) {\n      totalStorage = totalStorage.plus(tx.storageLimit);\n    }\n    return totalStorage.toFixed();\n  }\n  totalAmount(): string {\n    let totalSent = Big(0);\n    for (const tx of this.transactions) {\n      totalSent = totalSent.add(tx.amount);\n    }\n    return totalSent.toFixed();\n  }\n  async ledgerRetry(): Promise<void> {\n    if (!this.inputValidationService.fee(this.getTotalFee().toString())) {\n      this.messageService.addError('Invalid fee');\n      return;\n    }\n    this.messageService.startSpinner('Preparing transaction...');\n    const keys = await this.walletService.getKeys('');\n    if (keys) {\n      await this.sendTransaction(keys);\n    } else {\n      this.messageService.stopSpinner();\n    }\n  }\n  async inject(): Promise<void> {\n    if (this.semaphore) {\n      return;\n    }\n    if (this.walletService.isLedgerWallet()) {\n      await this.broadCastLedgerTransaction();\n      this.sendResponse = null;\n      ModalComponent.currentModel.next({ name: '', data: null });\n    } else {\n      if (!this.inputValidationService.fee(this.getTotalFee().toString())) {\n        this.messageService.addError('Invalid fee');\n        return;\n      }\n      const pwd = this.password;\n      this.password = '';\n      this.messageService.startSpinner('Signing transaction...');\n      let keys;\n      try {\n        keys = await this.walletService.getKeys(pwd, this.activeAccount.pkh);\n      } catch {\n        this.messageService.stopSpinner();\n      }\n      if (keys) {\n        this.pwdInvalid = '';\n        this.messageService.startSpinner('Sending transaction...');\n        await this.sendTransaction(keys);\n        ModalComponent.currentModel.next({ name: '', data: null });\n      } else {\n        this.messageService.stopSpinner();\n        if (this.walletService.wallet instanceof TorusWallet) {\n          this.pwdInvalid = `Authorization failed`;\n        } else {\n          this.pwdInvalid = this.translate.instant('SENDCOMPONENT.WRONGPASSWORD'); // 'Wrong password!';\n        }\n      }\n    }\n  }\n  async sendTransaction(keys: KeyPair): Promise<void> {\n    const txs: FullyPreparedTransaction[] = this.opsWithCustomLimits();\n    this.subscriptions.add(\n      this.operationService.transfer(this.activeAccount.address, txs, Number(this.getTotalFee()), keys, '').subscribe(\n        async (ans: any) => {\n          this.sendResponse = ans;\n          if (ans.success === true) {\n            console.log('Transaction successful ', ans);\n            if (ans.payload.opHash) {\n              await this.messageService.stopSpinner();\n              this.operationResponse.emit(ans.payload.opHash);\n              const metadata = {\n                transactions: this.transactions,\n                opHash: ans.payload.opHash\n              };\n              await this.coordinatorService.boost(this.activeAccount.address, metadata);\n              for (const transaction of this.transactions) {\n                if (this.walletService.addressExists(transaction.destination)) {\n                  await this.coordinatorService.boost(transaction.destination);\n                }\n              }\n            } else if (this.walletService.wallet instanceof LedgerWallet) {\n              await this.requestLedgerSignature();\n              return;\n            }\n          } else {\n            await this.messageService.stopSpinner();\n            console.log('Transaction error id ', ans.payload.msg);\n            this.messageService.addError(ans.payload.msg, 0);\n            this.operationResponse.emit('broadcast_error');\n          }\n          this.reset();\n        },\n        (err) => {\n          this.messageService.stopSpinner();\n          console.log('Error Message ', JSON.stringify(err));\n          if (this.walletService.isLedgerWallet()) {\n            this.messageService.addError('Failed to create transaction', 0);\n            this.operationResponse.emit('broadcast_error');\n          }\n          this.reset();\n        }\n      )\n    );\n  }\n  opsWithCustomLimits(): FullyPreparedTransaction[] {\n    let extraGas: number = 0;\n    let extraStorage: number = 0;\n    if (this.customGasLimit && this.customGasLimit !== this.getTotalDefaultGas().toString()) {\n      extraGas = Number(this.customGasLimit) - this.getTotalDefaultGas();\n    }\n    if (this.customStorageLimit && this.customStorageLimit !== this.getTotalDefaultStorage().toString()) {\n      extraStorage = Number(this.customStorageLimit) - this.getTotalDefaultStorage();\n    }\n    const extraGasPerOp: number = Math.round(extraGas / this.transactions.length);\n    const extraStoragePerOp: number = Math.round(extraStorage / this.transactions.length);\n    const txs: FullyPreparedTransaction[] = [];\n    for (let i = 0; i < this.transactions.length; i++) {\n      let gasLimit: string = extraGas ? (Number(this.transactions[i].gasLimit) + extraGasPerOp).toString() : this.transactions[i].gasLimit.toString();\n      let storageLimit = extraStorage\n        ? (Number(this.transactions[i].storageLimit) + extraStoragePerOp).toString()\n        : this.transactions[i].storageLimit.toString();\n      gasLimit = !(Number(gasLimit) < 0) ? gasLimit : '0';\n      storageLimit = !(Number(storageLimit) < 0) ? storageLimit : '0';\n      const fullyTx: FullyPreparedTransaction = {\n        ...this.transactions[i],\n        fee: i === this.transactions.length - 1 ? this.getTotalFee().toString() : '0',\n        gasLimit,\n        storageLimit\n      };\n      txs.push(fullyTx);\n    }\n    return txs;\n  }\n  sanitizeNumberInput(e, decimalPlaces: number, type = ''): void {\n    const exp = new RegExp(`^\\\\d{0,}(\\\\.\\\\d{0,${decimalPlaces}})?\\$`, 'g');\n    if (exp.test(e?.target?.value)) {\n      this[type] = e?.target?.value;\n    } else {\n      e.target.value = this[type];\n    }\n  }\n  async requestLedgerSignature(): Promise<void> {\n    if (this.walletService.wallet instanceof LedgerWallet) {\n      await this.messageService.startSpinner('Waiting for Ledger signature...');\n      try {\n        const op = this.sendResponse.payload.unsignedOperation;\n        let signature = '';\n        if (op.length <= 2290) {\n          signature = await this.ledgerService.signOperation('03' + op, this.walletService.wallet.implicitAccounts[0].derivationPath);\n        } else {\n          signature = await this.ledgerService.signHash(\n            this.operationService.ledgerPreHash('03' + op),\n            this.walletService.wallet.implicitAccounts[0].derivationPath\n          );\n        }\n        if (signature) {\n          const signedOp = op + signature;\n          this.sendResponse.payload.signedOperation = signedOp;\n          this.ledgerError = '';\n        } else {\n          this.ledgerError = 'Failed to sign transaction';\n        }\n      } finally {\n        this.messageService.stopSpinner();\n      }\n    }\n  }\n  async broadCastLedgerTransaction(): Promise<void> {\n    this.subscriptions.add(\n      this.operationService.broadcast(this.sendResponse.payload.signedOperation).subscribe(async (ans: any) => {\n        this.sendResponse = ans;\n        if (ans.success && this.activeAccount) {\n          const metadata = {\n            transactions: this.transactions,\n            opHash: ans.payload.opHash\n          };\n          await this.coordinatorService.boost(this.activeAccount.address, metadata);\n          if (this.walletService.addressExists(this.transactions[0].destination)) {\n            await this.coordinatorService.boost(this.transactions[0].destination);\n          }\n          this.operationResponse.emit(ans.payload.opHash);\n        } else {\n          console.log('sendResponse', JSON.stringify(this.sendResponse));\n          this.operationResponse.emit('broadcast_error');\n        }\n        console.log('ans: ' + JSON.stringify(ans));\n        this.reset();\n      })\n    );\n  }\n  closeModalAction(emit: string = null): void {\n    ModalComponent.currentModel.next({ name: '', data: null });\n    this.operationResponse.emit(emit);\n    this.reset();\n  }\n  reset(init = false): void {\n    if (!init) {\n      this.confirmRequest = null;\n      if (this.syncSub) {\n        this.syncSub.unsubscribe();\n        this.syncSub = undefined;\n      }\n    }\n    this.transactions = [];\n    this.activeAccount = null;\n\n    this.customFee = '';\n    this.customGasLimit = '';\n    this.customStorageLimit = '';\n\n    this.sendResponse = null;\n    this.ledgerError = '';\n    this.password = '';\n    this.pwdInvalid = '';\n    this.advancedForm = false;\n    this.externalReq = false;\n\n    this.expectedLqd = undefined;\n    this.minimumLqd = undefined;\n    this.expectedXtz = undefined;\n    this.minimumXtz = undefined;\n    this.expectedToken = undefined;\n    this.minimumToken = undefined;\n  }\n  openInfoModal(title: string): void {\n    switch (title) {\n      case 'fee':\n        ModalComponent.currentModel.next({\n          name: 'info',\n          data: {\n            message: 'Expected fee for this transaction charged by the Tezos blockchain.',\n            title: 'Fee'\n          },\n          forceClose: false\n        });\n        break;\n      case 'minimumxtz':\n        ModalComponent.currentModel.next({\n          name: 'info',\n          data: {\n            message: 'The minimum amount of XTZ to be received from the transaction.',\n            title: 'Minimum XTZ'\n          },\n          forceClose: false\n        });\n        break;\n      case 'expectedxtz':\n        ModalComponent.currentModel.next({\n          name: 'info',\n          data: {\n            message: 'The expected amount of XTZ to be received from the transaction.',\n            title: 'Expected XTZ'\n          },\n          forceClose: false\n        });\n        break;\n      case 'requiredtoken':\n        ModalComponent.currentModel.next({\n          name: 'info',\n          data: {\n            message: 'Required tzBTC needed for transaction.',\n            title: 'Required tzBTC'\n          },\n          forceClose: false\n        });\n        break;\n      case 'minimumtoken':\n        ModalComponent.currentModel.next({\n          name: 'info',\n          data: {\n            message: 'The minimum amount of tzBTC to be received from the transaction.',\n            title: 'Minimum tzBTC'\n          },\n          forceClose: false\n        });\n        break;\n      case 'expectedtoken':\n        ModalComponent.currentModel.next({\n          name: 'info',\n          data: {\n            message: 'The expected amount of tzBTC to be received from the transaction.',\n            title: 'Expected tzBTC'\n          },\n          forceClose: false\n        });\n        break;\n      case 'minimumlqt':\n        ModalComponent.currentModel.next({\n          name: 'info',\n          data: {\n            message: 'The minimum amount of SIRS to be received from the transaction.',\n            title: 'Minimum SIRS'\n          },\n          forceClose: false\n        });\n        break;\n      case 'expectedlqt':\n        ModalComponent.currentModel.next({\n          name: 'info',\n          data: {\n            message: 'The expected amount of SIRS to be received from the transaction.',\n            title: 'Expected SIRS'\n          },\n          forceClose: false\n        });\n        break;\n      default:\n        break;\n    }\n  }\n  async calculateXtzToToken(): Promise<void> {\n    this.semaphore = true;\n    const xtzToSell = new Amount({\n      normalisedAmount: this.expectedXtz,\n      decimalPlaces: 6\n    });\n    await this.swapLiquidityService.fetchStorage(this.lqdContract);\n    const { xtzPool, tokenPool } = this.swapLiquidityService.createPoolAmounts();\n    const result = this.swapLiquidityService.calculateXtzToToken(xtzToSell, xtzPool, tokenPool, 0.005, this.swapLiquidityService.settings('liquidityBaking'));\n    this.expectedToken = result.expected?.internalNormalised.toFixed(result.expected?.decimalPlaces).toString();\n    this.semaphore = false;\n  }\n  async calculateTokenToXTZ(): Promise<void> {\n    this.semaphore = true;\n    const tokenToSell = new Amount({\n      normalisedAmount: this.expectedToken,\n      decimalPlaces: 8\n    });\n    await this.swapLiquidityService.fetchStorage(this.lqdContract);\n    const { xtzPool, tokenPool } = this.swapLiquidityService.createPoolAmounts();\n    const result = this.swapLiquidityService.calculateTokenToXTZ(tokenToSell, xtzPool, tokenPool, 0.005, this.swapLiquidityService.settings('liquidityBaking'));\n    this.expectedXtz = result.expected?.internalNormalised.toFixed(result.expected?.decimalPlaces).toString();\n    this.semaphore = false;\n  }\n  async calcAddLiquidity(): Promise<void> {\n    this.semaphore = true;\n    const toSell = new Amount({\n      normalisedAmount: this.expectedXtz,\n      decimalPlaces: 6\n    });\n    await this.swapLiquidityService.fetchStorage(this.lqdContract);\n    const { xtzPool, tokenPool } = this.swapLiquidityService.createPoolAmounts();\n    const result = this.swapLiquidityService.calculateAddLiquidityXTZ(\n      toSell,\n      xtzPool,\n      tokenPool,\n      parseFloat(this.swapLiquidityService.storage[this.lqdContract]?.total_pool),\n      0.005,\n      this.swapLiquidityService.settings('liquidityBaking')\n    );\n    this.expectedLqd = result.liquidityExpected?.internalNormalised.toFixed(result.liquidityExpected?.decimalPlaces).toString();\n    this.semaphore = false;\n  }\n  async calcRemoveLiquidity(): Promise<void> {\n    this.semaphore = true;\n    const lqtToBurn = new Amount({\n      normalisedAmount: this.expectedLqd,\n      decimalPlaces: 0\n    });\n    await this.swapLiquidityService.fetchStorage(this.lqdContract);\n    const { xtzPool, tokenPool } = this.swapLiquidityService.createPoolAmounts();\n    const result = this.swapLiquidityService.calculateRemoveLiquidity(\n      lqtToBurn,\n      xtzPool,\n      tokenPool,\n      parseFloat(this.swapLiquidityService.storage[this.lqdContract]?.total_pool),\n      0.005,\n      this.swapLiquidityService.settings('liquidityBaking')\n    );\n    this.expectedXtz = result.xtzExpected?.internalNormalised.toFixed(result.xtzExpected?.decimalPlaces).toString();\n    this.expectedToken = result.tokenExpected?.internalNormalised.toFixed(result.tokenExpected?.decimalPlaces).toString();\n    this.semaphore = false;\n  }\n}\n","<app-prepare-send *ngIf=\"!embedded\" [prepareRequest]=\"prepareRequest\" (prepareResponse)=\"handlePrepareResponse($event)\"></app-prepare-send>\n<app-confirm-send [confirmRequest]=\"confirmRequest\" (operationResponse)=\"handleConfirmResponse($event)\"></app-confirm-send>\n<app-confirm-send-embed *ngIf=\"embedded\" [templateRequest]=\"templateRequest\" (isApproved)=\"handleTemplateApproval($event)\" [activeAccount]=\"activeAccount\"></app-confirm-send-embed>\n<app-swap-liquidity (prepareResponse)=\"handlePrepareResponse($event)\"></app-swap-liquidity>\n<app-swap-liquidity-confirm [confirmRequest]=\"confirmSwapLiquidityRequest\" (operationResponse)=\"handleConfirmResponse($event)\"></app-swap-liquidity-confirm>\n","import { Component, OnInit, Input, Output, EventEmitter, OnChanges, SimpleChanges, OnDestroy } from '@angular/core';\nimport { Account, EmbeddedTorusWallet } from '../../../services/wallet/wallet';\nimport {\n  PrepareRequest,\n  ConfirmRequest,\n  FullyPreparedTransaction,\n  PartiallyPreparedTransaction,\n  TemplateRequest,\n  TemplateFee,\n  ConfirmSwapRequest,\n  LqdEntrypoints\n} from './interfaces';\nimport { Template } from 'kukai-embed';\nimport { TokenService } from '../../../services/token/token.service';\nimport { EstimateService } from '../../../services/estimate/estimate.service';\nimport { MessageService } from '../../../services/message/message.service';\nimport { assertMichelsonData } from '@taquito/michel-codec';\nimport { OperationService } from '../../../services/operation/operation.service';\nimport Big from 'big.js';\nimport { WalletService } from '../../../services/wallet/wallet.service';\nimport { CoordinatorService } from '../../../services/coordinator/coordinator.service';\nimport { CONSTANTS } from '../../../../environments/environment';\nimport { SubjectService } from '../../../services/subject/subject.service';\nimport { Subscription } from 'rxjs';\nimport { ExternalRequest } from '../../../interfaces';\n\n@Component({\n  selector: 'app-send',\n  templateUrl: './send.component.html'\n})\nexport class SendComponent implements OnInit, OnChanges, OnDestroy {\n  LqdEntrypoints = LqdEntrypoints;\n  @Input() embedded: boolean;\n  activeAccount: Account;\n  @Input() tokenTransfer: string;\n  @Input() externalRequest: ExternalRequest;\n  @Input() template: Template;\n  @Output() operationResponse = new EventEmitter();\n  prepareRequest: PrepareRequest = null;\n  confirmRequest: ConfirmRequest = null;\n  templateRequest: TemplateRequest = null;\n  confirmSwapLiquidityRequest: ConfirmSwapRequest = null;\n  symbol: string;\n  readonly thresholdUSD = 50;\n  private subscriptions: Subscription = new Subscription();\n  private swapLiquidityEntrypoints = ['addLiquidity', 'removeLiquidity', 'xtzToToken', 'tokenToXtz'];\n\n  readonly lqdContract = 'KT1TxqZ8QtKvLu3V3JH7Gx58n7Co8pgtpQU5';\n  readonly tzBTCContract = 'KT1PWx2mnDueood7fEmfbBDKx1D9BAnnXitn';\n\n  constructor(\n    public tokenService: TokenService,\n    private estimateService: EstimateService,\n    private messageService: MessageService,\n    private operationService: OperationService,\n    private walletService: WalletService,\n    private coordinatorService: CoordinatorService,\n    private subjectService: SubjectService\n  ) {}\n\n  ngOnInit(): void {\n    this.subscriptions.add(\n      this.subjectService.prepareTokenTransfer.subscribe((t) => {\n        this.prepareRequest = t;\n        this.tokenTransfer = t?.tokenTransfer;\n        this.activeAccount = t?.account;\n        this.symbol = t?.symbol;\n      })\n    );\n  }\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes?.externalRequest?.currentValue) {\n      this.activeAccount = changes.externalRequest.currentValue.selectedAccount;\n      this.checkOpReq(changes.externalRequest.currentValue.operationRequest);\n    }\n  }\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n  private async checkOpReq(opReq: any): Promise<void | {\n    kind;\n    destination;\n    amount;\n    parameters;\n    gasRecommendation;\n    storageRecommendation;\n  }> {\n    if (opReq.operationDetails) {\n      opReq = opReq.operationDetails;\n    }\n    if (this.walletService.wallet instanceof EmbeddedTorusWallet && !this.walletService.wallet?.sk && this.template?.silent) {\n      this.operationResponse.emit('invalid_parameters');\n      return;\n    }\n    if (opReq[0].kind === 'transaction') {\n      const txs: PartiallyPreparedTransaction[] = opReq.map((tx) => {\n        if (tx.kind !== 'transaction') {\n          throw new Error('Invalid op kind');\n        }\n        // identify token transfers\n        return {\n          kind: 'transaction',\n          destination: tx.destination,\n          amount: Big(tx.amount)\n            .div(10 ** 6)\n            .toFixed(), // handle token decimals here\n          parameters: tx.parameters ? tx.parameters : undefined,\n          gasRecommendation: tx.gas_limit ? tx.gas_limit : undefined,\n          storageRecommendation: tx.storage_limit ? tx.storage_limit : undefined\n        };\n      });\n      if (this.validParameters(txs)) {\n        if (txs.length === 1 && !this.template) {\n          const tokenTransferObj: any = this.getTokenTransferObj(txs[0]);\n          if (tokenTransferObj) {\n            const asset = this.tokenService.getAsset(tokenTransferObj.tokenId);\n            txs[0].amount = Big(tokenTransferObj.amount)\n              .div(10 ** asset.decimals)\n              .toFixed();\n            txs[0].destination = tokenTransferObj.to;\n            this.tokenTransfer = tokenTransferObj.tokenId;\n            delete txs[0].parameters;\n          } else {\n            this.tokenTransfer = '';\n          }\n          this.simulateRequest(txs, tokenTransferObj?.tokenId);\n        } else {\n          this.tokenTransfer = '';\n          this.simulateRequest(txs, '');\n        }\n      } else {\n        this.operationResponse.emit('invalid_parameters');\n      }\n    }\n  }\n  getTokenTransferObj(op: any): null | { tokenId: string; to: string; amount: string } {\n    if (op.parameters && this.tokenService.isKnownTokenContract(op.destination)) {\n      const tokenTransfer = this.operationService.parseTokenTransfer(op);\n      if (tokenTransfer && this.tokenService.isKnownTokenId(tokenTransfer?.tokenId)) {\n        return tokenTransfer;\n      }\n    }\n    return null;\n  }\n  validParameters(txs: PartiallyPreparedTransaction[]): boolean {\n    for (const tx of txs) {\n      if (tx.parameters) {\n        try {\n          if (!tx.parameters.value || !tx.parameters.entrypoint) {\n            throw new Error('entrypoint and value expected');\n          }\n          assertMichelsonData(tx.parameters.value);\n        } catch (e) {\n          this.messageService.addError(`Invalid parameters: ${e.message}`);\n          return false;\n        }\n      }\n    }\n    return true;\n  }\n  async simulateRequest(\n    txs: PartiallyPreparedTransaction[],\n    tokenTransfer: string\n  ): Promise<void | {\n    tx: PartiallyPreparedTransaction;\n    fee;\n    gasLimit;\n    storageLimit;\n  }> {\n    if (this.template) {\n      if (this.template.silent) {\n        console.log('Silent signing');\n      } else {\n        this.templateRequest = {\n          template: this.template,\n          partialOps: txs\n        };\n      }\n    } else {\n      await this.messageService.startSpinner('Preparing transaction...');\n    }\n    try {\n      await this.estimateService.preLoadData(this.activeAccount.pkh, this.activeAccount.pk);\n      const callback = (res) => {\n        if (res) {\n          if (res.error) {\n            this.messageService.addError(`Simulation error: ${res.error.message}`, 0);\n            this.operationResponse.emit({\n              error: 'invalid_parameters',\n              errorMessage: res.error.message\n            });\n          } else {\n            const fullyPrepared: FullyPreparedTransaction[] = txs.map((tx, i) => {\n              return {\n                ...tx,\n                fee: i === txs.length - 1 ? res.fee : '0',\n                gasLimit: res.customLimits[i].gasLimit.toString(),\n                storageLimit: res.customLimits[i].storageLimit.toString()\n              };\n            });\n            if (this.template) {\n              const fee = this.getTemplateFee(fullyPrepared);\n              console.log('Use template', this.template);\n              if (!this.template.silent) {\n                this.templateRequest = {\n                  template: this.template,\n                  partialOps: txs,\n                  ops: fullyPrepared,\n                  fee\n                };\n              } else {\n                let amount = Big(0);\n                for (const op of fullyPrepared) {\n                  amount = Big(op.amount).plus(amount);\n                }\n                amount = Big(fee.total).plus(amount);\n                amount = amount.times(Big(CONSTANTS.MAINNET && this.walletService.wallet?.XTZrate ? this.walletService.wallet.XTZrate : 5));\n                if (amount.gt(Big(this.thresholdUSD))) {\n                  this.operationResponse.emit('exceeded_threshold');\n                } else {\n                  this.silentInject(fullyPrepared);\n                }\n              }\n            } else {\n              this.confirmTransactions(fullyPrepared, true);\n            }\n          }\n        } else {\n          throw new Error('No simulation result');\n        }\n      };\n      await this.estimateService.estimateTransactions(JSON.parse(JSON.stringify(txs)), this.activeAccount.pkh, tokenTransfer, callback);\n    } catch (e) {\n      console.error(e);\n      this.operationResponse.emit('unknown_error');\n    } finally {\n      await this.messageService.stopSpinner();\n    }\n  }\n  prepareTransaction(): void {\n    this.prepareRequest = {\n      account: this.activeAccount,\n      tokenTransfer: this.tokenTransfer,\n      symbol: this.symbol\n    };\n  }\n  confirmTransactions(transactions: FullyPreparedTransaction[], externalReq: boolean): void {\n    if (this.isLbReq(transactions)) {\n      if (!externalReq) {\n        this.activeAccount = this.subjectService.activeAccount.getValue();\n      }\n      this.confirmSwapLiquidityRequest = {\n        account: this.activeAccount,\n        transactions,\n        externalReq\n      };\n    } else {\n      this.confirmRequest = {\n        account: this.activeAccount,\n        tokenTransfer: this.tokenTransfer,\n        transactions,\n        externalReq\n      };\n    }\n  }\n  private isLbReq(transactions: FullyPreparedTransaction[]): boolean {\n    if (\n      transactions.length === 1 &&\n      transactions[0].destination === this.lqdContract &&\n      ['xtzToToken', 'removeLiquidity'].includes(transactions[0].parameters?.entrypoint)\n    ) {\n      // xtzToToken or removeLiquidity\n      return true;\n    } else if (transactions[0].destination === this.tzBTCContract && transactions[0].parameters?.entrypoint === 'approve') {\n      // can be tokenToXtz or addLiquidity\n      if (transactions.length === 3 && transactions[0].parameters?.value?.args[1]?.int !== '0') {\n        console.log('prepend 0 approve');\n        // normalize\n        transactions.unshift({\n          ...transactions[0],\n          kind: 'transaction',\n          amount: '0',\n          destination: this.tzBTCContract,\n          parameters: this.operationService.getRevokeAmountParameters(this.lqdContract)\n        });\n      }\n      if (\n        transactions.length === 4 &&\n        new Set([transactions[0].destination, transactions[1].destination, transactions[3].destination, this.tzBTCContract]).size === 1 &&\n        new Set([transactions[0].parameters?.entrypoint, transactions[1].parameters?.entrypoint, transactions[3].parameters?.entrypoint, 'approve']).size ===\n          1 &&\n        new Set([\n          transactions[0].parameters?.value?.args[0]?.string,\n          transactions[1].parameters?.value?.args[0]?.string,\n          transactions[3].parameters?.value?.args[0]?.string,\n          this.lqdContract\n        ]).size === 1 &&\n        transactions[2].destination === this.lqdContract &&\n        ['tokenToXtz', 'addLiquidity'].includes(transactions[2].parameters?.entrypoint)\n      ) {\n        return true;\n      }\n    }\n    return false;\n  }\n  handlePrepareResponse(preparedTransactions: FullyPreparedTransaction[]): void {\n    this.prepareRequest = null;\n    if (preparedTransactions) {\n      console.log('PrepareResponse', JSON.stringify(preparedTransactions));\n      this.confirmTransactions(preparedTransactions, false);\n    }\n  }\n  handleConfirmResponse(opHash: string): void {\n    this.confirmRequest = null;\n    this.confirmSwapLiquidityRequest = null;\n    this.operationResponse.emit(opHash);\n  }\n  handleTemplateApproval(ops: FullyPreparedTransaction[]): void {\n    if (ops) {\n      this.silentInject(ops);\n    } else {\n      this.operationResponse.emit(null);\n    }\n    this.template = null;\n  }\n  private getTemplateFee(ops: FullyPreparedTransaction[]): TemplateFee {\n    let network = new Big(0);\n    let storageLimit = new Big(0);\n    for (const op of ops) {\n      network = network.plus(op.fee);\n      storageLimit = storageLimit.plus(op.storageLimit);\n    }\n    let storage = storageLimit.times(this.estimateService.costPerByte).div('1000000');\n    const total = network.plus(storage).toFixed();\n    network = network.toFixed();\n    storage = storage.toFixed();\n    return { network, storage, total };\n  }\n  async silentInject(ops: FullyPreparedTransaction[]): Promise<void> {\n    if (!this.walletService.isEmbeddedTorusWallet()) {\n      this.operationResponse.emit('UNSUPPORTED_WALLET_TYPE');\n      return;\n    }\n    for (const op of ops) {\n      // Limit to transactions for now\n      if (op.kind !== 'transaction') {\n        this.operationResponse.emit('UNSUPPORTED_KIND');\n        break;\n      }\n    }\n    if (!this.template.silent) {\n      this.messageService.startSpinner('Sending transaction...');\n    }\n    let keys;\n    try {\n      keys = await this.walletService.getKeys('', this.activeAccount.pkh);\n    } catch {\n      this.messageService.stopSpinner();\n    }\n    if (!keys) {\n      this.operationResponse.emit('FAILED_TO_SIGN');\n      return;\n    }\n    this.subscriptions.add(\n      this.operationService.transfer(this.activeAccount.address, ops, Number(ops[ops.length - 1].fee), keys, '').subscribe(\n        async (ans: any) => {\n          if (ans.success === true) {\n            console.log('Transaction successful ', ans);\n            await this.messageService.stopSpinner();\n            this.operationResponse.emit(ans.payload.opHash);\n            const metadata = {\n              transactions: ops,\n              opHash: ans.payload.opHash\n            };\n            await this.coordinatorService.boost(this.activeAccount.address, metadata);\n            for (const transaction of ops) {\n              if (this.walletService.addressExists(transaction.destination)) {\n                await this.coordinatorService.boost(transaction.destination);\n              }\n            }\n          } else {\n            await this.messageService.stopSpinner();\n            console.log('Transaction error id ', ans.payload.msg);\n            this.messageService.addError(ans.payload.msg, 0);\n            this.operationResponse.emit({\n              error: 'broadcast_error',\n              errorMessage: ans.payload.msg\n            });\n          }\n        },\n        (err) => {\n          this.messageService.stopSpinner();\n          console.log(err);\n          this.operationResponse.emit('UNKNOWN_ERROR');\n        }\n      )\n    );\n  }\n}\n","<div *ngIf=\"req\" class=\"flex-column kukai-modal\">\n  <div class=\"content\">\n    <div class=\"flex-column top\">\n      <img class=\"flex-row button close\" (click)=\"cancel()\" src=\"../../../../assets/img/add-minterpop.svg\" />\n      <h1 class=\"title\">{{req.template.action || 'Confirmation'}}</h1>\n    </div>\n    <div class=\"seperator\"></div>\n    <div class=\"flex-column confirm-send\">\n        <div *ngIf=\"req.template.descriptions[0].text\" class=\"asset-name\">{{ req.template.descriptions[0].text }}</div>\n        <div class=\"flex-row transaction\">\n          <div class=\"flex-column left\">\n            <span *ngIf=\"req.template.descriptions[1].text\" class=\"default-text\">{{ req.template.descriptions[1].text }}</span>\n            <span *ngIf=\"req.template.descriptions[2]\" class=\"default-text amount\">{{ req.template.descriptions[2].text }}</span>\n            <span *ngIf=\"req.template.descriptions[3]\" class=\"default-text\">{{ req.template.descriptions[3].text }}</span>\n            <span class=\"default-text\">From:</span>\n            <div class=\"flex-row torus\" *ngIf=\"this.walletService.wallet.verifier\">\n              <img class=\"icon\" src=\"../../../assets/img/{{ this.walletService.wallet.verifier }}-logo.svg\">\n              <div class=\"flex-column\">\n                <span class=\"name\">{{ this.walletService.wallet.displayName() }}</span><span class=\"address\">{{\n                  req.activeAccount.address }}</span>\n              </div>\n            </div>\n            <span *ngIf=\"!this.walletService.wallet.verifier\" class=\"default-text single-to\">{{ req.activeAccount.address\n              }}</span>\n          </div>\n          <div *ngIf=\"req.template.descriptions[0]?.imgUrl\" class=\"flex-column right\">\n            <img class=\"token-image\" [src]=\"req.template.descriptions[0]?.imgUrl\" />\n          </div>\n        </div>\n      <br />\n      <div class=\"seperator\"></div>\n      <div class=\"flex-column bottom\">\n        <div class=\"flex-row default-text more-info\" [class]=\"showMore ? 'open' : ''\" (click)=\"showMore = !showMore\">{{ !showMore ?\n          'Show More' : 'Show Less' }}<img src=\"../../../../assets/img/dropdown-minterpop.svg\"></div>\n        <div *ngIf=\"showMore && req.payload\" class=\"info\">\n          <textarea style=\"width: 100%; padding: 0.5rem\" rows=10>{{req.payload}}</textarea>\n        </div>\n      </div>\n      <br />\n      <div class=\"flex-row buttons\">\n        <button (click)=\"approve()\">\n          <ng-container *ngIf=\"req.template.button; else defaultButtonText\">\n            {{req.template.button}}</ng-container>\n          <ng-template #defaultButtonText>Send</ng-template>\n        </button>\n      </div>\n      <div class=\"footer\">\n        <span>Powered by</span><img class=\"logo\" src=\"../../../../assets/img/header-logo-grey.svg\">\n      </div>\n    </div>\n  </div>\n</div> ","import { Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges } from '@angular/core';\nimport { WalletService } from '../../../../../services/wallet/wallet.service';\n\n@Component({\n  selector: 'app-sign-expr-template',\n  templateUrl: './template.component.html',\n  styleUrls: ['../../confirm-send/confirm-send.component.scss']\n})\nexport class ExprTemplateComponent implements OnInit, OnChanges {\n  @Input() req = null;\n  @Output() isApproved = new EventEmitter();\n  constructor(public walletService: WalletService) {}\n\n  ngOnInit(): void {}\n  ngOnChanges(changes: SimpleChanges): void {}\n  cancel() {\n    this.isApproved.emit(false);\n  }\n  approve() {\n    this.isApproved.emit(true);\n  }\n}\n","<div *ngIf=\"signRequest && payload && !template\" class=\"flex-column kukai-modal\">\n  <div class=\"content\">\n    <div class=\"flex-column top\">\n      <img class=\"flex-row button close\" (click)=\"rejectSigning()\" src=\"../../../../assets/img/add-minterpop.svg\" />\n      <h1 class=\"title\">{{ signRequest?.title ? signRequest.title : 'Sign Expression' }}</h1>\n    </div>\n    <div class=\"flex-column sign-expr\">\n      <div class=\"seperator\"></div>\n      <p class=\"previewAttention\">{{ description ? description : 'An application has requested you sign an\n        expression.' }}</p>\n        <div class=\"seperator\"></div>\n      <div class=\"flex-row more-info\" [class]=\"showMore ? 'open' : ''\" (click)=\"toggle()\">{{ !showMore ? 'Show More' : 'Show Less' }}<img src=\"../../../../assets/img/dropdown-minterpop.svg\"></div>\n      <div *ngIf=\"showMore\" class=\"info\">\n        <textarea rows=\"6\" readonly>{{ payload }}</textarea>\n      </div>\n      <div class=\"flex-column bottom\">\n        <span *ngIf=\"this.pwdInvalid\" class=\"danger margin\">{{ this.pwdInvalid }}</span>\n        <button class=\"purple confirm\" (click)=\"sign()\">SIGN</button>\n        <div class=\"footer\">\n          <span>Powered by</span><img class=\"logo\" src=\"../../../../assets/img/header-logo-grey.svg\">\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n<app-sign-expr-template *ngIf=\"signRequest && payload && template\" [req]=\"{payload: payload, template: template, activeAccount: activeAccount}\" (isApproved)=\"handleTemplateApproval($event)\"></app-sign-expr-template>","import { Component, OnInit, SimpleChanges, Input, Output, EventEmitter, OnChanges } from '@angular/core';\nimport { WalletService } from '../../../../services/wallet/wallet.service';\nimport { MessageService } from '../../../../services/message/message.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Account } from '../../../../services/wallet/wallet';\nimport { OperationService } from '../../../../services/operation/operation.service';\nimport { emitMicheline } from '@taquito/michel-codec';\nimport { valueDecoder } from '@taquito/local-forging/dist/lib/michelson/codec';\nimport { Uint8ArrayConsumer } from '@taquito/local-forging/dist/lib/uint8array-consumer';\nimport { InputValidationService } from '../../../../services/input-validation/input-validation.service';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-sign-expr-embed',\n  templateUrl: './sign-expr.component.html',\n  styleUrls: ['./sign-expr.component.scss']\n})\nexport class SignExprEmbedComponent implements OnInit, OnChanges {\n  @Input() signRequest: any;\n  @Input() activeAccount: Account;\n  @Output() signResponse = new EventEmitter();\n  syncSub: Subscription;\n  password = '';\n  pwdInvalid = '';\n  payload = '';\n  template = null;\n  description = null;\n  isMessage = false;\n  showMore = false;\n  constructor(\n    public walletService: WalletService,\n    private messageService: MessageService,\n    public translate: TranslateService,\n    private operationService: OperationService,\n    private inputValidationService: InputValidationService\n  ) {}\n  ngOnInit(): void {}\n  ngOnChanges(changes: SimpleChanges): void {\n    if (this.signRequest) {\n      const scrollBarWidth = window.innerWidth - document.body.offsetWidth;\n      document.body.style.marginRight = scrollBarWidth.toString();\n      document.body.style.overflow = 'hidden';\n      this.template = this.signRequest.ui;\n      this.isMessage = this.inputValidationService.isMessageSigning(this.signRequest.payload);\n      const value = valueDecoder(Uint8ArrayConsumer.fromHexString(this.signRequest.payload.slice(2)));\n      const payload = emitMicheline(value, {\n        indent: '  ',\n        newline: '\\n'\n      });\n      this.payload = this.isMessage ? value.string : payload;\n    }\n  }\n  async sign() {\n    const pwd = this.password;\n    this.password = '';\n    await this.messageService.startSpinner(`Signing ${this.isMessage ? 'message' : 'payload'}...`);\n    let keys;\n    try {\n      keys = await this.walletService.getKeys(pwd, this.activeAccount.pkh);\n    } catch (e) {\n      console.warn(e);\n      this.messageService.stopSpinner();\n    }\n    if (keys) {\n      this.pwdInvalid = '';\n      try {\n        const signature = this.operationService.sign(this.signRequest.payload, keys.sk).edsig;\n        this.acceptSigning(signature);\n      } catch (e) {\n        this.pwdInvalid = 'Signing failed';\n        console.warn(e);\n      } finally {\n        this.messageService.stopSpinner();\n      }\n    } else {\n      this.messageService.stopSpinner();\n      if (this.walletService.isTorusWallet()) {\n        this.pwdInvalid = `Authorization failed`;\n      } else {\n        this.pwdInvalid = this.translate.instant('SENDCOMPONENT.WRONGPASSWORD');\n      }\n    }\n  }\n  rejectSigning() {\n    this.closeModal();\n    this.signResponse.emit(null);\n  }\n  acceptSigning(signature: string) {\n    this.messageService.addSuccess(this.isMessage ? 'Message signed!' : 'Payload signed!');\n    this.closeModal();\n    this.signResponse.emit(signature);\n  }\n  closeModal() {\n    // restore body scrollbar\n    document.body.style.marginRight = '';\n    document.body.style.overflow = '';\n    this.clear();\n  }\n  clear() {\n    this.password = '';\n    this.pwdInvalid = '';\n    this.payload = '';\n    this.isMessage = false;\n    this.template = null;\n  }\n  toggle() {\n    this.showMore = !this.showMore;\n  }\n  handleTemplateApproval(t) {\n    if (t) {\n      this.sign();\n    } else {\n      this.rejectSigning();\n    }\n  }\n}\n","<h3>Processing Transaction...</h3>\n<br />\n<h1 class=\"high-demand\">High Demand Item!</h1>\n<br />\n<p class=\"desc\">Your order is being delivered. Wait times vary, but can be<br />as short as seconds or a few minutes\n</p>\n<br />\n<br />\n<h1>Estimated Wait Time:</h1>\n<h1 class=\"flex-row time\">\n  <span *ngIf=\"hours !== '00'\"class=\"flex-column hours\">\n    <h1>{{ hours }}</h1>\n    <h5>Hours</h5>\n  </span>\n  <span class=\"flex-column minutes\">\n    <h1>{{ minutes }}</h1>\n    <h5>Minutes</h5>\n  </span>\n  <span class=\"flex-column seconds\">\n    <h1>{{ seconds }}</h1>\n    <h5>Seconds</h5>\n  </span>\n</h1>\n<br />\n<br />\n<h2 class=\"note\">Note: Do not close this window or leave this page!</h2>\n<br />\n<h2 class=\"desc\">You will cancel this transaction<br />and have to start over!</h2>","import { Component, Input, OnInit, SimpleChanges } from '@angular/core';\n\n@Component({\n  selector: 'app-queue-embed',\n  templateUrl: './queue.component.html',\n  styleUrls: ['./queue.component.scss']\n})\nexport class QueueEmbedComponent implements OnInit {\n  @Input('queueTime') queueTime = 0;\n  hours = '0';\n  minutes = '0';\n  seconds = '0';\n  constructor() {}\n  ngOnInit(): void {\n    this.updateTime();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.queueTime.currentValue !== changes.queueTime.previousValue) {\n      this.updateTime();\n    }\n  }\n\n  updateTime() {\n    let sec: any = this.queueTime;\n    let hrs: any = Math.floor(sec / 3600);\n    sec -= hrs * 3600;\n    let min: any = Math.floor(sec / 60);\n    sec -= min * 60;\n    sec = sec.toString();\n    min = min.toString();\n    hrs = hrs.toString();\n\n    this.hours = hrs.length < 2 ? '0' + hrs : hrs;\n    this.minutes = min.length < 2 ? '0' + min : min;\n    this.seconds = sec.length < 2 ? '0' + sec : sec;\n  }\n}\n","<app-queue-embed *ngIf=\"this.queueTimeVisible > 0\" [queueTime]=\"this.queueTimeVisible\"></app-queue-embed>\n<div *ngIf=\"this.queueTime === 0 && this.queueTimeVisible === 0\" class=\"flex-column direct-auth-login-alt\">\n  <div class=\"flex-row header\">\n    <img (click)=\"abort()\" class=\"abort\" src=\"../../../assets/img/x-alt.svg\">\n    <img *ngIf=\"loginConfig.showBackButton\" (click)=\"back()\" class=\"back\" src=\"../../../assets/img/back-arrow.svg\">\n  </div>\n  <h1 *ngIf=\"this.loginConfig?.customPrio !== 'high'\">Choose Social Provider</h1>\n  <h1 *ngIf=\"this.loginConfig?.customPrio === 'high'\">Please re-authenticate</h1>\n  <div class=\"flex-row-wrap login-options\" *ngIf=\"torusService && torusService.verifierMapKeys\">\n    <ng-container *ngFor=\"let key of loginOptions; let idx = index\">\n      <div *ngIf=\"loginConfig.buttonsVertically === true || (loginConfig.wideButtons && loginConfig.wideButtons[idx] === true); else narrow\" class=\"flex-row option wide\"\n        (click)=\"login(key)\">\n        <img src=\"../../../../assets/img/torus-login/{{ key }}-color.svg\" width=\"24\" /><span>Sign in with {{ key |\n          titlecase }}</span>\n      </div>\n      <ng-template #narrow>\n        <div class=\"flex-row option narrow\"\n        (click)=\"login(key)\">\n        <img src=\"../../../../assets/img/torus-login/{{ key }}-color.svg\" width=\"24\" />\n      </div>\n      </ng-template>\n    </ng-container>\n  </div>\n  <div class=\"footer\">\n    <span>Powered by</span><img class=\"logo\" src=\"../../../../assets/img/header-logo-grey.svg\">\n  </div>\n</div>","import { EventEmitter, Input, Output, SimpleChanges, Component, OnInit, OnChanges } from '@angular/core';\nimport { LoginConfig, TypeOfLogin, LoginPrio } from 'kukai-embed';\nimport { WalletService } from '../../../../services/wallet/wallet.service';\nimport { MessageService } from '../../../../services/message/message.service';\nimport { TorusService } from '../../../../services/torus/torus.service';\nimport { EmbeddedTorusWallet } from '../../../../services/wallet/wallet';\nimport { CONSTANTS } from '../../../../../environments/environment';\nimport { SubjectService } from '../../../../services/subject/subject.service';\n\n@Component({\n  selector: 'app-signin',\n  templateUrl: './signin.component.html',\n  styleUrls: ['./signin.component.scss']\n})\nexport class SigninComponent implements OnInit, OnChanges {\n  constructor(\n    private messageService: MessageService,\n    public torusService: TorusService,\n    private walletService: WalletService,\n    private subjectService: SubjectService\n  ) {}\n  @Input() dismiss: Boolean;\n  @Input() loginConfig: LoginConfig;\n  @Output() loginResponse = new EventEmitter();\n  loginOptions = [];\n  queueTime: number = 0;\n  queueTimeVisible: number = 0;\n  queueLen = 0;\n  queueLenInterval: any;\n  statusCounter: number = 0;\n  queueInterval: NodeJS.Timeout;\n  readonly queueEndpoint = 'https://q.tcinfra.net/rpc';\n  ngOnInit(): void {}\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes?.loginConfig) {\n      if (this.loginConfig?.customPrio === LoginPrio.Low) {\n        this.queueLen = 0;\n        this.queueLenInterval = setInterval(async () => {\n          this.queueLen = await this.getQueueLen();\n          console.log('Queue length (s)', this.queueLen);\n        }, 5000);\n        this.getQueueLen().then((res) => {\n          this.queueLen = res;\n          console.log('Queue length (s)', this.queueLen);\n        });\n      }\n    }\n    if (changes?.dismiss?.currentValue === true) {\n      this.messageService.stopSpinner().then(() => this.loginResponse.emit('dismiss'));\n    }\n    if (changes?.loginConfig?.currentValue) {\n      if (this.loginConfig.customPrio === 'high') {\n        if (this.walletService.wallet && this.walletService.wallet instanceof EmbeddedTorusWallet) {\n          if (this.walletService.wallet?.verifier) {\n            this.loginConfig.loginOptions = [this.walletService.wallet.verifier as TypeOfLogin];\n          }\n          this.startQueue();\n        }\n      }\n      if (this.loginConfig.loginOptions?.length > 0) {\n        this.loginOptions = [];\n        for (const loginOption of this.loginConfig.loginOptions) {\n          if (this.torusService.verifierMapKeys.includes(loginOption)) {\n            this.loginOptions.push(loginOption);\n          }\n        }\n      } else {\n        this.loginOptions = this.torusService.verifierMapKeys;\n      }\n    }\n  }\n  async startQueue() {\n    // set high prio\n    if (this.walletService.wallet instanceof EmbeddedTorusWallet) {\n      this.queueTime = -1;\n      this.setHighPrio(this.walletService.wallet.verifier, this.walletService.wallet.id);\n    }\n    this.queueTimeVisible = -1;\n    this.messageService.startSpinner();\n    this.queueInterval = setInterval(() => {\n      if (this.queueTimeVisible > 1 || (this.queueTimeVisible === 1 && this.queueTime === 0)) {\n        this.queueTimeVisible -= 1;\n      }\n      if (this.walletService.wallet instanceof EmbeddedTorusWallet) {\n        let timeBetweenChecks = 300;\n        if (this.queueTimeVisible < 4) {\n          timeBetweenChecks = 2;\n        } else if (this.queueTimeVisible < 60) {\n          timeBetweenChecks = 15;\n        } else if (this.queueTimeVisible < 1800) {\n          timeBetweenChecks = 60;\n        }\n        this.statusCounter = ++this.statusCounter % timeBetweenChecks;\n        if (this.statusCounter === 0) {\n          this.checkQueue(this.walletService.wallet.verifier, this.walletService.wallet.id);\n        }\n      }\n      if (this.queueTimeVisible <= 0 && this.queueTime === 0) {\n        this.stopQueue();\n      }\n    }, 1000);\n  }\n  stopQueue() {\n    if (this.queueInterval) {\n      clearInterval(this.queueInterval);\n    }\n    if (this.queueLenInterval) {\n      clearInterval(this.queueLenInterval);\n    }\n    this.queueTime = 0;\n    this.queueTimeVisible = 0;\n    this.queueLen = 0;\n    this.statusCounter = 0;\n    this.messageService.stopSpinner();\n  }\n  abort() {\n    this.loginResponse.emit(null);\n    this.stopQueue();\n  }\n  back() {\n    this.loginResponse.emit(undefined);\n    this.stopQueue();\n  }\n  async login(typeOfLogin: string) {\n    try {\n      this.messageService.startSpinner('Loading wallet...');\n      let loginData;\n      const len: number = this.queueLen;\n      if (this.loginConfig?.customPrio === LoginPrio.Low) {\n        loginData = await this.torusService.loginTorus(typeOfLogin, '', len > 5 ? 1 : 0, true);\n      } else if (this.loginConfig?.customPrio === LoginPrio.LowFast) {\n        loginData = await this.torusService.loginTorus(typeOfLogin, '', 2, true);\n      } else if (this.loginConfig?.customPrio === LoginPrio.High && this.walletService.wallet instanceof EmbeddedTorusWallet) {\n        loginData = await this.torusService.loginTorus(typeOfLogin, this.walletService.wallet.id);\n      } else {\n        loginData = await this.torusService.loginTorus(typeOfLogin);\n      }\n      if (!loginData?.keyPair) {\n        throw new Error('Login failed');\n      }\n      if (this.loginConfig?.customPrio === LoginPrio.Low) {\n        // loginData.keyPair = { pk: '', pkh: '' };\n        if (loginData?.keyPair?.pk === '') {\n          this.setLowPrio(loginData.userInfo);\n        } else {\n          if (len > 5) {\n            this.skipQueue(loginData.userInfo.typeOfLogin, loginData.userInfo.verifierId, loginData.keyPair.pkh);\n          } else {\n            if (loginData?.userInfo?.preexistingPkh) {\n              this.setLowPrio(loginData.userInfo);\n            } else {\n              this.skipQueue(loginData.userInfo.typeOfLogin, loginData.userInfo.verifierId, loginData?.keyPair?.pkh || loginData?.userInfo?.preexistingPkh);\n            }\n          }\n        }\n      } else if (this.loginConfig?.customPrio === LoginPrio.LowFast) {\n        if (loginData?.userInfo?.preexistingPkh) {\n          this.skipQueue(loginData.userInfo.typeOfLogin, loginData.userInfo.verifierId, loginData?.keyPair?.pkh || loginData?.userInfo?.preexistingPkh);\n        } else {\n          this.setLowPrio(loginData.userInfo);\n        }\n      }\n      if (this.dismiss === null) {\n        await this.messageService.stopSpinner();\n      }\n      this.loginResponse.emit(loginData);\n      this.stopQueue();\n    } catch {\n      await this.messageService.stopSpinner();\n    }\n  }\n  async setLowPrio(userInfo: any) {\n    let { typeOfLogin, verifierId } = userInfo;\n    const res = await this.post(this.queueEndpoint, {\n      action: 'add_low_priority',\n      network: CONSTANTS.MAINNET ? 'mainnet' : 'testnet',\n      verifier: typeOfLogin,\n      identity: verifierId,\n      groups: [CONSTANTS.NETWORK, this.subjectService.origin?.value]\n    });\n    console.log('setLowPrio', res);\n    return res;\n  }\n  async setHighPrio(typeOfLogin: string, verifierId: string) {\n    const res = await this.post(this.queueEndpoint, {\n      action: 'add_high_priority',\n      network: CONSTANTS.MAINNET ? 'mainnet' : 'testnet',\n      verifier: typeOfLogin,\n      identity: verifierId,\n      groups: [CONSTANTS.NETWORK, this.subjectService.origin?.value]\n    });\n    console.log('setHighPrio', res);\n    this.updateQueue(res);\n    return res;\n  }\n  async checkQueue(typeOfLogin: string, verifierId: string) {\n    const res = await this.post(\n      this.queueEndpoint,\n      {\n        action: 'fetch',\n        network: CONSTANTS.MAINNET ? 'mainnet' : 'testnet',\n        verifier: typeOfLogin,\n        identity: verifierId\n      },\n      0\n    );\n    console.log('checkQueue', res);\n    this.updateQueue(res);\n    return res;\n  }\n  async skipQueue(typeOfLogin: string, verifierId: string, pkh: string) {\n    const res = await this.post(this.queueEndpoint, {\n      action: 'report',\n      network: CONSTANTS.MAINNET ? 'mainnet' : 'testnet',\n      verifier: typeOfLogin,\n      identity: verifierId,\n      groups: [CONSTANTS.NETWORK, this.subjectService.origin?.value],\n      metadata: { pkh }\n    });\n    console.log('skipQueue', res);\n    return res;\n  }\n  updateQueue(res: any) {\n    if (res?.EstimatedTimeSeconds !== -1) {\n      if (res.EstimatedTimeSeconds === 0 && res.Status === 'error') {\n        console.error('FailedToResolve');\n        this.abort();\n        return;\n      }\n      if (this.queueTimeVisible === -1) {\n        this.messageService.stopSpinner();\n      }\n      this.queueTime = this.queueTimeVisible = res.EstimatedTimeSeconds;\n    }\n  }\n  async getQueueLen(): Promise<number> {\n    const res = await this.post(this.queueEndpoint, {\n      action: 'len'\n    });\n    return Number(res.EstimatedTimeSeconds);\n  }\n  async get(url: string, triesLeft = 3) {\n    return await fetch(url)\n      .then(async (res) => {\n        return await res.json();\n      })\n      .catch(async (e) => {\n        if (triesLeft > 0) {\n          return await this.get(url, --triesLeft);\n        } else {\n          throw e;\n        }\n      });\n  }\n  async post(url: string, body: any, triesLeft = 3) {\n    return await fetch(url, {\n      method: 'POST',\n      headers: {\n        'Content-type': 'application/json'\n      },\n      body: JSON.stringify(body)\n    })\n      .then(async (res) => {\n        return await res.json();\n      })\n      .catch(async (e) => {\n        if (triesLeft > 0) {\n          return await this.post(url, body, --triesLeft);\n        } else {\n          throw e;\n        }\n      });\n  }\n}\n","import { Component, OnInit, Input } from '@angular/core';\nimport { WalletService } from '../../../../services/wallet/wallet.service';\nimport { TorusWallet, ImplicitAccount } from '../../../../services/wallet/wallet';\n\n@Component({\n  selector: 'app-card',\n  templateUrl: './card.component.html',\n  styleUrls: ['../../../../../scss/components/views/embedded/card/card.component.scss']\n})\nexport class CardComponent implements OnInit {\n  @Input() activeAccount: ImplicitAccount;\n\n  constructor(private walletService: WalletService) {}\n\n  ngOnInit(): void {}\n\n  displayName(): string {\n    if (this.walletService.wallet instanceof TorusWallet) {\n      return this.walletService.wallet.displayName();\n    } else {\n      return '';\n    }\n  }\n\n  verifier(): string {\n    if (this.walletService.wallet instanceof TorusWallet) {\n      return this.walletService.wallet.verifier;\n    } else {\n      return '';\n    }\n  }\n}\n","<div class=\"container\">\n    <div>\n        <img src=\"../../../assets/img/torus-login/{{verifier()}}-color.svg\" width=\"24\">\n        <h4>{{displayName()}}</h4>\n        <p>{{activeAccount.pkh}}</p>\n    </div>\n    <div>\n        <h4>BALANCE:</h4>\n        <h3>{{activeAccount.balanceXTZ || 0}} XTZ</h3>\n    </div>\n</div>\n","<app-signin *ngIf=\"login\" [dismiss]=\"dismiss\" [loginConfig]=\"loginConfig\" (loginResponse)=\"loginResponse($event)\"></app-signin>\n<app-send [embedded]=\"true\" *ngIf=\"externalRequest\" (operationResponse)=\"operationResponse($event)\" [headless]=true [externalRequest]=externalRequest\n    [template]=\"template\" [activeAccount]=activeAccount></app-send>\n<app-sign-expr-embed *ngIf=\"signRequest && activeAccount\" [signRequest]=\"signRequest\" [activeAccount]=activeAccount (signResponse)=\"signResponse($event)\"></app-sign-expr-embed>\n<app-card *ngIf=\"activeAccount && !blockCard && (!externalRequest && !login && !signRequest)\" [activeAccount]=activeAccount></app-card>\n","import { Component, ElementRef, OnInit } from '@angular/core';\nimport { TorusService } from '../../../services/torus/torus.service';\nimport { CONSTANTS } from '../../../../environments/environment';\nimport { ImportService } from '../../../services/import/import.service';\nimport { KeyPair, ExternalRequest } from '../../../interfaces';\nimport { WalletService } from '../../../services/wallet/wallet.service';\nimport { PartialTezosTransactionOperation } from '@airgap/beacon-sdk';\nimport { EmbeddedTorusWallet, ImplicitAccount } from '../../../services/wallet/wallet';\nimport { CoordinatorService } from '../../../services/coordinator/coordinator.service';\nimport { utils, common } from '@tezos-core-tools/crypto-utils';\nimport { ActivatedRoute } from '@angular/router';\nimport { LookupService } from '../../../services/lookup/lookup.service';\nimport { ActivityService } from '../../../services/activity/activity.service';\nimport { EmbeddedAuthService } from '../../../services/embedded-auth/embedded-auth.service';\nimport {\n  RequestTypes,\n  ResponseTypes,\n  RequestMessage,\n  ResponseMessage,\n  OperationResponse,\n  LogoutRequest,\n  TrackRequest,\n  LoginRequest,\n  OperationRequest,\n  AuthRequest,\n  CardRequest,\n  CardResponse,\n  SignExprRequest,\n  SignExprResponse,\n  LoginConfig,\n  LoginPrio\n} from 'kukai-embed';\nimport { Subscription } from 'rxjs';\nimport { SubjectService } from '../../../services/subject/subject.service';\nimport { InputValidationService } from '../../../services/input-validation/input-validation.service';\nenum Permission {\n  LOGIN = 'login',\n  OPERATIONS = 'operations',\n  MICHELINE = 'micheline',\n  MICHELINE_SILENT = 'micheline_silent'\n}\ninterface Permissions {\n  origins: string[];\n  permissions: {\n    [Permission.LOGIN]: boolean;\n    [Permission.OPERATIONS]: boolean;\n    [Permission.MICHELINE]: boolean;\n    [Permission.MICHELINE_SILENT]?: boolean;\n  };\n}\n@Component({\n  selector: 'app-embedded',\n  templateUrl: './embedded.component.html',\n  styleUrls: ['../../../../scss/components/views/embedded/embedded.component.scss']\n})\nexport class EmbeddedComponent implements OnInit {\n  readonly permissionMatrix: Record<string, Permissions> = {\n    brio: {\n      origins: ['https://playwithbrio.com', 'https://www.playwithbrio.com', 'https://production.playwithbrio.com'],\n      permissions: {\n        login: true,\n        operations: true,\n        micheline: true\n      }\n    },\n    minterpop: {\n      origins: ['https://minterpop.com'],\n      permissions: {\n        login: true,\n        operations: true,\n        micheline: true\n      }\n    },\n    interpop: {\n      origins: ['https://interpopcomics.com', 'https://www.interpopcomics.com'],\n      permissions: {\n        login: true,\n        operations: true,\n        micheline: true\n      }\n    },\n    humanMachine: {\n      origins: ['https://human-machine.io'],\n      permissions: {\n        login: true,\n        operations: false,\n        micheline: false\n      }\n    },\n    ubisoft: {\n      origins: ['*.ubisoft.com'],\n      permissions: {\n        login: true,\n        operations: false,\n        micheline: true\n      }\n    },\n    gap: {\n      origins: ['*.gap.com'],\n      permissions: {\n        login: true,\n        operations: true,\n        micheline: true,\n        micheline_silent: true\n      }\n    },\n    lexus: {\n      origins: ['https://ldai.lexusdesign.in'],\n      permissions: {\n        login: true,\n        operations: false,\n        micheline: false\n      }\n    },\n    blockspace: {\n      origins: ['https://block-space.app'],\n      permissions: {\n        login: true,\n        operations: false,\n        micheline: false\n      }\n    },\n    evian: {\n      origins: ['https://nft.evian.com'],\n      permissions: {\n        login: true,\n        operations: false,\n        micheline: false\n      }\n    },\n    souvie: {\n      origins: ['https://souvie.dev'],\n      permissions: {\n        login: true,\n        operations: false,\n        micheline: false\n      }\n    },\n    tzstaging: {\n      origins: ['*.tzstaging.com', 'https://tzstaging.com', 'https://tezos.com'],\n      permissions: {\n        login: true,\n        operations: false,\n        micheline: false\n      }\n    },\n    studioexception: {\n      origins: ['https://studioexception.eu'],\n      permissions: {\n        login: true,\n        operations: false,\n        micheline: true\n      }\n    },\n    cleantree: {\n      origins: ['https://cleantree.artshelp.net'],\n      permissions: {\n        login: true,\n        operations: false,\n        micheline: false\n      }\n    },\n    vitality: {\n      origins: ['*.vitality.gg'],\n      permissions: {\n        login: true,\n        operations: false,\n        micheline: false\n      }\n    },\n    kanvas: {\n      origins: ['*.tzconnect.berlin', 'https://metavert.sowvital.com'],\n      permissions: {\n        login: true,\n        operations: true,\n        micheline: true\n      }\n    },\n    proofof: {\n      origins: ['https://proofofperformance.xyz', 'https://pop-six.vercel.app'],\n      permissions: {\n        login: true,\n        operations: false,\n        micheline: false\n      }\n    },\n    emergents: {\n      origins: ['https://play.emergentstcg.com'],\n      permissions: {\n        login: true,\n        operations: false,\n        micheline: false\n      }\n    },\n    thegoodsociety: {\n      origins: ['https://www.thegoodsociety.org'],\n      permissions: {\n        login: true,\n        operations: false,\n        micheline: false\n      }\n    },\n    circa: {\n      origins: ['https://circa.art', 'https://nft.circa.art'],\n      permissions: {\n        login: true,\n        operations: false,\n        micheline: false\n      }\n    },\n    mooncakes: {\n      origins: ['https://mooncakes.fun', 'https://www.mooncakes.fun', 'https://df97ay9gblnsi.cloudfront.net'],\n      permissions: {\n        login: true,\n        operations: true,\n        micheline: true\n      }\n    },\n    truename: {\n      origins: ['https://truename.me'],\n      permissions: {\n        login: true,\n        operations: false,\n        micheline: false\n      }\n    }\n  };\n  constructor(\n    private torusService: TorusService,\n    private importService: ImportService,\n    private walletService: WalletService,\n    private coordinatorService: CoordinatorService,\n    private route: ActivatedRoute,\n    private lookupService: LookupService,\n    private activityService: ActivityService,\n    private embeddedAuthService: EmbeddedAuthService,\n    private subjectService: SubjectService,\n    private inputValidationService: InputValidationService,\n    private elRef: ElementRef\n  ) {}\n  pendingOps: string[] = [];\n  ophashSubscription: Subscription;\n  origin = '';\n  login = false;\n  dismiss: Boolean = null;\n  blockCard = true;\n  activeAccount: ImplicitAccount = null;\n  template = null;\n  externalRequest: ExternalRequest = null;\n  signRequest = null;\n  loginConfig: LoginConfig = null;\n  queueMode: LoginPrio = null;\n  currentInstanceId = '';\n\n  ngOnInit(): void {\n    document.body.style.background = 'none';\n    this.torusService.initTorus();\n    if (window.addEventListener) {\n      window.addEventListener('message', this.handleRequest, false);\n    } else {\n      (window as any).attachEvent('onmessage', this.handleRequest);\n    }\n    console.log('icabod is connected...');\n    this.route.queryParams\n      .filter((params) => params.instanceId)\n      .subscribe((params) => {\n        this.walletService.loadStoredWallet(params.instanceId);\n        this.currentInstanceId = params.instanceId;\n        if (this.walletService.wallet instanceof EmbeddedTorusWallet) {\n          this.origin = this.walletService.wallet.origin;\n          this.subjectService.origin.next(this.origin);\n          if (this.walletService.wallet?.implicitAccounts[0]) {\n            this.activeAccount = this.walletService.wallet.implicitAccounts[0];\n            this.coordinatorService.startXTZ();\n            this.coordinatorService.start(this.activeAccount.address, this.coordinatorService.defaultDelayActivity);\n            this.subscribeToConfirmedOps();\n          }\n        }\n      });\n    window.parent.window.postMessage(JSON.stringify({ type: ResponseTypes.initComplete, failed: false }), this.origin || '*');\n  }\n  handleRequest = (evt) => {\n    try {\n      const data: RequestMessage = JSON.parse(evt.data);\n      if (this.hasPermission(null, evt.origin)) {\n        console.log(`Received ${evt.data} from ${evt.origin}`);\n        if (data && data.type) {\n          this.origin = evt.origin;\n          this.subjectService.origin.next(this.origin);\n          switch (data.type) {\n            case RequestTypes.loginRequest:\n              this.handleLoginRequest(data);\n              break;\n            case RequestTypes.operationRequest:\n              this.handleOperationRequest(data);\n              break;\n            case RequestTypes.signExprRequest:\n              this.handleSignExprRequest(data);\n              break;\n            case RequestTypes.trackRequest:\n              this.handleTrackRequest(data);\n              break;\n            case RequestTypes.logoutRequest:\n              this.handleLogoutRequest(data);\n              break;\n            case RequestTypes.authRequest:\n              this.handleAuthRequest(data);\n              break;\n            case RequestTypes.cardRequest:\n              this.handleCardRequest(data);\n              break;\n            case RequestTypes.dismissRequest:\n              this.dismiss = true;\n              break;\n            default:\n              console.warn('Unknown request', data);\n          }\n        }\n      } else if (data && data.type) {\n        console.error(`Invalid origin (${evt.origin})`);\n      }\n    } catch {}\n  };\n  private handleSignExprRequest(req: SignExprRequest) {\n    if (!this.hasPermission(Permission.MICHELINE)) {\n      const response: ResponseMessage = {\n        type: ResponseTypes.signExprResponse,\n        failed: true,\n        error: 'NO_PERMISSION'\n      };\n      this.sendResponse(response);\n      return;\n    }\n    if (this.walletService.wallet instanceof EmbeddedTorusWallet && this.walletService.wallet.implicitAccounts[0] && req.expr) {\n      if (req.expr.slice(0, 2) === '0x') {\n        req.expr = req.expr.slice(2);\n      }\n      if (this.inputValidationService.isMichelineExpr(req.expr)) {\n        if (req?.ui?.silent && this.hasPermission(Permission.MICHELINE_SILENT)) {\n          this.embeddedAuthService\n            .signExprSilent(req.expr)\n            .then((signature) => {\n              this.signResponse(signature);\n            })\n            .catch((e) => {\n              this.sendResponse({\n                type: ResponseTypes.signExprResponse,\n                failed: true,\n                error: e.message ? e.message : 'UNKNOWN_ERROR'\n              });\n            });\n        } else {\n          this.signRequest = {\n            payload: req.expr,\n            ui: this.normalizeTemplate(req?.ui)\n          };\n        }\n      } else {\n        this.sendResponse({\n          type: ResponseTypes.signExprResponse,\n          failed: true,\n          error: 'INVALID_PARAMETERS'\n        });\n      }\n    } else {\n      let response: ResponseMessage;\n      if (!(this.walletService.wallet instanceof EmbeddedTorusWallet) || !this.walletService.wallet.implicitAccounts[0]) {\n        response = {\n          type: ResponseTypes.signExprResponse,\n          failed: true,\n          error: 'NO_WALLET_FOUND'\n        };\n      } else {\n        response = {\n          type: ResponseTypes.signExprResponse,\n          failed: true,\n          error: 'INVALID_PARAMETERS'\n        };\n      }\n      this.sendResponse(response);\n    }\n  }\n  public signResponse(response: any) {\n    this.signRequest = null;\n    let resp: SignExprResponse;\n    if (response && typeof response === 'string' && response.length > 95 && response.slice(0, 5) === 'spsig') {\n      resp = {\n        type: ResponseTypes.signExprResponse,\n        failed: false,\n        signature: response\n      };\n    } else {\n      resp = {\n        type: ResponseTypes.signExprResponse,\n        failed: true,\n        error: 'ABORTED_BY_USER'\n      };\n    }\n    this.sendResponse(resp);\n  }\n  private handleLoginRequest(req: LoginRequest) {\n    if (!this.hasPermission(Permission.LOGIN)) {\n      const response: ResponseMessage = {\n        type: ResponseTypes.loginResponse,\n        failed: true,\n        error: 'NO_PERMISSION'\n      };\n      this.sendResponse(response);\n      return;\n    }\n    this.queueMode = req?.config.customPrio ? req?.config.customPrio : null;\n    if (this.activeAccount || ([LoginPrio.Low, LoginPrio.LowFast].includes(this.queueMode) && this.walletService.wallet)) {\n      const response: ResponseMessage = {\n        type: ResponseTypes.loginResponse,\n        failed: true,\n        error: 'ALREADY_LOGGED_IN'\n      };\n      this.sendResponse(response);\n    } else if (this.queueMode === 'high' && !this.walletService.wallet) {\n      const response: ResponseMessage = {\n        type: ResponseTypes.loginResponse,\n        failed: true,\n        error: 'NO_WALLET_FOUND'\n      };\n      this.sendResponse(response);\n    } else {\n      if (req?.config?.customSpinnerDismissal) {\n        this.dismiss = false;\n      }\n      if (req?.config) {\n        this.loginConfig = req.config;\n      }\n      this.login = true;\n    }\n  }\n  private handleOperationRequest(req: OperationRequest) {\n    if (!this.hasPermission(Permission.OPERATIONS)) {\n      const response: ResponseMessage = {\n        type: ResponseTypes.operationResponse,\n        failed: true,\n        error: 'NO_PERMISSION'\n      };\n      this.sendResponse(response);\n      return;\n    }\n    if (this.walletService.wallet instanceof EmbeddedTorusWallet && this.walletService.wallet.implicitAccounts[0] && req.operations) {\n      if (this.isValidOperation(req.operations)) {\n        this.template = req.ui ? this.normalizeTemplate(req.ui) : null;\n        this.externalRequest = { operationRequest: req.operations, selectedAccount: this.activeAccount };\n      } else {\n        this.externalRequest = null;\n        this.sendResponse({\n          type: ResponseTypes.operationResponse,\n          failed: true,\n          error: 'INVALID_TRANSACTION'\n        });\n      }\n    } else {\n      this.sendResponse({\n        type: ResponseTypes.operationResponse,\n        failed: true,\n        error: 'NO_WALLET_FOUND'\n      });\n    }\n  }\n  private async handleTrackRequest(req: TrackRequest) {\n    this.pendingOps.push(req.opHash);\n  }\n  private handleLogoutRequest(req: LogoutRequest) {\n    if (this.walletService.wallet instanceof EmbeddedTorusWallet && this.walletService.wallet.instanceId) {\n      const instanceId = this.walletService.wallet.instanceId;\n      this.logout(instanceId);\n      this.sendResponse({\n        type: ResponseTypes.logoutResponse,\n        instanceId,\n        failed: false\n      });\n    } else {\n      this.noWalletError();\n    }\n  }\n  async loginResponse(loginData: any) {\n    let response: ResponseMessage;\n    let toImport: any;\n    if (loginData === 'dismiss') {\n      this.dismiss = null;\n      response = {\n        type: ResponseTypes.dismissResponse,\n        failed: false\n      };\n    } else if (loginData) {\n      const { keyPair, userInfo } = loginData;\n      const { idToken = '', accessToken = '', long_lived_token = '', ...filteredUserInfo } = { ...userInfo };\n      let instanceId;\n      if (\n        this.walletService.wallet &&\n        this.walletService.wallet instanceof EmbeddedTorusWallet &&\n        keyPair?.pk &&\n        !this.walletService.wallet.implicitAccounts[0] &&\n        this.currentInstanceId\n      ) {\n        instanceId = this.currentInstanceId;\n      } else {\n        // 160 bits of entropy, base58 encoded\n        instanceId = this.generateInstanceId();\n      }\n      response = {\n        type: ResponseTypes.loginResponse,\n        instanceId,\n        pk: keyPair.pk,\n        pkh: keyPair.pkh,\n        userData: filteredUserInfo,\n        failed: false\n      };\n      toImport = { keyPair, userInfo, instanceId };\n      if (this.loginConfig?.authParams) {\n        try {\n          response.authResponse = await this.embeddedAuthService.authenticate(this.loginConfig.authParams, this.origin, keyPair);\n        } catch (e) {\n          console.error(e);\n          response = {\n            type: ResponseTypes.loginResponse,\n            failed: true,\n            error: e?.message\n          };\n          toImport = undefined;\n        }\n      }\n    } else {\n      this.dismiss = null;\n      response = {\n        type: ResponseTypes.loginResponse,\n        failed: true,\n        error: loginData === null ? 'ABORTED_BY_USER' : 'BACKED_BY_USER'\n      };\n    }\n    const loginConfig = this.loginConfig;\n    if (this.dismiss === null) {\n      this.login = false;\n      this.loginConfig = null;\n    }\n    setTimeout(() => {\n      this.sendResponse(response);\n      if (toImport) {\n        if (loginConfig?.strictAuth) {\n          toImport.keyPair.sk = '';\n        }\n        this.importAccount(toImport.keyPair, toImport.userInfo, toImport.instanceId);\n      }\n    }, 10);\n  }\n  async handleAuthRequest(authReq: AuthRequest) {\n    if (!this.hasPermission(Permission.LOGIN)) {\n      const response: ResponseMessage = {\n        type: ResponseTypes.loginResponse,\n        failed: true,\n        error: 'NO_PERMISSION'\n      };\n      this.sendResponse(response);\n      return;\n    }\n    this.embeddedAuthService\n      .authenticate(authReq, this.origin)\n      .then((authResponse: any) => {\n        this.sendResponse({\n          type: ResponseTypes.authResponse,\n          failed: false,\n          message: authResponse.message,\n          signature: authResponse.signature\n        });\n      })\n      .catch((e: Error) => {\n        this.sendResponse({\n          type: ResponseTypes.authResponse,\n          failed: true,\n          error: e.message ? e.message : 'UNKNOWN_ERROR'\n        });\n      });\n  }\n  handleCardRequest(req: CardRequest) {\n    this.blockCard = !req.show;\n    const response: CardResponse = {\n      type: ResponseTypes.cardResponse,\n      failed: false\n    };\n    this.sendResponse(response);\n  }\n  noWalletError() {\n    this.sendResponse({\n      type: ResponseTypes.logoutResponse,\n      failed: true,\n      error: 'NO_WALLET_FOUND'\n    });\n  }\n  operationResponse(opHash: any) {\n    let response: OperationResponse;\n    let errorMessage = '';\n    if (opHash?.error && opHash.errorMessage) {\n      errorMessage = opHash.errorMessage;\n      opHash = opHash.error;\n    }\n    if (!opHash) {\n      response = {\n        type: ResponseTypes.operationResponse,\n        failed: true,\n        error: 'ABORTED_BY_USER'\n      };\n    } else if (opHash === 'exceeded_threshold') {\n      response = {\n        type: ResponseTypes.operationResponse,\n        failed: true,\n        error: 'EXEEDED_THRESHOLD'\n      };\n    } else if (opHash === 'broadcast_error') {\n      response = {\n        type: ResponseTypes.operationResponse,\n        failed: true,\n        error: 'BROADCAST_ERROR',\n        errorMessage\n      };\n    } else if (opHash === 'invalid_parameters') {\n      response = {\n        type: ResponseTypes.operationResponse,\n        failed: true,\n        error: 'INVALID_PARAMETERS',\n        errorMessage\n      };\n    } else if (utils.validOperationHash(opHash)) {\n      response = {\n        type: ResponseTypes.operationResponse,\n        opHash,\n        failed: false\n      };\n    } else {\n      console.warn('Unknown operation response:', opHash);\n      response = {\n        type: ResponseTypes.operationResponse,\n        failed: true,\n        error: 'UNKNOWN_ERROR'\n      };\n    }\n    this.template = null;\n    this.externalRequest = null;\n    setTimeout(() => {\n      this.sendResponse(response);\n    }, 0);\n  }\n  private sendResponse(resp: ResponseMessage) {\n    window.parent.window.postMessage(JSON.stringify(resp), this.origin);\n  }\n  private async importAccount(keyPair: KeyPair, userInfo: any, instanceId: string) {\n    if (keyPair?.pk) {\n      await this.importService\n        .importWalletFromPk(\n          keyPair.pk,\n          '',\n          {\n            verifier: userInfo.typeOfLogin,\n            id: userInfo.verifierId,\n            name: userInfo.name,\n            embedded: true,\n            origin: this.origin\n          },\n          keyPair.sk,\n          instanceId\n        )\n        .then((success: boolean) => {\n          if (success) {\n            this.activeAccount = this.walletService.wallet.implicitAccounts[0];\n            this.coordinatorService.startXTZ();\n            this.coordinatorService.start(this.activeAccount.address, this.coordinatorService.defaultDelayActivity);\n            this.subscribeToConfirmedOps();\n          }\n        });\n    } else if (keyPair?.pk === '') {\n      // login without keys\n      await this.importService.importWalletFromPk(\n        keyPair.pk,\n        '',\n        {\n          verifier: userInfo.typeOfLogin,\n          id: userInfo.verifierId,\n          name: userInfo.name,\n          embedded: true,\n          origin: this.origin\n        },\n        '',\n        instanceId\n      );\n    }\n    this.currentInstanceId = instanceId;\n  }\n  private isValidOperation(transactions: PartialTezosTransactionOperation[]): boolean {\n    try {\n      transactions.forEach((tx) => {\n        if (tx.kind !== 'transaction' || typeof tx.amount !== 'string' || !utils.validAddress(tx.destination)) {\n          throw new Error('Invalid transaction');\n        }\n      });\n    } catch (e) {\n      console.warn(e);\n      return false;\n    }\n    return true;\n  }\n  private generateInstanceId(): string {\n    return common.base58encode(utils.mnemonicToEntropy(utils.generateMnemonic(15)), new Uint8Array([]));\n  }\n  private logout(instanceId: string) {\n    this.subjectService.logout.next(true);\n    this.walletService.clearWallet(instanceId);\n    this.lookupService.clear();\n    this.activeAccount = null;\n    if (this.ophashSubscription) {\n      this.ophashSubscription.unsubscribe();\n    }\n    this.currentInstanceId = '';\n  }\n  subscribeToConfirmedOps() {\n    this.ophashSubscription = this.subjectService.confirmedOp.subscribe((opHash) => {\n      if (this.pendingOps.includes(opHash)) {\n        this.sendResponse({\n          type: ResponseTypes.trackResponse,\n          opHash: opHash,\n          failed: false\n        });\n        for (let i = 0; i < this.pendingOps.length; i++) {\n          if (this.pendingOps[i] === opHash) {\n            this.pendingOps.splice(i, 1);\n          }\n        }\n      }\n    });\n  }\n  private normalizeTemplate(template: any): any {\n    if (template?.descriptions) {\n      for (let i in template.descriptions) {\n        if (typeof template.descriptions[i] === 'string') {\n          template.descriptions[i] = {\n            text: template.descriptions[i]\n          };\n        }\n      }\n    }\n    return template;\n  }\n  private hasPermission(permission: Permission, origin: string = this.origin): boolean {\n    if (!CONSTANTS.MAINNET) {\n      return true;\n    }\n    try {\n      const keys = Object.keys(this.permissionMatrix);\n      for (const key of keys) {\n        for (const allowedOrigin of this.permissionMatrix[key].origins) {\n          if (allowedOrigin.startsWith('*.') ? origin.endsWith(allowedOrigin.slice(1)) : origin === allowedOrigin) {\n            return permission ? this.permissionMatrix[key].permissions[permission] : !!this.permissionMatrix[key].permissions;\n          }\n        }\n      }\n    } catch (e) {\n      console.error(e);\n    }\n    return false;\n  }\n}\n","<div *ngIf=\"isOpen\" class=\"flex-column kukai-modal\">\n  <div class=\"content\">\n    <div class=\"flex-row top\">\n      <div class=\"flex-row button close\" (click)=\"closeModal()\"><img class=\"x\"\n          src=\"../../../assets/img/close-btn-x.png\" /></div>\n      <h1 class=\"title\">Receive Address</h1>\n    </div>\n    <div class=\"seperator\"></div>\n    <div class=\"flex-column receive\">\n      <label class=\"value\">Your account QR code</label>\n      <canvas id='canvas'></canvas>\n      <span class=\"flex-row value\">{{ activeAddress }}<img class=\"copy\" src=\"../../../assets/img/copy-icon.svg\"\n          (click)=\"copy()\" /></span>\n    </div>\n  </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport * as QRCode from 'qrcode';\nimport { MessageService } from '../../../services/message/message.service';\nimport { ModalComponent } from '../modal.component';\nimport copy from 'copy-to-clipboard';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Component({\n  selector: 'app-receive',\n  templateUrl: './receive.component.html',\n  styleUrls: ['../../../../scss/components/modals/modal.scss']\n})\nexport class ReceiveComponent extends ModalComponent implements OnInit {\n  activeAddress: string;\n  showReceiveFormat = {\n    btnOutline: true,\n    dropdownItem: false\n  };\n\n  name = 'receive';\n\n  constructor(private messageService: MessageService, private translate: TranslateService) {\n    super();\n  }\n\n  ngOnInit(): void {}\n  open(data: any): void {\n    this.activeAddress = data.address;\n    setTimeout(() => {\n      this.getQR();\n    }, 100);\n    super.open(data);\n  }\n  closeModal(): void {\n    ModalComponent.currentModel.next({ name: '', data: null });\n  }\n  getQR(): void {\n    QRCode.toCanvas(\n      document.getElementById('canvas'),\n      this.activeAddress,\n      {\n        errorCorrectionLevel: 'H',\n        scaleFactor: 2,\n        color: { light: '#FCFCFC' }\n      },\n      function (err, canvas) {\n        if (err) {\n          throw err;\n        }\n      }\n    );\n  }\n  copy(): void {\n    copy(this.activeAddress);\n    const copyToClipboard = this.translate.instant('OVERVIEWCOMPONENT.COPIEDTOCLIPBOARD');\n    this.messageService.add(this.activeAddress + ' ' + copyToClipboard, 5);\n  }\n}\n","<div *ngIf=\"isOpen\" class=\"flex-column kukai-modal\">\n  <div class=\"content\">\n    <div class=\"flex-row top\">\n      <div class=\"flex-row button close\" (click)=\"closeModal()\"><img class=\"x\" src=\"../../../assets/img/close-btn-x.png\" /></div>\n      <h1 class=\"title\">Add New Account</h1>\n    </div>\n    <div class=\"seperator\"></div>\n    <div class=\"flex-column new-account\">\n      <div class=\"label\">\n        ENTER YOUR PASSWORD TO CONFIRM\n      </div>\n      <input #pwdInput [(ngModel)]=\"password\" class=\"text password\" autocomplete=\"current-password\"\n        placeholder=\"Password\" type=\"password\" (input)=\"this.errorMsg = ''\" (change)=\"this.errorMsg = ''\" (keydown.enter)=\"!messageService.spinnerOn ? addPkh() : null\">\n      <span *ngIf=\"this.errorMsg\" class=\"danger margin\">{{ this.errorMsg }}</span>\n      <div class=\"flex-column bottom\">\n        <div class=\"seperator\"></div>\n        <button class=\"confirm\" (click)=\"!messageService.spinnerOn ? addPkh() : null\">Confirm</button>\n      </div>\n    </div>\n  </div>\n</div>","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\nimport { WalletService } from '../../../services/wallet/wallet.service';\nimport { HdWallet } from '../../../services/wallet/wallet';\nimport { CoordinatorService } from '../../../services/coordinator/coordinator.service';\nimport { MessageService } from '../../../services/message/message.service';\nimport { ModalComponent } from '../modal.component';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-new-implicit',\n  templateUrl: './new-implicit.component.html',\n  styleUrls: ['../../../../scss/components/modals/modal.scss']\n})\nexport class NewImplicitComponent extends ModalComponent implements OnInit {\n  @ViewChild('pwdInput') pwdView: ElementRef;\n  password = '';\n  errorMsg = '';\n  name = 'new-implicit';\n  constructor(\n    public walletService: WalletService,\n    private coordinatorService: CoordinatorService,\n    private messageService: MessageService,\n    private router: Router\n  ) {\n    super();\n  }\n  openModal(): void {\n    if (this.openPkhSpot()) {\n      ModalComponent.currentModel.next({ name: this.name, data: null });\n      this.clear();\n      setTimeout(() => {\n        const inputElem = this.pwdView.nativeElement as HTMLInputElement;\n        inputElem.focus();\n      }, 100);\n    } else {\n      this.messageService.addWarning(\"Can't create additional accounts when an unused account already exists\");\n    }\n  }\n  closeModal(): void {\n    ModalComponent.currentModel.next({ name: '', data: null });\n    this.clear();\n  }\n  ngOnInit(): void {}\n  async addPkh(): Promise<void> {\n    if (this.openPkhSpot()) {\n      this.messageService.startSpinner('Creating new account');\n      const pkh = await this.walletService.incrementAccountIndex(this.password);\n      if (pkh) {\n        this.coordinatorService.start(pkh, this.coordinatorService.defaultDelayActivity);\n        this.closeModal();\n        this.router.navigateByUrl(`/account/${pkh}`);\n      } else {\n        this.errorMsg = 'Wrong password!';\n      }\n      this.messageService.stopSpinner();\n    } else {\n      console.log('blocked!');\n      this.messageService.addError(\"Can't create additional accounts when an unused account already exists\");\n    }\n  }\n  openPkhSpot(): boolean {\n    const balance: number = this.walletService.wallet.implicitAccounts[this.walletService.wallet.implicitAccounts.length - 1].balanceXTZ;\n    const tokens = this.walletService.wallet.implicitAccounts[this.walletService.wallet.implicitAccounts.length - 1].tokens?.length;\n    return this.walletService.wallet instanceof HdWallet && ((balance && balance > 0) || (tokens && tokens > 0));\n  }\n  clear(): void {\n    this.password = '';\n    this.errorMsg = '';\n  }\n}\n","<div class=\"flex-row dropdown pr-request\" [class.expanded]=\"isOpen\" [id]=\"ecmpId\">\n  <div class=\"flex-row currentAddress\" (click)=\"toggleDropdown()\"><img\n      *ngIf=\"!!getUsername(selection?.address)\" class=\"logo\" src=\"../../../../assets/img/{{ getVerifier() }}-logo.svg\" /><span\n      class=\"address\">{{\n      getUsername(selection?.address) || \"&nbsp;&nbsp;&nbsp;&nbsp;\" + selection?.address }}</span><img\n      *ngIf=\"['', 'domain'].includes(getVerifier())\" class=\"button icon-db\"\n      src=\"../../../../assets/img/down-arrow.svg\" />\n  </div>\n  <div class=\"flex-column dropdown-content\">\n    <ng-container *ngFor=\"let account of options\">\n      <div class=\"option\" [class.selected]=\"account?.address === current?.address\"\n        (click)=\"selection = account; toggleDropdown()\">\n        <ng-container *ngIf=\"getUsername(account?.address)\">\n          <div class=\"flex-row alias\"><img class=\"logo\"\n              src=\"../../../../assets/img/{{ getVerifier() }}-logo.svg\" /><span>{{\n              getUsername(account?.address) }}</span></div>\n          <br /><span>{{\n            account?.address }}</span>\n        </ng-container>\n        <ng-container *ngIf=\"!getUsername(account?.address)\">{{ account?.address }}</ng-container>\n      </div>\n    </ng-container>\n  </div>\n</div>","import { Component, OnChanges, OnInit, SimpleChanges } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { TorusWallet } from '../../../../services/wallet/wallet';\nimport { LookupService } from '../../../../services/lookup/lookup.service';\nimport { WalletService } from '../../../../services/wallet/wallet.service';\nimport { DropdownComponent } from '../dropdown.component';\n\n@Component({\n  selector: 'app-ui-dropdown-permission-request',\n  templateUrl: './permission-request.component.html',\n  styleUrls: ['../../../../../scss/components/ui/dropdown/account-dropdown.component.scss']\n})\nexport class PermissionRequestDropdownComponent extends DropdownComponent implements OnInit, OnChanges {\n  constructor(public router: Router, public lookupService: LookupService, private walletService: WalletService) {\n    super();\n  }\n\n  ngOnInit(): void {\n    this.selection = this.current;\n    this.list = this.options;\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.options && changes.options.currentValue !== changes.options.previousValue) {\n      this.list = this.options;\n    }\n  }\n\n  getUsername(address: string): string {\n    if (this.walletService.wallet instanceof TorusWallet) {\n      return this.walletService.wallet.displayName();\n    } else {\n      const party = this.lookupService.resolve({\n        address: address || this.current?.address\n      });\n      if (party?.name) {\n        return party.name;\n      }\n    }\n    return '';\n  }\n  getVerifier(): string {\n    if (this.walletService.wallet instanceof TorusWallet) {\n      return this.walletService.wallet.verifier;\n    } else {\n      return 'domain';\n    }\n  }\n\n  toggleDropdown(): void {\n    this.dropdownResponse.emit(this.selection);\n    this.isOpen = !this.isOpen;\n  }\n}\n","<div *ngIf=\"permissionRequest\" class=\"flex-column kukai-modal\">\n  <div class=\"content\">\n    <div class=\"flex-row top\">\n      <div class=\"flex-row button close\" (click)=\"rejectPermissions()\"><img class=\"x\" src=\"../../../assets/img/close-btn-x.png\" /></div>\n      <h1 class=\"title\">{{ permissionRequest.appMetadata.name }}</h1>\n    </div>\n    <div class=\"seperator\"></div>\n    <div class=\"flex-column permission-request\">\n      <ng-container *ngIf=\"cachedIcon(permissionRequest); let cachedIcon;\"><app-asset class=\"app-icon\" [assets]=\"{ displayAsset: cachedIcon }\"></app-asset></ng-container>\n      <h4>Permissions requests:</h4>\n      <div class=\"flex-row-wrap requests\">\n        <span class=\"flex-row\" *ngFor=\"let scope of permissionRequest.scopes\">{{ scopeToText(scope) }}</span>\n      </div>\n      <h6>Apply To Account:</h6>\n      <app-ui-dropdown-permission-request [options]=\"accounts\" [current]=\"preSelectedAccount\" (dropdownResponse)=\"selectedAccount = $event\" style=\"width: 100%;align-self: center;\"></app-ui-dropdown-permission-request>\n      <div class=\"flex-column bottom\">\n        <div class=\"seperator\"></div>\n        <button class=\"blue confirm\" (click)=\"grantPermissions()\">Approve</button>\n      </div>\n    </div>\n  </div>\n</div>","import { Component, OnInit, Input, EventEmitter, Output, OnChanges, SimpleChanges, OnDestroy } from '@angular/core';\nimport { WalletService } from '../../../services/wallet/wallet.service';\nimport { MessageService } from '../../../services/message/message.service';\nimport { Subscription } from 'rxjs';\nimport { SubjectService } from '../../../services/subject/subject.service';\nimport { Router } from '@angular/router';\nimport { BeaconService } from '../../../services/beacon/beacon.service';\nimport { Account } from '../../../services/wallet/wallet';\n\n@Component({\n  selector: 'app-permission-request',\n  templateUrl: './permission-request.component.html',\n  styleUrls: ['../../../../scss/components/modals/modal.scss']\n})\nexport class PermissionRequestComponent implements OnInit, OnChanges, OnDestroy {\n  @Input() permissionRequest: any;\n  @Input() activeAccount;\n  @Output() permissionResponse = new EventEmitter();\n  syncSub: Subscription;\n  preSelectedAccount: Account;\n  selectedAccount: Account;\n  accounts: Account[];\n  private subscriptions: Subscription = new Subscription();\n  constructor(\n    public walletService: WalletService,\n    private messageService: MessageService,\n    private subjectService: SubjectService,\n    private router: Router,\n    private beaconService: BeaconService\n  ) {}\n  ngOnInit(): void {\n    if (this.walletService.wallet) {\n      this.preSelectedAccount = this.selectedAccount = this.activeAccount?.address?.startsWith('tz')\n        ? this.activeAccount\n        : this.walletService.wallet.implicitAccounts[0];\n    }\n    this.subscriptions.add(\n      this.subjectService.walletUpdated.subscribe(async () => {\n        this.accounts = this.walletService.wallet?.getImplicitAccounts();\n      })\n    );\n    this.accounts = this.walletService.wallet?.getImplicitAccounts();\n  }\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.activeAccount) {\n      this.preSelectedAccount = this.selectedAccount = this.activeAccount?.address?.startsWith('tz')\n        ? this.activeAccount\n        : this.walletService.wallet.implicitAccounts[0];\n    }\n    if (this.permissionRequest) {\n      const scrollBarWidth = window.innerWidth - document.body.offsetWidth;\n      document.body.style.marginRight = scrollBarWidth.toString();\n      document.body.style.overflow = 'hidden';\n      this.messageService.removeBeaconMsg(true);\n      this.syncSub = this.subjectService.beaconResponse.subscribe((response) => {\n        if (response) {\n          this.permissionResponse.emit('silent');\n          this.reset();\n        }\n      });\n    }\n  }\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n  rejectPermissions(): void {\n    this.permissionResponse.emit(null);\n    this.reset();\n  }\n  grantPermissions(): void {\n    const pk = this.selectedAccount?.pk;\n    this.permissionResponse.emit(pk);\n    this.reset();\n    this.router.navigate([`/account/${this.selectedAccount.address}`]);\n  }\n  reset(): void {\n    document.body.style.marginRight = '';\n    document.body.style.overflow = '';\n    this.permissionRequest = null;\n    if (this.syncSub) {\n      this.syncSub.unsubscribe();\n      this.syncSub = undefined;\n    }\n  }\n  scopeToText(scope: string): string {\n    if (scope === 'sign') {\n      return 'Request other signing';\n    } else if (scope === 'operation_request') {\n      return 'Request operation signing';\n    }\n    return scope;\n  }\n  cachedIcon(permissionRequest): string {\n    if (permissionRequest) {\n      for (const app of this.beaconService.peers) {\n        if (permissionRequest.senderId === app.senderId) {\n          if (app.cachedIcon) {\n            return app.cachedIcon;\n          }\n        }\n      }\n    }\n    return '';\n  }\n}\n","<div *ngIf=\"signRequest\" class=\"flex-column kukai-modal\">\n  <div class=\"content\">\n    <div class=\"flex-row top\">\n      <div class=\"flex-row button close\" (click)=\"rejectSigning()\"><img class=\"x\" src=\"../../../assets/img/close-btn-x.png\" /></div>\n      <h1 class=\"title\">\n        <ng-container *ngIf=\"isMessage\">Sign Message</ng-container>\n        <ng-container *ngIf=\"!isMessage\">Sign Expression</ng-container>\n      </h1>\n    </div>\n    <div class=\"flex-column sign-expr\">\n      <p class=\"previewAttention\">An application has requested you sign a<ng-container *ngIf=\"isMessage\"> message</ng-container><ng-container *ngIf=\"!isMessage\">n expression</ng-container></p>\n      <p *ngIf=\"!isMessage\" class=\"previewAttention warning\">Warning! Only sign if you understand the expression or trust the source.</p>\n      <app-ui-toggle-advanced *ngIf=\"!isMessage\" style=\"width: 13rem; margin-bottom: 2rem;\" [default]=\"false\" (stateChange)=\"advancedForm = $event\"></app-ui-toggle-advanced>\n      <textarea *ngIf=\"advancedForm || isMessage\" rows=\"10\" readonly>{{ payload }}</textarea>\n      <div class=\"seperator\" style =\"left: 0\"></div>\n      <div class=\"flex-column bottom\">\n        <span *ngIf=\"this.pwdInvalid\" class=\"danger margin\">{{ this.pwdInvalid }}</span>\n        <input *ngIf=\"walletService.isPwdWallet()\" [(ngModel)]=\"password\"\n          autocomplete=\"current-password\" placeholder=\"Password\" class=\"text password\" type=\"password\"\n          (input)=\"this.pwdInvalid = ''\" (change)=\"this.pwdInvalid = ''\" (keydown.enter)='!messageService.spinnerOn ? sign(): null'>\n        <button class=\"purple confirm\" (click)=\"!messageService.spinnerOn ? sign(): null\" [disabled]=\"walletService.isWatchWallet()\">\n          {{ walletService.isLedgerWallet() ? 'Sign with Ledger' : 'Sign'}}</button>\n      </div>\n    </div>\n  </div>\n</div>","import { Component, OnInit, SimpleChanges, Input, Output, EventEmitter, OnChanges } from '@angular/core';\nimport { WalletService } from '../../../services/wallet/wallet.service';\nimport { MessageService } from '../../../services/message/message.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Account } from '../../../services/wallet/wallet';\nimport { OperationService } from '../../../services/operation/operation.service';\nimport { emitMicheline } from '@taquito/michel-codec';\nimport { valueDecoder } from '@taquito/local-forging/dist/lib/michelson/codec';\nimport { Uint8ArrayConsumer } from '@taquito/local-forging/dist/lib/uint8array-consumer';\nimport { LedgerService } from '../../../services/ledger/ledger.service';\nimport { InputValidationService } from '../../../services/input-validation/input-validation.service';\nimport { ModalComponent } from '../modal.component';\nimport { Subscription } from 'rxjs';\nimport { SubjectService } from '../../../services/subject/subject.service';\n\n@Component({\n  selector: 'app-sign-expr',\n  templateUrl: './sign-expr.component.html',\n  styleUrls: ['../../../../scss/components/modals/modal.scss']\n})\nexport class SignExprComponent extends ModalComponent implements OnInit, OnChanges {\n  @Input() signRequest: any;\n  @Input() activeAccount: Account;\n  @Output() signResponse = new EventEmitter();\n  syncSub: Subscription;\n  password = '';\n  pwdInvalid = '';\n  payload = '';\n  isMessage = false;\n  advancedForm = false;\n  name = 'sign-expr';\n  constructor(\n    public walletService: WalletService,\n    private messageService: MessageService,\n    public translate: TranslateService,\n    private operationService: OperationService,\n    private ledgerService: LedgerService,\n    private inputValidationService: InputValidationService,\n    private subjectService: SubjectService\n  ) {\n    super();\n  }\n  ngOnInit(): void {}\n  ngOnChanges(changes: SimpleChanges): void {\n    if (this.signRequest) {\n      ModalComponent.currentModel.next({ name: this.name, data: null });\n      this.isMessage = this.inputValidationService.isMessageSigning(this.signRequest.payload);\n      const value = valueDecoder(Uint8ArrayConsumer.fromHexString(this.signRequest.payload.slice(2)));\n      const payload = emitMicheline(value, {\n        indent: '  ',\n        newline: '\\n'\n      });\n      this.payload = this.isMessage ? value.string : payload;\n      this.syncSub = this.subjectService.beaconResponse.subscribe((response) => {\n        if (response) {\n          this.signResponse.emit('silent');\n          this.closeModal();\n        }\n      });\n    }\n  }\n  async sign(): Promise<void> {\n    if (this.walletService.isLedgerWallet()) {\n      this.requestLedgerSignature();\n    } else {\n      const pwd = this.password;\n      this.password = '';\n      await this.messageService.startSpinner(`Signing ${this.isMessage ? 'message' : 'payload'}...`);\n      let keys;\n      try {\n        keys = await this.walletService.getKeys(pwd, this.activeAccount.pkh);\n      } catch (e) {\n        console.warn(e);\n        this.messageService.stopSpinner();\n      }\n      if (keys) {\n        this.pwdInvalid = '';\n        try {\n          const signature = this.operationService.sign(this.signRequest.payload, keys.sk).edsig;\n          this.acceptSigning(signature);\n        } catch (e) {\n          this.pwdInvalid = 'Signing failed';\n          console.warn(e);\n        } finally {\n          this.messageService.stopSpinner();\n        }\n      } else {\n        this.messageService.stopSpinner();\n        if (this.walletService.isTorusWallet()) {\n          this.pwdInvalid = `Authorization failed`;\n        } else {\n          this.pwdInvalid = this.translate.instant('SENDCOMPONENT.WRONGPASSWORD');\n        }\n      }\n    }\n  }\n  async requestLedgerSignature(): Promise<void> {\n    await this.messageService.startSpinner('Waiting for Ledger signature...');\n    try {\n      const payload = this.signRequest.payload;\n      let signature = '';\n      if (payload.length <= 2290) {\n        signature = await this.ledgerService.signOperation(payload, this.walletService.wallet.implicitAccounts[0].derivationPath);\n      } else {\n        signature = await this.ledgerService.signHash(\n          this.operationService.ledgerPreHash(payload),\n          this.walletService.wallet.implicitAccounts[0].derivationPath\n        );\n      }\n      if (signature) {\n        this.acceptSigning(this.operationService.hexsigToEdsig(signature));\n      } else {\n        this.pwdInvalid = 'Failed to sign transaction';\n      }\n    } finally {\n      this.messageService.stopSpinner();\n    }\n  }\n  rejectSigning(): void {\n    this.closeModal();\n    this.signResponse.emit(null);\n  }\n  acceptSigning(signature: string): void {\n    this.messageService.addSuccess(this.isMessage ? 'Message signed!' : 'Payload signed!');\n    this.closeModal();\n    this.signResponse.emit(signature);\n  }\n  closeModal(): void {\n    ModalComponent.currentModel.next({ name: '', data: null });\n    this.clear();\n  }\n  clear(): void {\n    this.password = '';\n    this.pwdInvalid = '';\n    this.payload = '';\n    this.isMessage = false;\n    if (this.syncSub) {\n      this.syncSub.unsubscribe();\n      this.syncSub = undefined;\n    }\n  }\n}\n","<div *ngIf=\"isOpen\" class=\"flex-column kukai-modal\">\n  <div class=\"content\">\n    <div class=\"flex-row top\">\n      <div class=\"flex-row button close\" (click)=\"closeModalAction()\"><img class=\"x\"\n          src=\"../../../assets/img/close-btn-x.png\" /></div>\n      <h1 class=\"title\">Originate</h1>\n    </div>\n    <div class=\"seperator\"></div>\n    <div class=\"flex-column originate\">\n      <div class=\"flex-column top\">\n        <span class=\"amount key\">AMOUNT:&nbsp;<span class=\"value\">{{ this.balance ? this.balance + ' ' + 'tez' : ''\n            }}</span></span>\n        <!-- <span class=\"amount-usd\"> </span> -->\n        <span class=\"section key\">From:&nbsp;<span class=\"from\">{{ externalRequest?.selectedAccount?.address }}</span></span>\n      </div>\n      <br />\n      <div class=\"flex-row attrs\">\n        <div class=\"flex-row attr\">\n          <span class=\"key\">FEE:&nbsp;</span><span class=\"value\">{{ this.getTotalFee() }} tez</span>\n        </div>\n        <div class=\"flex-row attr\">\n          <span class=\"key\">MAX STORAGE COST:&nbsp;</span><span class=\"value\">{{ getTotalBurn() }} tez</span>\n        </div>\n      </div>\n      <app-ui-toggle-advanced style=\"width: calc(100% - 1em);margin: 2em 0;\" [default]=\"false\"\n        (stateChange)=\"advancedForm = $event\">\n      </app-ui-toggle-advanced>\n      <form autocomplete=\"off\" *ngIf=\"advancedForm\" class=\"advanced-form\">\n        <div class=\"tabs-container\">\n          <div class=\"flex-row tabs\">\n            <span class=\"tab\" [class.active]=\"activeTab === 0\" (click)=\"activeTab = 0\">Code</span>\n            <span class=\"tab\" [class.active]=\"activeTab === 1\" (click)=\"activeTab = 1\">Storage</span>\n          </div>\n        </div>\n        <textarea rows=\"10\" readonly>{{ getScript() }}</textarea>\n        <ng-container *ngIf=\"!(walletService.isLedgerWallet() && !ledgerError)\">\n          <div class=\"flex-row\">\n            <div class=\"flex-column\">\n              <label class=\"label\">Gas limit</label>\n              <input numericinput=\"decimal\" name=\"none\" type=\"text\" class=\"text\" placeholder={{this.defaultTransactionParams.gas.toString()}}\n                [(ngModel)]=\"customGas\">\n            </div>\n            <div class=\"flex-column\">\n              <label class=\"label\">Fee</label>\n              <input numericinput=\"decimal\" name=\"none\" type=\"text\" class=\"text\" (keypress)=\"keyPressNumbersDecimal($event, 'customFee')\"\n                placeholder={{this.defaultTransactionParams.fee.toString()}} [(ngModel)]=\"customFee\">\n            </div>\n          </div>\n          <div class=\"flex-row\">\n            <div class=\"flex-column\">\n              <label class=\"label\">Storage limit</label>\n              <input numericinput=\"decimal\" name=\"none\" type=\"text\" class=\"text\"\n                placeholder={{this.defaultTransactionParams?.storage.toString()}} [(ngModel)]=\"customStorage\">\n            </div>\n            <div class=\"flex-column\">\n              <label class=\"label\">Max storage cost</label>\n              <input numericinput=\"decimal\" name=\"none\" type=\"text\" class=\"text read-only\" [value]=\"burnAmount() ? burnAmount() : '0 tez'\"\n                tabindex=-1 readonly>\n            </div>\n          </div>\n        </ng-container>\n      </form>\n      <span *ngIf=\"formInvalid\" class=\"danger margin\">\n        {{ formInvalid }}\n      </span>\n      <div class=\"flex-column bottom\">\n        <div class=\"seperator\"></div>\n        <br />\n        <ng-container *ngIf=\"walletService.isPwdWallet()\">\n          <input name=\"none\" [(ngModel)]=\"password\" placeholder=\"Password\" autocomplete=\"current-password\"\n            class=\"text password\" type=\"password\" (input)=\"this.pwdInvalid = ''\" (paste)=\"this.pwdInvalid = ''\"\n            (keydown.enter)='!messageService.spinnerOn ? inject() : null'>\n        </ng-container>\n        <button *ngIf=\"walletService.isLedgerWallet() && ledgerError; else elseBlock\" class=\"blue confirm\"\n          (click)=\"ledgerSign()\">Sign with Ledger</button>\n        <ng-template #elseBlock>\n          <button class=\"blue confirm\" (click)=\"!messageService.spinnerOn ? inject() : null\"\n            [disabled]=\"(walletService.isLedgerWallet() && (!sendResponse || !sendResponse.payload || !sendResponse.payload.signedOperation)) || walletService.isWatchWallet()\">\n            {{ walletService.isLedgerWallet() ? 'Broadcast' : 'Confirm'}}</button>\n        </ng-template>\n      </div>\n      <span *ngIf=\"this.pwdInvalid\" class=\"danger margin\">{{ this.pwdInvalid }}</span>\n    </div>\n  </div>\n</div>","import { Component, OnInit, Input, Output, EventEmitter, OnChanges, SimpleChanges, OnDestroy } from '@angular/core';\nimport { KeyPair, DefaultTransactionParams, ExternalRequest } from '../../../interfaces';\nimport { WalletService } from '../../../services/wallet/wallet.service';\nimport { CoordinatorService } from '../../../services/coordinator/coordinator.service';\nimport { OperationService } from '../../../services/operation/operation.service';\nimport { InputValidationService } from '../../../services/input-validation/input-validation.service';\nimport { LedgerService } from '../../../services/ledger/ledger.service';\nimport { LedgerWallet, Account, TorusWallet } from '../../../services/wallet/wallet';\nimport { MessageService } from '../../../services/message/message.service';\nimport Big from 'big.js';\nimport { emitMicheline, assertMichelsonData, assertMichelsonContract } from '@taquito/michel-codec';\nimport { EstimateService } from '../../../services/estimate/estimate.service';\nimport { Subscription } from 'rxjs';\nimport { ModalComponent } from '../modal.component';\nimport { SubjectService } from '../../../services/subject/subject.service';\n\nconst zeroTxParams: DefaultTransactionParams = {\n  gas: 0,\n  storage: 0,\n  fee: 0,\n  burn: 0\n};\n\n@Component({\n  selector: 'app-originate',\n  templateUrl: './originate.component.html',\n  styleUrls: ['../../../../scss/components/modals/modal.scss']\n})\nexport class OriginateComponent extends ModalComponent implements OnInit, OnChanges, OnDestroy {\n  readonly beaconMode = true;\n  @Input() externalRequest: ExternalRequest;\n  @Output() operationResponse = new EventEmitter();\n  syncSub: Subscription;\n  defaultTransactionParams: DefaultTransactionParams = zeroTxParams;\n  costPerByte: string = this.estimateService.costPerByte;\n\n  balance = '';\n  script: any;\n\n  customFee = '';\n  customGas = '';\n  customStorage = '';\n\n  pwdInvalid: string;\n  formInvalid = '';\n  sendResponse: any;\n  ledgerError = '';\n  simError = '';\n\n  password: string;\n  advancedForm = false;\n  simSemaphore = 0;\n  activeTab = 0;\n\n  name = 'originate';\n\n  private subscriptions: Subscription = new Subscription();\n\n  constructor(\n    private walletService: WalletService,\n    private operationService: OperationService,\n    private coordinatorService: CoordinatorService,\n    private inputValidationService: InputValidationService,\n    private ledgerService: LedgerService,\n    private messageService: MessageService,\n    private estimateService: EstimateService,\n    private subjectService: SubjectService\n  ) {\n    super();\n  }\n  ngOnInit(): void {}\n  ngOnChanges(changes: SimpleChanges): void {\n    if (this.beaconMode) {\n      if (\n        this.externalRequest?.operationRequest?.operationDetails?.length === 1 &&\n        this.externalRequest.operationRequest.operationDetails[0].kind === 'origination'\n      ) {\n        if (this.isValidOrigination()) {\n          this.openModal();\n          this.balance = Big(this.externalRequest.operationRequest.operationDetails[0].balance)\n            .div(10 ** 6)\n            .toFixed();\n          this.script = this.externalRequest.operationRequest.operationDetails[0].script;\n          const recommendations = {\n            gasRecommendation: this.externalRequest.operationRequest.operationDetails[0].gas_limit\n              ? this.externalRequest.operationRequest.operationDetails[0].gas_limit\n              : undefined,\n            storageRecommendation: this.externalRequest.operationRequest.operationDetails[0].storage_limit\n              ? this.externalRequest.operationRequest.operationDetails[0].storage_limit\n              : undefined\n          };\n          this.estimateFees(recommendations);\n          if (this.beaconMode) {\n            this.syncSub = this.subjectService.beaconResponse.subscribe((response) => {\n              if (response) {\n                this.operationResponse.emit('silent');\n                this.closeModal();\n              }\n            });\n          }\n        } else {\n          console.warn('Invalid origination');\n          this.operationResponse.emit('parameters_error');\n        }\n      }\n    }\n  }\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n  openModal(): void {\n    if (this.walletService.wallet) {\n      // hide body scrollbar\n      const scrollBarWidth = window.innerWidth - document.body.offsetWidth;\n      document.body.style.marginRight = scrollBarWidth.toString();\n      document.body.style.overflow = 'hidden';\n      this.clearForm();\n      if (this.walletService.isLedgerWallet()) {\n        this.ledgerError = '?';\n      }\n      ModalComponent.currentModel.next({ name: this.name, data: null });\n    }\n  }\n  isValidOrigination(): boolean {\n    const origination = this.externalRequest.operationRequest.operationDetails[0];\n    if (!origination.balance || !this.inputValidationService.amount(origination.balance, 0)) {\n      console.warn('invalid balance');\n      return false;\n    }\n    try {\n      assertMichelsonContract(origination.script.code);\n      assertMichelsonData(origination.script.storage);\n    } catch (e) {\n      console.warn('Invalid script');\n      return false;\n    }\n    return true;\n  }\n  async estimateFees(recommendations: any = {}): Promise<void> {\n    const callback = (res) => {\n      if (res) {\n        if (res.error) {\n          this.simError = res.error;\n          this.formInvalid = this.simError;\n        } else {\n          this.defaultTransactionParams = res;\n        }\n      }\n      this.simSemaphore--;\n    };\n    this.simSemaphore++;\n    await this.estimateService.preLoadData(this.externalRequest.selectedAccount.pkh, this.externalRequest.selectedAccount.pk);\n    this.estimateService.estimateOrigination({ ...this.getOrigination(), ...recommendations }, this.externalRequest.selectedAccount.pkh, callback);\n  }\n  getOrigination(): {\n    balance: string;\n    script: string;\n    gasLimit: number;\n    storageLimit: number;\n  } {\n    const gasLimit = this.customGas ? Number(this.customGas) : this.defaultTransactionParams.gas;\n    const storageLimit = this.customStorage ? Number(this.customStorage) : this.defaultTransactionParams.storage;\n    return JSON.parse(\n      JSON.stringify({\n        balance: this.balance,\n        script: this.script,\n        gasLimit,\n        storageLimit\n      })\n    );\n  }\n  getTotalCost(display: boolean = false): string {\n    const totalFee = Big(this.getTotalFee()).plus(Big(this.getTotalBurn())).toString();\n    if (display && totalFee === '0') {\n      return '-';\n    }\n    return totalFee;\n  }\n  getTotalFee(): number {\n    if (this.customFee !== '' && Number(this.customFee)) {\n      return Number(this.customFee);\n    }\n    return Number(this.defaultTransactionParams.fee);\n  }\n  getTotalBurn(): number {\n    if (this.customStorage !== '' && Number(this.customStorage)) {\n      return Number(Big(this.customStorage).times(this.costPerByte).div(1000000).toString());\n    }\n    return this.defaultTransactionParams.burn;\n  }\n  burnAmount(): string {\n    const burn = this.customStorage ? Number(Big(this.customStorage).times(this.costPerByte).div(1000000)) : this.defaultTransactionParams.burn;\n    if (burn) {\n      return burn + ' tez';\n    }\n    return '';\n  }\n  getScript(): string {\n    return this.activeTab\n      ? emitMicheline(this.script.storage, {\n          indent: '  ',\n          newline: '\\n'\n        })\n      : emitMicheline(this.script.code, { indent: '  ', newline: '\\n' });\n  }\n  closeModalAction(): void {\n    this.operationResponse.emit(null);\n    this.closeModal();\n  }\n  closeModal(): void {\n    ModalComponent.currentModel.next({ name: '', data: null });\n    this.clearForm();\n    this.messageService?.stopSpinner();\n  }\n  async inject(): Promise<void> {\n    this.formInvalid = this.simError;\n    const valid = this.validateOrigination();\n    if (valid) {\n      const pwd = this.password;\n      this.password = '';\n      this.messageService.startSpinner('Signing operation...');\n      let keys;\n      try {\n        keys = await this.walletService.getKeys(pwd, this.externalRequest.selectedAccount.pkh);\n      } catch {\n        this.messageService.stopSpinner();\n      }\n      if (this.walletService.isLedgerWallet()) {\n        this.broadCastLedgerTransaction();\n        this.sendResponse = null;\n      } else {\n        if (keys) {\n          this.pwdInvalid = '';\n          this.messageService.startSpinner('Sending operation...');\n          this.sendOrigination(keys);\n          this.closeModal();\n        } else {\n          this.messageService.stopSpinner();\n          if (this.walletService.wallet instanceof TorusWallet) {\n            this.pwdInvalid = `Authorization failed`;\n          } else {\n            this.pwdInvalid = 'Wrong password!';\n          }\n        }\n      }\n    }\n  }\n  validateOrigination(): boolean {\n    if (this.simSemaphore) {\n      return false;\n    } else if (this.formInvalid) {\n      return false;\n    } else if (!this.inputValidationService.gas(this.customGas)) {\n      this.formInvalid = 'Invalid gas limit';\n      return false;\n    } else if (!this.inputValidationService.storage(this.customStorage)) {\n      this.formInvalid = 'Invalid storage limit';\n      return false;\n    } else if (!this.inputValidationService.amount(this.customFee, 6)) {\n      this.formInvalid = 'Invalid fee';\n      return false;\n    }\n    return true;\n  }\n  async ledgerSign(): Promise<void> {\n    this.formInvalid = this.simError;\n    const valid = this.validateOrigination();\n    if (valid) {\n      const keys = await this.walletService.getKeys('');\n      if (keys) {\n        this.sendOrigination(keys);\n      }\n    }\n  }\n  async sendOrigination(keys: KeyPair): Promise<void> {\n    //this.fee = '';\n    this.subscriptions.add(\n      this.operationService.originate(this.getOrigination(), this.getTotalFee(), keys).subscribe(\n        async (ans: any) => {\n          this.sendResponse = ans;\n          if (ans.success === true) {\n            if (ans.payload.opHash) {\n              this.operationResponse.emit(ans.payload.opHash);\n              const metadata = {\n                kt1: ans.payload.newPkh,\n                opHash: ans.payload.opHash,\n                origination: this.externalRequest.operationRequest.operationDetails[0]\n              };\n              this.coordinatorService.boost(this.externalRequest.selectedAccount.address, metadata);\n            } else if (this.walletService.isLedgerWallet()) {\n              this.requestLedgerSignature();\n            }\n          } else {\n            this.messageService.stopSpinner();\n            console.log('Origination error id ', ans.payload.msg);\n            this.messageService.addError(ans.payload.msg, 0);\n            this.operationResponse.emit('broadcast_error');\n            if (this.walletService.isLedgerWallet) {\n              this.closeModal();\n            }\n          }\n        },\n        (err) => {\n          console.log('Error Message ', JSON.stringify(err));\n          this.ledgerError = 'Failed to create operation';\n        }\n      )\n    );\n  }\n  async requestLedgerSignature(): Promise<void> {\n    if (this.walletService.wallet instanceof LedgerWallet) {\n      const op = this.sendResponse.payload.unsignedOperation;\n      this.messageService.startSpinner('Waiting for Ledger signature');\n      let signature;\n      try {\n        signature = await this.ledgerService.signOperation('03' + op, this.walletService.wallet.implicitAccounts[0].derivationPath);\n      } finally {\n        this.messageService.stopSpinner();\n      }\n      if (signature) {\n        const signedOp = op + signature;\n        this.sendResponse.payload.signedOperation = signedOp;\n        this.ledgerError = '';\n      } else {\n        this.ledgerError = 'Failed to sign operation';\n      }\n    }\n  }\n  async broadCastLedgerTransaction(): Promise<void> {\n    this.messageService.startSpinner('Broadcasting operation');\n    this.subscriptions.add(\n      this.operationService.broadcast(this.sendResponse.payload.signedOperation).subscribe(\n        (ans: any) => {\n          this.sendResponse = ans;\n          if (ans.success && this.externalRequest.selectedAccount.address) {\n            const metadata = {\n              kt1: ans.payload.newPkh,\n              opHash: ans.payload.opHash,\n              origination: this.externalRequest.operationRequest.operationDetails[0]\n            };\n            this.coordinatorService.boost(this.externalRequest.selectedAccount.address, metadata);\n          } else {\n            this.messageService.addError(this.sendResponse.payload.msg, 0);\n            this.operationResponse.emit('broadcast_error');\n          }\n          this.closeModal();\n          console.log('ans: ' + JSON.stringify(ans));\n        },\n        (error) => {\n          this.messageService.stopSpinner();\n          this.messageService.addError(error, 0);\n          this.operationResponse.emit('broadcast_error');\n        }\n      )\n    );\n  }\n  clearForm(): void {\n    this.defaultTransactionParams = zeroTxParams;\n    this.customFee = '';\n    this.customGas = '';\n    this.customStorage = '';\n\n    this.balance = '';\n    this.script = null;\n\n    this.advancedForm = false;\n\n    this.password = '';\n    this.pwdInvalid = '';\n    this.formInvalid = '';\n    this.simError = '';\n\n    this.sendResponse = null;\n    this.ledgerError = '';\n    this.simSemaphore = 0;\n    this.activeTab = 0;\n\n    if (this.syncSub) {\n      this.syncSub.unsubscribe();\n      this.syncSub = undefined;\n    }\n  }\n  // Only Numbers with Decimals\n  keyPressNumbersDecimal(event, input): boolean {\n    const charCode = event.which ? event.which : event.keyCode;\n    if (charCode !== 46 && charCode > 31 && (charCode < 48 || charCode > 57)) {\n      event.preventDefault();\n      return false;\n    } else if (charCode === 46 && this[input].length === 0) {\n      this[input] = '0' + this[input];\n    }\n    return true;\n  }\n}\n","<div *ngIf=\"isOpen\" class=\"flex-column kukai-modal\">\n  <div class=\"content\">\n    <div class=\"flex-row top\">\n      <div class=\"flex-row button close\" (click)=\"closeModalAction()\"><img class=\"x\"\n          src=\"../../../assets/img/close-btn-x.png\" /></div>\n      <h1 class=\"title\">Confirm Staking</h1>\n    </div>\n    <div class=\"flex-column confirm-staking\">\n      <div class=\"flex-row head\">\n        <img *ngIf=\"delegate?.logo\" [src]=\"delegate.logo\" />\n        <div class=\"flex-column data\"\n          *ngIf=\"delegate?.name ? delegate.name : toPkh; let delegateDisplayName; else undelegate\">\n          <span class=\"name\">{{ delegateDisplayName }}</span>\n          <div class=\"flex-row fee-space\"><span class=\"fee\"><span>SPLIT:</span>&nbsp;{{ delegate?.fee ?\n              toPercent(delegate.fee) : 'UNKNOWN' }}</span><span *ngIf=\"delegate?.freeSpace\"\n              class=\"space\"><span>SPACE:</span>&nbsp;{{ round(delegate.freeSpace) }}</span>\n          </div>\n        </div>\n        <ng-template #undelegate>\n          <div class=\"flex-column data\">\n            <span class=\"name\">Undelegate from baker</span>\n          </div>\n        </ng-template>\n      </div>\n      <br />\n      <app-ui-toggle-advanced style=\"width: calc(100% - 1em);\" [default]=\"false\" (stateChange)=\"advanced = $event\">\n      </app-ui-toggle-advanced>\n      <br />\n      <br />\n      <ng-container *ngIf=\"advanced\">\n        <form autocomplete=\"off\">\n          <div class=\"label\">Fee <span class=\"label\" style=\"margin: 0; text-transform: lowercase;\">(tez)</span></div>\n          <input inputmode=\"decimal\" name=\"none\" [(ngModel)]=\"fee\" class=\"text fee\" type=\"text\" placeholder=\"{{defaultFee}}\"\n            [disabled]=\"walletService.isLedgerWallet() && sendResponse?.payload?.signedOperation\" />\n        </form>\n      </ng-container>\n      <br />\n      <br />\n      <div class=\"flex-column bottom\">\n        <div class=\"seperator\"></div>\n        <ng-container *ngIf=\"walletService.isPwdWallet()\">\n          <div class=\"label\">ENTER YOUR PASSWORD TO CONFIRM</div>\n          <span *ngIf=\"this.pwdValid\" class=\"label danger\">{{ this.pwdValid }}</span>\n          <input name=\"none\" [(ngModel)]=\"password\" placeholder=\"Password\" autocomplete=\"current-password\"\n            class=\"text password\" type=\"password\" (input)=\"this.pwdValid = ''\" (change)=\"this.pwdValid = ''\"\n            (keydown.enter)='!messageService.spinnerOn ? inject() : null'>\n        </ng-container>\n        <button class=\"confirm\" *ngIf=\"walletService.isLedgerWallet() && ledgerError; else elseBlock\"\n          (click)=\"ledgerSign()\">Sign with Ledger</button>\n        <ng-template #elseBlock>\n          <button class=\"confirm\" (click)=\"!messageService.spinnerOn ? inject() : null\"\n            [disabled]=\"(walletService.isLedgerWallet() && (!sendResponse || !sendResponse.payload || !sendResponse.payload.signedOperation)) || walletService.isWatchWallet()\">\n            {{ walletService.isLedgerWallet() ? 'Broadcast' : 'Confirm'}}</button>\n        </ng-template>\n      </div>\n    </div>\n  </div>\n</div>","import { Component, OnInit, Input, ViewChild, ElementRef, Output, EventEmitter, OnChanges, SimpleChanges, OnDestroy } from '@angular/core';\nimport { KeyPair, ExternalRequest } from '../../../interfaces';\nimport { WalletService } from '../../../services/wallet/wallet.service';\nimport { CoordinatorService } from '../../../services/coordinator/coordinator.service';\nimport { OperationService } from '../../../services/operation/operation.service';\nimport { ExportService } from '../../../services/export/export.service';\nimport { InputValidationService } from '../../../services/input-validation/input-validation.service';\nimport { LedgerService } from '../../../services/ledger/ledger.service';\nimport { LedgerWallet, Account, ImplicitAccount, OriginatedAccount, TorusWallet } from '../../../services/wallet/wallet';\nimport { MessageService } from '../../../services/message/message.service';\nimport { TezosDomainsService } from '../../../services/tezos-domains/tezos-domains.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ModalComponent } from '../modal.component';\nimport { Subscription } from 'rxjs';\nimport { SubjectService } from '../../../services/subject/subject.service';\nimport Big from 'big.js';\n\n@Component({\n  selector: 'app-delegate',\n  templateUrl: './delegate.component.html',\n  styleUrls: ['../../../../scss/components/modals/modal.scss']\n})\nexport class DelegateComponent extends ModalComponent implements OnInit, OnChanges, OnDestroy {\n  domainPendingLookup = false;\n  defaultFee = 0.0004;\n  readonly pkhFee = 0.0004;\n  readonly ktFee = 0.0008;\n  @ViewChild('toPkhInput') toPkhView: ElementRef;\n  @Input() beaconMode = false;\n  @Input() externalRequest: ExternalRequest;\n  @Output() operationResponse = new EventEmitter();\n  activeAccount: Account;\n  toPkh: string;\n  delegate = null;\n  fee: string = '';\n  password: string;\n  pwdValid: string;\n  formInvalid = '';\n  sendResponse: any;\n  ledgerError = '';\n  syncSub: Subscription;\n  advanced = false;\n\n  name = 'delegate-confirm';\n\n  private subscriptions: Subscription = new Subscription();\n\n  constructor(\n    private route: ActivatedRoute,\n    public walletService: WalletService,\n    private operationService: OperationService,\n    private coordinatorService: CoordinatorService,\n    private exportService: ExportService,\n    private inputValidationService: InputValidationService,\n    private ledgerService: LedgerService,\n    private messageService: MessageService,\n    private tezosDomains: TezosDomainsService,\n    private subjectService: SubjectService,\n    private router: Router\n  ) {\n    super();\n  }\n\n  ngOnInit(): void {\n    if (this.walletService.wallet) {\n      let address = this.route.snapshot.paramMap.get('address');\n      if (this.walletService.addressExists(address)) {\n        this.activeAccount = this.walletService.wallet.getAccount(address);\n      }\n      this.subscriptions.add(\n        this.subjectService.activeAccount.subscribe((activeAccount) => {\n          this.activeAccount = activeAccount;\n        })\n      );\n    }\n  }\n  ngOnChanges(changes: SimpleChanges): void {\n    if (this.beaconMode) {\n      if (this.externalRequest?.operationRequest) {\n        const opReq = this.externalRequest.operationRequest.operationDetails\n          ? this.externalRequest.operationRequest.operationDetails\n          : this.externalRequest.operationRequest;\n        if (opReq[0]?.kind === 'delegation') {\n          if (opReq[0].delegate) {\n            this.activeAccount = this.externalRequest.selectedAccount;\n            ModalComponent.currentModel.next({\n              name: '',\n              data: null\n            });\n            this.clearForm();\n            ModalComponent.currentModel.next({\n              name: 'delegate-confirm',\n              data: { address: opReq[0].delegate }\n            });\n          }\n        }\n      }\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n\n  open(data): void {\n    if (this.walletService.wallet) {\n      this.clearForm(true);\n      this.estimateDefaultFee();\n      this.toPkh = data.address;\n      this.delegate = data;\n      if (this.walletService.isLedgerWallet()) {\n        this.ledgerError = '?';\n      }\n      if (this.beaconMode) {\n        this.syncSub = this.subjectService.beaconResponse.subscribe((response) => {\n          if (response) {\n            this.operationResponse.emit('silent');\n          }\n        });\n      }\n      super.open();\n    }\n  }\n\n  async inject(): Promise<void> {\n    const pwd = this.password;\n    this.password = '';\n    this.messageService.startSpinner('Signing operation...');\n    let keys;\n    try {\n      keys = await this.walletService.getKeys(pwd, this.activeAccount.pkh);\n    } catch {\n      this.messageService.stopSpinner();\n    }\n    if (this.walletService.isLedgerWallet()) {\n      this.broadCastLedgerTransaction();\n      this.sendResponse = null;\n    } else {\n      if (keys) {\n        this.pwdValid = '';\n        this.messageService.startSpinner('Sending operation...');\n        this.sendDelegation(keys);\n      } else {\n        this.messageService.stopSpinner();\n        if (this.walletService.wallet instanceof TorusWallet) {\n          this.pwdValid = `Authorization failed`;\n        } else {\n          this.pwdValid = 'Wrong password!';\n        }\n      }\n    }\n  }\n  async ledgerSign(): Promise<void> {\n    const keys = await this.walletService.getKeys('');\n    if (keys) {\n      this.messageService.startSpinner('');\n      this.sendDelegation(keys);\n    }\n  }\n\n  async sendDelegation(keys: KeyPair): Promise<void> {\n    let fee = this.getFee();\n    this.subscriptions.add(\n      this.operationService.delegate(this.activeAccount.address, this.toPkh, Number(fee), keys).subscribe(\n        async (ans: any) => {\n          this.sendResponse = ans;\n          console.log(JSON.stringify(ans));\n          if (ans.success === true) {\n            if (ans.payload.opHash) {\n              this.operationResponse.emit(ans.payload.opHash);\n              const metadata = {\n                delegate: this.toPkh,\n                opHash: ans.payload.opHash\n              };\n              this.coordinatorService.boost(this.activeAccount.address, metadata);\n              this.closeModal();\n              this.router.navigate([`/account/${this.activeAccount.address}`]);\n            } else if (this.walletService.isLedgerWallet()) {\n              this.requestLedgerSignature();\n            }\n          } else {\n            console.log('Delegation error id ', ans.payload.msg);\n            this.messageService.addError(ans.payload.msg, 0);\n            this.operationResponse.emit('broadcast_error');\n            this.closeModal();\n          }\n        },\n        (err) => {\n          console.log('Error Message ', JSON.stringify(err));\n          this.ledgerError = 'Failed to create operation';\n        }\n      )\n    );\n  }\n  async requestLedgerSignature(): Promise<void> {\n    if (this.walletService.wallet instanceof LedgerWallet) {\n      const op = this.sendResponse.payload.unsignedOperation;\n      this.messageService.startSpinner('Waiting for Ledger signature');\n      let signature;\n      try {\n        signature = await this.ledgerService.signOperation('03' + op, this.walletService.wallet.implicitAccounts[0].derivationPath);\n      } finally {\n        this.messageService.stopSpinner();\n      }\n      if (signature) {\n        const signedOp = op + signature;\n        this.sendResponse.payload.signedOperation = signedOp;\n        this.ledgerError = '';\n      } else {\n        this.ledgerError = 'Failed to sign operation';\n      }\n    }\n  }\n  async broadCastLedgerTransaction(): Promise<void> {\n    this.messageService.startSpinner('Broadcasting operation');\n    this.operationService.broadcast(this.sendResponse.payload.signedOperation).subscribe(\n      (ans: any) => {\n        this.sendResponse = ans;\n        if (ans.success && this.activeAccount.address) {\n          this.operationResponse.emit(ans.payload.opHash);\n          const metadata = {\n            delegate: this.toPkh,\n            opHash: ans.payload.opHash\n          };\n          this.coordinatorService.boost(this.activeAccount.address, metadata);\n          this.closeModal();\n          this.router.navigate([`/account/${this.activeAccount.address}`]);\n        } else {\n          this.messageService.addError(this.sendResponse.payload.msg, 0);\n          this.operationResponse.emit('broadcast_error');\n        }\n        this.closeModal();\n        console.log('ans: ' + JSON.stringify(ans));\n      },\n      (error) => {\n        this.messageService.stopSpinner();\n        this.messageService.addError(error, 0);\n        this.operationResponse.emit('broadcast_error');\n      }\n    );\n  }\n  estimateDefaultFee(): void {\n    this.subscriptions.add(\n      this.operationService.isRevealed(this.activeAccount.pkh).subscribe((revealed: boolean) => {\n        const revealFee = revealed ? 0 : 0.0002;\n        if (this.activeAccount instanceof ImplicitAccount) {\n          this.defaultFee = Number(new Big(revealFee).plus(this.pkhFee));\n        } else if (this.activeAccount instanceof OriginatedAccount) {\n          this.defaultFee = Number(new Big(revealFee).plus(this.ktFee));\n        }\n      })\n    );\n  }\n  getFee(): string {\n    return this.fee !== '' ? this.fee : this.defaultFee.toString();\n  }\n  clearForm(init: boolean = false): void {\n    if (!init && this.syncSub) {\n      this.syncSub.unsubscribe();\n      this.syncSub = undefined;\n    }\n    this.toPkh = '';\n    this.fee = '';\n    this.defaultFee = 0.0004;\n    this.password = '';\n    this.pwdValid = '';\n    this.formInvalid = '';\n    this.sendResponse = '';\n    this.ledgerError = '';\n    this.domainPendingLookup = false;\n    this.delegate = null;\n    this.advanced = false;\n  }\n  async invalidInput(): Promise<string> {\n    // if it is a tezos-domain\n    if (this.toPkh && this.toPkh.indexOf('.') > -1) {\n      try {\n        this.domainPendingLookup = true;\n        const { pkh } = await this.tezosDomains.getAddressFromDomain(this.toPkh);\n        if (pkh) {\n          this.toPkh = pkh;\n        } else {\n          this.domainPendingLookup = false;\n          return 'Could not find the domain';\n        }\n      } catch (error) {\n        return error.message;\n      } finally {\n        this.domainPendingLookup = false;\n      }\n    }\n    if (\n      (!this.inputValidationService.address(this.toPkh) && this.toPkh !== '') ||\n      (this.toPkh.length > 1 && this.toPkh.slice(0, 2) !== 'tz') ||\n      this.walletService.wallet.getImplicitAccount(this.toPkh)\n    ) {\n      return 'invalid delegate address';\n    } else if (!this.inputValidationService.fee(this.fee)) {\n      return 'invalid fee';\n    } else {\n      return '';\n    }\n  }\n  // Only Numbers with Decimals\n  keyPressNumbersDecimal(event, input): boolean {\n    const charCode = event.which ? event.which : event.keyCode;\n    if (charCode !== 46 && charCode > 31 && (charCode < 48 || charCode > 57)) {\n      event.preventDefault();\n      return false;\n    } else if (charCode === 46 && this[input].length === 0) {\n      this[input] = '0' + this[input];\n    }\n    return true;\n  }\n  download(): void {\n    this.exportService.downloadOperationData(this.sendResponse.payload.unsignedOperation, false);\n  }\n\n  closeModalAction(): void {\n    this.operationResponse.emit(null);\n    this.closeModal();\n  }\n\n  closeModal(): void {\n    ModalComponent.currentModel.next({ name: '', data: null });\n    this.clearForm();\n    this.ledgerError = '';\n    this.messageService.stopSpinner();\n  }\n\n  round(val): string {\n    return Math.round(Number(val)).toString();\n  }\n\n  toPercent(val): string {\n    return parseFloat((Number(val) * 100).toFixed(2)).toString() + '%';\n  }\n}\n","<div #viewRef class=\"flex-column list\">\n  <a *ngFor=\"let account of list\" class=\"flex-row option\" [class.selected]=\"account?.address === current?.address\"\n    routerLink=\"/account/{{account?.address}}{{postfix}}\" (click)=\"closeModal()\">\n    <div class=\"flex-column left\">\n      <ng-container *ngIf=\"getUsername(account?.address)\">\n        <div class=\"flex-row alias\"><img class=\"logo\" src=\"../../../../assets/img/{{ getVerifier() }}-logo.svg\" /><span\n            class=\"name\">{{\n            getUsername(account?.address) }}</span><img class=\"copy\" src=\"../../../../assets/img/copy-icon.svg\"\n            (click)=\"this.copy($event, account?.address); false\" /></div>\n        <span class=\"addr\">{{\n          !isMobile ? account?.address : account?.shortAddress() }}</span>\n      </ng-container>\n      <ng-container *ngIf=\"!getUsername(account?.address)\">\n        <div class=\"flex-row\"><span class=\"addr default\">{{\n            !isMobile ? account?.address : account?.shortAddress() }}</span><img class=\"copy\"\n            src=\"../../../../assets/img/copy-icon.svg\" (click)=\"this.copy($event, account?.address); false\" /></div>\n      </ng-container>\n    </div>\n    <div class=\"flex-column balances\">\n      <div class=\"balance-tez\">{{ (getBalance(account) | number: '1.0-6' | removeComma) }} tez</div>\n      <div class=\"balance-fiat\">{{ '$' + (getBalanceFiat(account) | number:'1.2-2' | removeComma)\n        }}</div>\n    </div>\n  </a>\n  <div class=\"flex-row total-balances\">\n    <h3>TOTAL:</h3>\n    <div class=\"flex-column\">\n      <div class=\"balance-tez\">{{ (getTotalBalance() | number: '1.0-6' | removeComma) + ' tez' }}\n      </div>\n      <div class=\"balance-fiat\">{{ '$' + (getTotalFiat() | number:'1.2-2' | removeComma) }}\n      </div>\n    </div>\n  </div>\n</div>","import { AfterViewInit, Component, ElementRef, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { NavigationEnd, Router } from '@angular/router';\nimport { TorusWallet } from '../../../../services/wallet/wallet';\nimport { LookupService } from '../../../../services/lookup/lookup.service';\nimport { WalletService } from '../../../../services/wallet/wallet.service';\nimport { ModalComponent } from '../../modal.component';\nimport { Subscription } from 'rxjs';\nimport { ListComponent } from '../../../ui/generic/list.component';\nimport copy from 'copy-to-clipboard';\nimport { MessageService } from '../../../../services/message/message.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport Big from 'big.js';\nimport { RemoveCommaPipe } from '../../../../pipes/remove-comma.pipe';\nimport { filter } from 'rxjs/operators';\nimport { SubjectService } from '../../../../services/subject/subject.service';\n\n@Component({\n  selector: 'app-account-list-body',\n  templateUrl: './body.component.html',\n  styleUrls: ['../../../../../scss/components/modals/account-list.scss']\n})\nexport class AccountListBodyComponent extends ListComponent implements OnInit, AfterViewInit, OnDestroy {\n  postfix = '';\n  isMobile = false;\n  @ViewChild('viewRef') viewRef: ElementRef;\n  preSelectedAccount: string;\n  private subscriptions: Subscription = new Subscription();\n\n  constructor(\n    public router: Router,\n    public lookupService: LookupService,\n    private walletService: WalletService,\n    public translate: TranslateService,\n    public messageService: MessageService,\n    public removeCommaPipe: RemoveCommaPipe,\n    private subjectService: SubjectService\n  ) {\n    super();\n    this.subscriptions.add(\n      this.router.events.pipe(filter((evt) => evt instanceof NavigationEnd)).subscribe(async (r: NavigationEnd) => {\n        let accountAddress = r.url.substr(r.url.indexOf('/account/') + 9);\n        this.postfix = !!accountAddress.substring(36) ? accountAddress.substring(36) : '';\n      })\n    );\n  }\n\n  ngOnInit(): void {\n    if (this.walletService.wallet) {\n      this.preSelectedAccount = this.current;\n    }\n    this.subscriptions.add(\n      this.subjectService.walletUpdated.subscribe(() => {\n        this.list = this.walletService.wallet?.getAccounts();\n      })\n    );\n    this.list = this.walletService.wallet?.getAccounts();\n\n    const e = () => {\n      this.isMobile = !!parseInt(document.documentElement.style.getPropertyValue('--is-mobile'));\n    };\n    window.addEventListener('resize', e);\n    e();\n  }\n\n  ngAfterViewInit(): void {\n    const selRef = this.viewRef.nativeElement.querySelector('.option.selected') as HTMLElement;\n    this.viewRef.nativeElement.scrollTo(0, selRef.offsetTop - 100);\n  }\n\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n\n  getUsername(address: string): string {\n    if (this.walletService.wallet instanceof TorusWallet) {\n      return this.walletService.wallet.displayName();\n    } else {\n      const party = this.lookupService.resolve({ address: address });\n      if (party?.name) {\n        return party.name;\n      }\n    }\n    return '';\n  }\n  getVerifier(): string {\n    if (this.walletService.wallet instanceof TorusWallet) {\n      return this.walletService.wallet.verifier;\n    } else {\n      return 'domain';\n    }\n  }\n  closeModal(): void {\n    ModalComponent.currentModel.next({ name: '', data: null });\n  }\n  copy(e, address: string): void {\n    e.stopPropagation();\n    copy(address);\n    const copyToClipboard = this.translate.instant('OVERVIEWCOMPONENT.COPIEDTOCLIPBOARD');\n    this.messageService.add(address + ' ' + copyToClipboard, 5);\n  }\n  getBalance(account): number | string {\n    return Big(account?.balanceXTZ ?? 0)\n      .div(1000000)\n      .toFixed();\n  }\n  getBalanceFiat(account): number {\n    return account?.balanceUSD ?? 0;\n  }\n\n  getTotalBalance(): number {\n    return Big(this.walletService.wallet.totalBalanceXTZ ?? 0)\n      .div(1000000)\n      .toFixed();\n  }\n\n  getTotalFiat(): number {\n    return this.walletService.wallet.totalBalanceUSD ?? 0;\n  }\n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { LookupService } from '../../../services/lookup/lookup.service';\nimport { ModalComponent } from '../modal.component';\nimport { MessageService } from '../../../services/message/message.service';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Component({\n  selector: 'app-account-list',\n  templateUrl: './list.component.html',\n  styleUrls: ['../../../../scss/components/modals/modal.scss']\n})\nexport class AccountListComponent extends ModalComponent implements OnInit {\n  @Input() title;\n  @Input() activeAccount;\n  name = 'account-list';\n\n  constructor(public router: Router, public lookupService: LookupService, public translate: TranslateService, public messageService: MessageService) {\n    super();\n  }\n\n  ngOnInit(): void {}\n  closeModal(): void {\n    ModalComponent.currentModel.next({ name: '', data: null });\n  }\n}\n","<div [style.display]=\"!isOpen ? 'none' : ''\" class=\"flex-column kukai-modal\">\n  <div class=\"content\">\n    <div class=\"flex-row top\">\n      <div class=\"flex-row button close\" (click)=\"closeModal()\"><img class=\"x\"\n          src=\"../../../assets/img/close-btn-x.png\" /></div>\n      <h1 class=\"title\">{{ title }}</h1>\n    </div>\n    <app-account-list-body [current]=\"activeAccount\">\n    </app-account-list-body>\n  </div>\n</div>","<div [style.display]=\"!isOpen ? 'none' : ''\" class=\"flex-column kukai-modal\">\n  <div class=\"content\">\n    <div class=\"flex-column top\">\n      <div class=\"flex-row button close\" (click)=\"closeModal()\"><img class=\"x\"\n          src=\"../../../assets/img/close-btn-x.png\" /></div>\n      <h1 class=\"title\">{{ title }}</h1>\n    </div>\n    <div class=\"flex-column export-mnemonic\">\n      <div *ngIf=\"!!mnemonicPhrase\" class=\"whitebox\" (mouseout)=\"mouseOut($event)\" (touchstart)=\"$event.stopPropagation(); this.hideBlur = true;\"\n        (touchend)=\"checkSelection($event)\" (click)=\"$event.stopPropagation()\" (mouseup)=\"checkSelection($event)\">\n        {{ mnemonicPhrase }}<div *ngIf=\"!hideBlur\" class=\"flex-row seed-blur\"\n          (click)=\"$event.stopPropagation(); this.hideBlur = true;\">\n          <span>CLICK HERE TO REVEAL YOUR SEED WORDS</span>\n        </div>\n      </div>\n      <p *ngIf=\"!!mnemonicPhrase\" class=\"description red\">\n        <span *ngIf=\"isSelectedMnemonic\" style=\"margin: 1rem 0\" class=\"warning red\">\n          WARNING: Copying the seed words to your clipboard can result in sensitive leakage. The clipboard is a shared\n          resource that can be monitored by other web pages or browser extensions.<br />\n        </span>\n      </p>\n      <div *ngIf=\"!mnemonicPhrase\" class=\"flex-column bottom\">\n        <div class=\"seperator\"></div>\n        <div class=\"label\">\n          ENTER YOUR PASSWORD TO REVEAL \n        </div>\n        <span [style.visibility]=\"!pwdInvalid ? 'hidden' : ''\" [style.margin]=\"!pwdInvalid ? '0' : ''\"\n        class=\"label danger\">{{ this.pwdInvalid }}</span>\n        <input [(ngModel)]=\"pwd\" autocomplete=\"current-password\" placeholder=\"Password\" class=\"text password\"\n          type=\"password\" (input)=\"this.pwdInvalid = ''\" (change)=\"this.pwdInvalid = ''\" (keydown.enter)='!messageService.spinnerOn ? reveal() : null'>\n        <button class=\"button confirm\" (click)=\"!messageService.spinnerOn ? reveal() : null\">Continue</button>\n      </div>\n    </div>\n  </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { MessageService } from '../../../services/message/message.service';\nimport { WalletService } from '../../../services/wallet/wallet.service';\nimport { ModalComponent } from '../modal.component';\n\n@Component({\n  selector: 'app-export-mnemonic',\n  templateUrl: './export-mnemonic.component.html',\n  styleUrls: ['../../../../scss/components/modals/modal.scss']\n})\nexport class ExportMnemonicComponent extends ModalComponent implements OnInit {\n  title = 'Reveal Seed Words';\n  name = 'export-mnemonic';\n  mnemonicPhrase = '';\n  ledgerError = '';\n  pwdInvalid = '';\n  pwd = '';\n  hideBlur = false;\n  isSelectedMnemonic = false;\n  constructor(public walletService: WalletService, private messageService: MessageService) {\n    super();\n  }\n\n  ngOnInit(): void {}\n\n  closeModal(): void {\n    this.reset();\n    ModalComponent.currentModel.next({ name: '', data: null });\n  }\n\n  async reveal(): Promise<void> {\n    try {\n      this.messageService.startSpinner();\n      this.mnemonicPhrase = await this.walletService.revealMnemonicPhrase(this.pwd);\n      this.pwdInvalid = this.mnemonicPhrase === '' ? 'INVLAID PASSWORD' : '';\n      this.messageService.stopSpinner();\n    } catch {\n      this.pwdInvalid = this.mnemonicPhrase === '' ? 'INVLAID PASSWORD' : '';\n    }\n  }\n\n  mouseOut(e): void {\n    e.stopPropagation();\n    this.hideBlur = false;\n    window.getSelection()?.removeAllRanges();\n  }\n  checkSelection(ev): void {\n    ev.stopPropagation();\n    if (this.isTextSelected()) {\n      this.isSelectedMnemonic = true;\n    }\n  }\n  private isTextSelected(): boolean {\n    let selection: Selection;\n    if (window.getSelection) {\n      selection = window.getSelection();\n    } else if (document.getSelection) {\n      selection = document.getSelection();\n    } else return false;\n    return !selection?.isCollapsed;\n  }\n  reset(): void {\n    this.mnemonicPhrase = '';\n    this.ledgerError = '';\n    this.pwdInvalid = '';\n    this.pwd = '';\n    this.hideBlur = false;\n    this.isSelectedMnemonic = false;\n  }\n}\n","import { Component, OnDestroy, OnInit, HostListener } from '@angular/core';\nimport { MessageService } from '../../../services/message/message.service';\nimport { WalletClient, BeaconMessageType, PermissionScope, PermissionResponseInput, OperationResponseInput } from '@airgap/beacon-sdk';\nimport { WalletService } from '../../../services/wallet/wallet.service';\nimport { CONSTANTS } from '../../../../environments/environment';\nimport { Account } from '../../../services/wallet/wallet';\nimport { BeaconService } from '../../../services/beacon/beacon.service';\nimport { DeeplinkService } from '../../../services/deeplink/deeplink.service';\nimport { assertMichelsonData } from '@taquito/michel-codec';\nimport { InputValidationService } from '../../../services/input-validation/input-validation.service';\nimport { SubjectService } from '../../../services/subject/subject.service';\nimport { Subscription } from 'rxjs';\nimport { ExternalRequest } from '../../../interfaces';\n\n@Component({\n  selector: 'app-uri-handler',\n  templateUrl: './uri-handler.component.html'\n})\nexport class UriHandlerComponent implements OnInit, OnDestroy {\n  private subscriptions: Subscription = new Subscription();\n  constructor(\n    public messageService: MessageService,\n    public walletService: WalletService,\n    private beaconService: BeaconService,\n    private deeplinkService: DeeplinkService,\n    private inputValidationService: InputValidationService,\n    private subjectService: SubjectService\n  ) {\n    this.subscriptions.add(\n      this.subjectService.activeAccount.subscribe((activeAccount) => {\n        this.activeAccount = activeAccount;\n      })\n    );\n  }\n  permissionRequest: PermissionResponseInput = null;\n  externalRequest: ExternalRequest = null;\n  signRequest: any = null;\n  activeAccount: Account;\n  selectedAccount: Account;\n  @HostListener('window:focus', ['$event'])\n  onFocus(event: FocusEvent): void {\n    this.changeFavicon();\n  }\n  ngOnInit(): void {\n    if (this.walletService.wallet) {\n      this.init();\n    }\n  }\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n  async init() {\n    const pairingString = this.deeplinkService.popPairingJson();\n    if (pairingString) {\n      console.log(pairingString);\n      this.beaconService.preNotifyPairing(pairingString);\n    }\n    window.addEventListener('storage', (e) => {\n      this.handleStorageEvent(e);\n    });\n    await this.connectApp().catch((error) => console.error('connect error', error));\n    if (pairingString) {\n      await this.beaconService.client.isConnected;\n      this.beaconService.addPeer(pairingString);\n    }\n  }\n  changeFavicon(active: boolean = false): void {\n    if (active && document.hasFocus()) {\n      active = false;\n    }\n    const src: string = active ? 'favicon-attention.ico' : 'favicon.ico';\n    document.getElementById('favicon').setAttribute('href', src);\n  }\n  /* https://github.com/airgap-it/beacon-sdk/blob/master/src/clients/wallet-client/WalletClient.ts */\n  connectApp = async (): Promise<void> => {\n    if (!this.beaconService.client) {\n      this.beaconService.client = new WalletClient({\n        name: 'Kukai Wallet'\n      });\n    }\n    await this.beaconService.client.init(); // Establish P2P connection\n    this.beaconService.client\n      .connect(async (message: any) => {\n        console.log('### beacon message', message);\n        if (message.type !== BeaconMessageType.SignPayloadRequest && message.network.type.replace('edo2net', 'edonet') !== CONSTANTS.NETWORK) {\n          console.warn(`Rejecting Beacon message because of network. Expected ${CONSTANTS.NETWORK} instead of ${message.network.type}`);\n          await this.beaconService.rejectOnNetwork(message);\n        } else if (!this.permissionRequest && !this.externalRequest && !this.signRequest) {\n          switch (message.type) {\n            case BeaconMessageType.PermissionRequest:\n              await this.handlePermissionRequest(message);\n              break;\n            case BeaconMessageType.OperationRequest:\n              if (await this.isSupportedOperationRequest(message)) {\n                this.externalRequest = { operationRequest: message, selectedAccount: this.selectedAccount };\n                this.changeFavicon(true);\n              }\n              break;\n            case BeaconMessageType.SignPayloadRequest:\n              if (await this.isSupportedSignPayload(message)) {\n                this.signRequest = message;\n                this.changeFavicon(true);\n              }\n              break;\n            default:\n              await this.beaconService.rejectOnUnknown(message);\n              console.warn('Unknown message type', message);\n          }\n        } else {\n          console.log('Blocked by other Beacon request');\n        }\n      })\n      .catch((error) => console.error('connect error', error));\n  };\n  async handlePermissionRequest(message: any): Promise<void> {\n    console.log('## permission request');\n    message.scopes = message.scopes.filter((scope: PermissionScope) => [PermissionScope.OPERATION_REQUEST, PermissionScope.SIGN].includes(scope));\n    if (message.scopes.length) {\n      if (this.walletService.wallet) {\n        this.permissionRequest = message;\n        this.changeFavicon(true);\n      } else {\n        console.warn('No wallet found');\n        await this.beaconService.rejectOnSourceAddress(message);\n      }\n    } else {\n      console.warn('No valid scope');\n    }\n  }\n  async isSupportedOperationRequest(message: any): Promise<boolean> {\n    if (!this.walletService.wallet) {\n      console.log('No wallet found');\n      await this.beaconService.rejectOnUnknown(message);\n      return false;\n    } else if (!this.walletService.wallet.getImplicitAccount(message.sourceAddress)) {\n      console.warn('Source address not recogized');\n      await this.beaconService.rejectOnSourceAddress(message);\n      return false;\n    } else if (message.operationDetails.length > 1) {\n      for (const op of message.operationDetails) {\n        if (op.kind !== 'transaction') {\n          console.warn('Only transaction batches supported');\n          await this.beaconService.rejectOnTooManyOps(message);\n          return false;\n        }\n      }\n    }\n    if (message.operationDetails[0].kind === 'transaction') {\n      for (let i = 0; i < message.operationDetails.length; i++) {\n        if (\n          message.operationDetails[i].destination &&\n          message.operationDetails[i].parameters &&\n          this.walletService.wallet.getAccount(message.operationDetails[i].destination)\n        ) {\n          console.warn('Invocation of user controlled contract is disabled');\n          await this.beaconService.rejectOnPermission(message);\n          return false;\n        } else if (!message.operationDetails[i].destination || !message.operationDetails[i].amount) {\n          console.warn('Missing destination or amount');\n          await this.beaconService.rejectOnUnknown(message);\n          return false;\n        } else if (this.invalidParameters(message.operationDetails[i].parameters)) {\n          await this.beaconService.rejectOnParameters(message);\n          return false;\n        } else if (this.invalidOptionals(message.operationDetails[i])) {\n          await this.beaconService.rejectOnParameters(message);\n          return false;\n        }\n      }\n    } else if (message.operationDetails[0].kind === 'delegation') {\n      if (!message.operationDetails[0].delegate) {\n        console.warn('Invalid delegate');\n        await this.beaconService.rejectOnUnknown(message);\n        return false;\n      }\n    } else if (message.operationDetails[0].kind === 'origination') {\n      if (!message.operationDetails[0].script) {\n        console.warn('No script found');\n        await this.beaconService.rejectOnParameters(message);\n        return false;\n      } else if (this.invalidOptionals(message.operationDetails[0])) {\n        await this.beaconService.rejectOnParameters(message);\n        return false;\n      }\n    } else {\n      console.warn('Unsupported operation kind');\n      await this.beaconService.rejectOnUnknown(message);\n      return false;\n    }\n    this.selectedAccount = this.walletService.wallet.getImplicitAccount(message.sourceAddress);\n    return true;\n  }\n  private invalidOptionals(op: any): boolean {\n    if (typeof op.gas_limit === 'number') {\n      // normalize\n      op.gas_limit = op.gas_limit.toString();\n    }\n    if (typeof op.storage_limit === 'number') {\n      op.storage_limit = op.storage_limit.toString();\n    }\n    if (op.gas_limit && (typeof op.gas_limit !== 'string' || !this.inputValidationService.amount(op.gas_limit, 0))) {\n      return true;\n    } else if (op.storage_limit && (typeof op.storage_limit !== 'string' || !this.inputValidationService.amount(op.storage_limit, 0))) {\n      return true;\n    }\n    return false;\n  }\n  async isSupportedSignPayload(message: any): Promise<Boolean> {\n    if (!this.walletService.wallet) {\n      console.log('No wallet found');\n      await this.beaconService.rejectOnUnknown(message);\n      return false;\n    } else if (!this.walletService.wallet.getImplicitAccount(message.sourceAddress)) {\n      console.warn('Source address not recogized');\n      await this.beaconService.rejectOnSourceAddress(message);\n      return false;\n    }\n    if (message.payload.slice(0, 2) === '0x') {\n      message.payload = message.payload.slice(2);\n    }\n    message.payload = message.payload.toLowerCase();\n    const hexString = message.payload;\n    console.log('hex', hexString);\n    if ((message.signingType !== 'raw' && message.signingType !== 'micheline') || !this.inputValidationService.hexString(hexString)) {\n      console.warn('Invalid sign payload');\n      await this.beaconService.rejectOnUnknown(message);\n      return false;\n    } else if (hexString.slice(0, 2) !== '05') {\n      console.warn('Unsupported prefix (expected 05)');\n      await this.beaconService.rejectOnUnknown(message);\n      return false;\n    }\n    if (!this.inputValidationService.isMichelineExpr(hexString)) {\n      await this.beaconService.rejectOnUnknown(message);\n      return false;\n    }\n    this.selectedAccount = this.walletService.wallet.getImplicitAccount(message.sourceAddress);\n    return true;\n  }\n  invalidParameters(parameters: any): boolean {\n    try {\n      if (parameters) {\n        if (!parameters.value || !parameters.entrypoint) {\n          throw new Error('entrypoint and value expected');\n        }\n        assertMichelsonData(parameters.value);\n      }\n      return false;\n    } catch (e) {\n      return true;\n    }\n  }\n  /* operation request handling */\n  async operationResponse(opHash: any): Promise<void> {\n    if (opHash?.error) {\n      opHash = opHash.error;\n    }\n    if (!this.externalRequest) {\n      return;\n    }\n    console.log('hash', opHash);\n    console.log('externalRequest', this.externalRequest);\n    if (!opHash) {\n      await this.beaconService.rejectOnUserAbort(this.externalRequest.operationRequest);\n    } else if (opHash === 'broadcast_error') {\n      await this.beaconService.rejectOnBroadcastError(this.externalRequest.operationRequest);\n    } else if (opHash === 'invalid_parameters') {\n      await this.beaconService.rejectOnParameters(this.externalRequest.operationRequest);\n    } else if (opHash === 'parameters_error') {\n      await this.beaconService.rejectOnParameters(this.externalRequest.operationRequest);\n    } else if (opHash === 'unknown_error') {\n      await this.beaconService.rejectOnUnknown(this.externalRequest.operationRequest);\n    } else if (opHash !== 'silent') {\n      const response: OperationResponseInput = {\n        type: BeaconMessageType.OperationResponse,\n        transactionHash: opHash,\n        id: this.externalRequest.operationRequest.id\n      };\n      await this.beaconService.client.respond(response);\n    }\n    if (opHash !== 'silent') {\n      this.beaconService.responseSync();\n    }\n    this.externalRequest = null;\n  }\n  /* permission handling */\n  async permissionResponse(publicKey: string): Promise<void> {\n    if (!publicKey) {\n      await this.beaconService.rejectOnUserAbort(this.permissionRequest);\n      this.beaconService.responseSync();\n    } else if (publicKey !== 'silent') {\n      await this.beaconService.approvePermissionRequest(this.permissionRequest, publicKey);\n      this.beaconService.syncBeaconState();\n      this.beaconService.responseSync();\n    }\n    this.permissionRequest = null;\n  }\n  /* sign payload handling */\n  async signResponse(signature: string): Promise<void> {\n    if (!signature) {\n      await this.beaconService.rejectOnUserAbort(this.signRequest);\n      this.beaconService.responseSync();\n    } else if (signature !== 'silent') {\n      await this.beaconService.approveSignPayloadRequest(this.signRequest, signature);\n      this.beaconService.responseSync();\n    }\n    console.log(signature);\n    this.signRequest = null;\n  }\n  private async handleStorageEvent(ev: StorageEvent): Promise<void> {\n    switch (ev.key) {\n      case 'beacon:communication-peers-wallet':\n        const peers = JSON.parse(ev.newValue);\n        const senderIds = (await this.beaconService.client.getAppMetadataList()).map((app) => {\n          return app.senderId;\n        });\n        const newPeers = peers.length - senderIds.length;\n        if (newPeers > 0) {\n          const newPeer = peers ? peers.pop() : null;\n          if (newPeer && !senderIds.includes(newPeer.senderId)) {\n            const { senderId, ...peer } = newPeer;\n            await this.beaconService.addPeer(JSON.stringify(peer), false);\n          }\n        } else {\n          this.beaconService.syncBeaconState();\n        }\n        break;\n      case 'beacon:request-response':\n        if (ev.newValue) {\n          this.subjectService.beaconResponse.next(true);\n          this.beaconService.syncBeaconState();\n          this.changeFavicon();\n        }\n        break;\n    }\n  }\n}\n","<app-send [embedded]=\"false\" (operationResponse)=\"operationResponse($event)\"\n  [externalRequest]=\"externalRequest\"></app-send>\n<app-delegate (operationResponse)=\"operationResponse($event)\" [beaconMode]=true [externalRequest]=externalRequest>\n</app-delegate>\n<app-originate (operationResponse)=\"operationResponse($event)\" [externalRequest]=externalRequest></app-originate>\n<app-permission-request (permissionResponse)=\"permissionResponse($event)\" [permissionRequest]=\"permissionRequest\"\n  [activeAccount]=activeAccount>\n</app-permission-request>\n<app-sign-expr (signResponse)=\"signResponse($event)\" [signRequest]=\"signRequest\" [activeAccount]=selectedAccount>\n</app-sign-expr>\n<app-account-list [title]=\"'Accounts'\" [activeAccount]=\"activeAccount\"></app-account-list>\n<app-new-implicit></app-new-implicit>\n<app-receive></app-receive>\n<app-export-mnemonic></app-export-mnemonic>","<div *ngIf=\"active\" class=\"moonpay\">\n  <div class=\"top\">\n    <a>\n      <button class=\"back secondary\" (click)=\"close()\">\n        <img src=\"../../../../../assets/img/left-arrow.svg\">Back</button>\n    </a>\n    <p>Buy XTZ (tez) with MoonPay</p>\n  </div>\n  <div class=\"main\">\n    <ng-container *ngIf=\"url\">\n      <iframe allow=\"accelerometer; autoplay; camera; gyroscope; payment\" frameborder=\"0\" height=\"100%\" [src]=\"this.url\"\n        width=\"100%\">\n        <p>Your browser does not support iframes.</p>\n      </iframe>\n    </ng-container>\n    <img *ngIf=\"!(url && mobile)\" class=\"loading\" src=\"../../../../../../assets/img/loader.svg\">\n  </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { DomSanitizer, SafeUrl } from '@angular/platform-browser';\nimport { Account } from '../../../../../services/wallet/wallet';\nimport { WalletService } from '../../../../../services/wallet/wallet.service';\nimport { CONSTANTS, environment } from '../../../../../../environments/environment';\nimport { SubjectService } from '../../../../../services/subject/subject.service';\nimport { HostListener } from '@angular/core';\n\n@Component({\n  selector: 'app-moonpay',\n  templateUrl: './moonpay.component.html',\n  styleUrls: ['../../../../../../scss/components/views/logged-in/account-view/cards/moonpay/moonpay.component.scss']\n})\nexport class MoonpayComponent implements OnInit {\n  @HostListener('window:resize', ['$event'])\n  onResize() {\n    this.mobile = window.innerWidth < 575;\n  }\n  readonly dev: boolean = !(CONSTANTS.MAINNET && environment.production);\n  readonly baseUrl: string = `https://buy${this.dev ? '-staging' : ''}.moonpay.com`;\n  mobile = false;\n  url: SafeUrl;\n  active = false;\n  account: Account;\n  constructor(private walletService: WalletService, private sanitizer: DomSanitizer, private subjectService: SubjectService) {}\n\n  ngOnInit(): void {\n    this.onResize();\n    this.subjectService.activeAccount.subscribe((a) => {\n      this.account = a;\n    });\n    this.subjectService.moonpay.subscribe((o) => {\n      if (o) {\n        this.open();\n      } else {\n        this.close();\n      }\n    });\n  }\n  private async signUrl(address: string): Promise<SafeUrl> {\n    if (address?.startsWith('tz')) {\n      const query: string = `?apiKey=${\n        this.dev ? 'pk_test_M23P0Zc5SvBORSFV63sfWKi7n5QbGZR' : 'pk_live_rP9HlBRO54nY4QKLxc6ONl4Prrm6vymK'\n      }&colorCode=%237178E3&currencyCode=xtz&walletAddress=${encodeURIComponent(address)}`;\n      const sig = await this.post({ dev: this.dev, url: query });\n      if (sig) {\n        const url = this.sanitizer.bypassSecurityTrustResourceUrl(`${this.baseUrl}${query}&signature=${encodeURIComponent(sig)}`);\n        return url;\n      }\n    }\n    return null;\n  }\n  private async open(): Promise<void> {\n    this.active = true;\n    const address: string = this.account ? this.account.address : null;\n    if (!address?.startsWith('tz')) {\n      return;\n    }\n    this.url = await this.signUrl(address);\n  }\n  private close(): void {\n    this.url = null;\n    this.active = false;\n  }\n  private async post(data: any = {}): Promise<string> {\n    return fetch('https://utils.kukai.network/moonpay/sign', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    })\n      .then(async (d) => {\n        return d.text();\n      })\n      .catch((e) => {\n        return '';\n      });\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { StartComponent } from './components/views/start/start.component';\nimport { NewWalletComponent } from './components/views/start/login-types/new-wallet/new-wallet.component';\nimport { MnemonicImportComponent } from './components/views/start/login-types/mnemonic-import/mnemonic-import.component';\nimport { ConnectLedgerComponent } from './components/views/start/login-types/connect-ledger/connect-ledger.component';\nimport { P404Component } from './components/views/error/404.component';\nimport { P500Component } from './components/views/error/500.component';\nimport { PrivacyPolicyComponent } from './components/views/start/agreement/privacy-policy/privacy-policy.component';\nimport { TermsOfUseComponent } from './components/views/start/agreement/terms-of-use/terms-of-use.component';\nimport { EmbeddedComponent } from './components/views/embedded/embedded.component';\nimport { LoggedInComponent } from './components/views/logged-in/logged-in.component';\nimport { ActivateComponent } from './components/views/start/activate/activate.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    children: [\n      { path: '', component: StartComponent },\n      { path: 'new-wallet', component: NewWalletComponent },\n      { path: 'import', component: MnemonicImportComponent },\n      { path: 'connect-ledger', component: ConnectLedgerComponent },\n      {\n        path: 'account',\n        component: LoggedInComponent,\n        loadChildren: () => import(`./components/views/logged-in/logged-in.module`).then((module) => module.LoggedInModule)\n      },\n      { path: 'activate', component: ActivateComponent },\n      { path: 'serviceworker', component: TermsOfUseComponent },\n      { path: 'embedded', component: EmbeddedComponent }\n    ]\n  },\n  { path: 'privacy-policy', component: PrivacyPolicyComponent },\n  { path: 'terms-of-use', component: TermsOfUseComponent },\n  { path: '404', component: P404Component, data: { title: 'Page 404' } },\n  { path: '500', component: P500Component, data: { title: 'Page 500' } },\n  { path: '**', redirectTo: '404' }\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes, { relativeLinkResolution: 'legacy' })],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule {}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-logged-in',\n  templateUrl: './logged-in.component.html'\n})\nexport class LoggedInComponent implements OnInit {\n  constructor() {}\n\n  ngOnInit(): void {}\n}\n","<app-uri-handler></app-uri-handler>\n<router-outlet></router-outlet>\n<app-moonpay></app-moonpay>","<div [style.display]=\"!isOpen ? 'none' : ''\" class=\"flex-column kukai-modal\">\n  <div class=\"content\">\n    <div class=\"flex-row top\">\n      <div class=\"flex-row button close\" (click)=\"close()\"><img class=\"x\"\n          src=\"../../../../../assets/img/close-btn-x.png\" />\n      </div>\n      <h1 class=\"title\">{{ title }}</h1>\n    </div>\n    <div class=\"flex-column info\">\n      <div class=\"message\">\n        {{ message }}\n      </div>\n      <div *ngIf=\"action\" class=\"flex-column bottom\">\n        <div class=\"seperator\"></div>\n        <button class=\"button confirm\" (click)=\"proceed()\">{{ action }}</button>\n      </div>\n    </div>\n  </div>\n</div>","import { Component, Input, OnInit } from '@angular/core';\nimport { ModalComponent } from '../modal.component';\n\n@Component({\n  selector: 'app-info',\n  templateUrl: './info.component.html',\n  styleUrls: ['../../../../scss/components/modals/modal.scss']\n})\nexport class InfoComponent extends ModalComponent implements OnInit {\n  action = '';\n  message = '';\n  href = '';\n  title = 'Info';\n  name = 'info';\n  constructor() {\n    super();\n  }\n\n  ngOnInit(): void {}\n\n  open(data: any): void {\n    this.action = data?.action;\n    this.message = data?.message;\n    this.href = data?.href;\n    this.title = data?.title || this.title;\n    super.open();\n  }\n\n  closeModal(): void {\n    super.close();\n  }\n  proceed(): void {\n    if (!!this.href) {\n      const newTab = window.open(this.href, '_blank');\n      newTab.focus();\n      newTab.opener = null;\n    }\n    this.closeModal();\n  }\n}\n","<ng-container *ngIf=\"!message?.timeout && message?.msg\">\n  <span *ngIf=\"!message?.email && !message?.username && !message?.twitterId && message?.msg\">{{ message.msg }}</span>\n  <span *ngIf=\"message?.email || message?.username || message?.twitterId\">Click <a target=\"_blank\"\n      href=\"{{ notifyFormat(message) }}\">here to notify</a> {{ getAlias(message) }} via {{ message.msg }}: <b>{{\n      message.amount }}</b> sent</span>\n  <svg version=\"1.2\" baseProfile=\"tiny-ps\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14 14\" width=\"14\" height=\"14\"\n    class=\"flex-row button close\" (click)=\"removeMessage(index)\">\n    <title>Popups</title>\n    <g id=\"Popups\">\n      <g id=\"Confirmation TEZ\">\n        <g id=\"Close Button\">\n          <path id=\"Rectangle 13\" class=\"shp0\"\n            d=\"M13.46 0.54C14.18 1.25 14.18 2.41 13.46 3.12L3.12 13.46C2.41 14.18 1.25 14.18 0.54 13.46C-0.18 12.75 -0.18 11.59 0.54 10.88L10.88 0.54C11.59 -0.18 12.75 -0.18 13.46 0.54ZM3.12 0.54L13.46 10.88C14.18 11.59 14.18 12.75 13.46 13.46C12.75 14.18 11.59 14.18 10.88 13.46L0.54 3.12C-0.18 2.41 -0.18 1.25 0.54 0.54C1.25 -0.18 2.41 -0.18 3.12 0.54Z\" />\n        </g>\n      </g>\n    </g>\n  </svg>\n</ng-container>\n<ng-container *ngIf=\"message?.timeout && message?.msg\">\n  <span *ngIf=\"message?.msg\">{{ message.msg }}</span><img *ngIf=\"message?.loader\" class=\"loader\"\n    src=\"../../../../assets/img/wait.svg\">\n</ng-container>","import { Component, Input, OnInit } from '@angular/core';\nimport { MessageService } from '../../../services/message/message.service';\n\n@Component({\n  selector: 'app-alert',\n  templateUrl: './alert.component.html',\n  styleUrls: ['../../../../scss/components/modals/alert/alert.component.scss']\n})\nexport class AlertComponent implements OnInit {\n  @Input() public message;\n  @Input() index;\n\n  constructor(public messageService: MessageService) {}\n  readonly subject = 'Sent you Tezos tokens';\n  ngOnInit(): void {\n    if (this.message?.timeout) {\n      setTimeout(() => {\n        this.removeMessage(this.index);\n        this.message = null;\n      }, this.message?.timeout);\n    }\n  }\n\n  removeMessage(index: number): void {\n    this.messageService.messages.splice(index, 1);\n  }\n  getHostName(): string {\n    return location.hostname;\n  }\n  notifyFormat(message: any): string | Error {\n    if (message.email) {\n      return this.mailtoFormat(message);\n    } else if (message.username) {\n      return this.redditPmFormat(message);\n    } else if (message.twitterId) {\n      return this.twitterPmFormat(message);\n    } else {\n      throw new Error('Invalid message');\n    }\n  }\n  mailtoFormat(message: any): string {\n    const subject = encodeURI(this.subject);\n    const body = this.encodedBody(message.amount, 'Google', `https://${this.getHostName()}\\n\\n`);\n    return `mailto:${message.email}?subject=${subject}&body=${body}`;\n  }\n  redditPmFormat(message: any): string {\n    // https://www.reddit.com/message/compose?to=USERNAME&subject=SUBJECT&message=MESSAGE\n    const subject = encodeURI(this.subject);\n    const body = this.encodedBody(`${message.amount}`, 'Reddit', `[kukai.app](https://${this.getHostName()})`);\n    return `https://www.reddit.com/message/compose?to=${message.username}&subject=${subject}&message=${body}`;\n  }\n  twitterPmFormat(message: any): string {\n    // https://twitter.com/messages/compose?recipient_id=USER_ID&text=MESSAGE\n    const body = this.encodedBody(message.amount, 'Twitter', `https://${this.getHostName()}`);\n    return `https://twitter.com/messages/compose?recipient_id=${message.twitterId}&text=${body}`;\n  }\n  encodedBody(amount: string, accountType: string, url: string): string {\n    const s = accountType === 'Reddit' ? '  ' : '';\n    const b = accountType === 'Reddit' ? '**' : '';\n    const t = accountType === 'Twitter' ? 'Tezos ' : '';\n    return encodeURI(\n      `Hi,${s}\\nI sent you ${b}${amount}${b} using the Kukai wallet.\\n\\nYou can access your ${t}wallet with your ${accountType} account at: ${url}`\n    );\n  }\n  getAlias(message: any): string {\n    return message.email ? message.email : message.username ? message.username : message.handler ? message.handler : 'recipient';\n  }\n}\n","<div class='msg-container'>\n  <div *ngFor=\"let message of messageService.messages ; let i = index\">\n    <app-alert [message]=\"message\" [index]=\"i\" class=\"flex-row alert\" [class]=\"'alert alert-'+message.type\">\n    </app-alert>\n  </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { MessageService } from '../../../services/message/message.service';\nimport { TorusService } from '../../../services/torus/torus.service';\n\n@Component({\n  selector: 'app-messages',\n  templateUrl: './messages.component.html',\n  styleUrls: ['../../../../scss/components/ui/messages/messages.component.scss']\n})\nexport class MessagesComponent implements OnInit {\n  constructor(public messageService: MessageService, public torusService: TorusService) {}\n  ngOnInit(): void {}\n}\n","<div *ngIf=\"router.url.indexOf('/account/') > -1\" class=\"flex-row dropdown\" [class.expanded]=\"isOpen\"\n  [style.cursor]=\"['', 'domain'].includes(getVerifier()) ? '' : 'text'\" [id]=\"ecmpId\">\n  <div class=\"flex-row currentAddress\" (click)=\"['', 'domain'].includes(getVerifier()) ? toggleDropdown() : ''\"><img\n      *ngIf=\"!!getUsername(current?.address)\" class=\"logo\"\n      src=\"../../../../assets/img/{{ getVerifier() }}-logo.svg\" /><span class=\"address\">{{\n      getUsername(current?.address) || \"&nbsp;&nbsp;&nbsp;&nbsp;\" + current?.shortAddress() }}</span><img\n      *ngIf=\"['', 'domain'].includes(getVerifier())\" class=\"button icon-db\"\n      src=\"../../../../assets/img/down-arrow.svg\" />\n  </div>\n  <div class=\"flex-column dropdown-content\">\n    <div class=\"flex-column body\">\n      <ng-container *ngFor=\"let account of list; trackBy: trackAccount\">\n        <a class=\"option\" routerLink=\"/account/{{account?.address}}{{postfix}}\"\n          [class.selected]=\"account?.address === current?.address\"\n          [style.padding]=\"!getUsername(current?.address) ? '0.75rem 1.125rem 0.75rem calc(2.5rem - var(--border-width))' : ''\"\n          (click)=\"toggleDropdown()\">\n          <ng-container *ngIf=\"getUsername(account?.address)\">\n            <div class=\"flex-row alias\"><img class=\"logo\"\n                src=\"../../../../assets/img/{{ getVerifier() }}-logo.svg\" /><span>{{\n                getUsername(account?.address) }}</span></div>\n          </ng-container>\n          <ng-container *ngIf=\"!getUsername(account?.address)\">{{ account?.shortAddress() }}</ng-container>\n        </a>\n      </ng-container>\n    </div>\n    <div *ngIf=\"list?.length > 1\" class=\"option show-all\" [style.padding]=\"!getUsername(current?.address) ? '0.75rem 1.125rem 0.75rem calc(2.5rem - var(--border-width))' : ''\" (click)=\"showAll()\">\n      <span>Show All</span>\n    </div>\n  </div>\n</div>","import { Component, Input, OnChanges, OnDestroy, OnInit, SimpleChanges } from '@angular/core';\nimport { NavigationEnd, Router } from '@angular/router';\nimport { TorusWallet } from '../../../../services/wallet/wallet';\nimport { WalletService } from '../../../../services/wallet/wallet.service';\nimport { LookupService } from '../../../../services/lookup/lookup.service';\nimport { DropdownComponent } from '../dropdown.component';\nimport { ModalComponent } from '../../../modals/modal.component';\nimport { filter } from 'rxjs/operators';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-ui-dropdown-account',\n  templateUrl: './account-dropdown.component.html',\n  styleUrls: ['../../../../../scss/components/ui/dropdown/account-dropdown.component.scss']\n})\nexport class AccountDropdownComponent extends DropdownComponent implements OnInit, OnChanges, OnDestroy {\n  postfix = '';\n\n  private subscriptions: Subscription = new Subscription();\n\n  constructor(public router: Router, public lookupService: LookupService, private walletService: WalletService) {\n    super();\n    this.subscriptions.add(\n      this.router.events.pipe(filter((evt) => evt instanceof NavigationEnd)).subscribe(async (r: NavigationEnd) => {\n        let accountAddress = r.url.substr(r.url.indexOf('/account/') + 9);\n        this.postfix = !!accountAddress.substring(36) ? accountAddress.substring(36) : '';\n      })\n    );\n  }\n\n  ngOnInit(): void {\n    this.list = this.options;\n    let accountAddress = this.router.url.substr(this.router.url.indexOf('/account/') + 9);\n    this.postfix = !!accountAddress.substring(36) ? accountAddress.substring(36) : '';\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.options && changes.options.currentValue !== changes.options.previousValue) {\n      this.list = this.options;\n    }\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.unsubscribe();\n  }\n\n  getUsername(address: string): string {\n    if (this.walletService.wallet instanceof TorusWallet) {\n      return this.walletService.wallet.displayName();\n    } else {\n      const party = this.lookupService.resolve({\n        address: address || this.current?.address\n      });\n      if (party?.name) {\n        return party.name;\n      }\n    }\n    return '';\n  }\n  getVerifier(): string {\n    if (this.walletService.wallet instanceof TorusWallet) {\n      return this.walletService.wallet.verifier;\n    } else {\n      return 'domain';\n    }\n  }\n  showAll(): void {\n    ModalComponent.currentModel.next({ name: 'account-list', data: null });\n  }\n  trackAccount(index: number, account: any) {\n    return account?.address ? account.address : index;\n  }\n}\n","<div class=\"hamburger-dropdown\" [class.expanded]=\"isOpen\" [id]=\"ecmpId\">\n  <img class=\"button icon-db\" src=\"../../../../assets/img/hamburger.svg\" (click)=\"toggleDropdown()\" />\n  <div *ngIf=\"router.url.indexOf('/account/') === 0\" class=\"flex-column mobile dropdown-content\">\n    <div class=\"flex-row-wrap account-content\">\n      <div class=\"flex-column button\" (click)=\"unlockableService.toggleFeature('theme', 'dark');toggleDropdown()\">\n        <div class=\"wrapper\">\n          <img class=\"icon\" [src]=\"this.unlockableService?.unlockables?.theme === 'dark' ? 'assets/img/light_mode_blue.svg' : 'assets/img/dark_mode_blue.svg'\" />\n        </div>\n        <span>THEME</span>\n      </div>\n      <div *ngIf=\"router.url.indexOf('/account/') === 0\" class=\"flex-column button\" (click)=\"copy();toggleDropdown()\">\n        <div class=\"wrapper\">\n          <img class=\"icon\" src=\"../../../../assets/img/copy-blue.svg\" />\n        </div>\n        <span>COPY</span>\n      </div>\n      <div class=\"flex-column button\" (click)=\"receive();toggleDropdown()\">\n        <div class=\"wrapper\">\n          <img class=\"icon\" src=\"../../../../assets/img/qr-blue.svg\" />\n        </div>\n        <span>QR</span>\n      </div>\n      <div *ngIf=\"walletService.isHdWallet()\" class=\"flex-column button\" (click)=\"newAccount();toggleDropdown()\">\n        <div class=\"wrapper\">\n          <img class=\"icon\" src=\"../../../../assets/img/add-blue.svg\" />\n        </div>\n        <span>ADD</span>\n      </div>\n    </div>\n    <div class=\"flex-row button delegation\" routerLink=\"/account/{{activeAccount?.address}}/stakers\"\n      (click)=\"toggleDropdown()\">\n      <div *ngIf=\"!activeAccount?.delegate\" class=\"flex-row\">\n        <span class=\"flex-row\">STAKING:</span><span class=\"choose\">NOT\n          STAKING</span>\n      </div>\n      <div *ngIf=\"activeAccount?.delegate\" class=\"flex-row\">\n        <span>STAKING</span>\n        <span class=\"flex-row address\">{{ delegateName\n          }}</span>\n      </div>\n    </div>\n\n    <div class=\"flex-row button\" [routerLink]=\"'/account/' + activeAccount?.address + '/settings'\" (click)=\"toggleDropdown()\">\n      <span>SETTINGS</span><img class=\"icon settings\" src=\"../../../../assets/img/cog.svg\" style=\"width: 2.75rem\" />\n    </div>\n    <div class=\"flex-row button\" (click)=\"logout();toggleDropdown()\">\n      <span>LOGOUT</span><img class=\"icon\" src=\"../../../../assets/img/sign-out-alt.svg\" style=\"width: 2.5rem\" />\n    </div>\n  </div>\n  <div *ngIf=\"router.url.indexOf('/account/') !== 0\" class=\"flex-column mobile dropdown-content\">\n    <div routerLink=\"/import/\" class=\"flex-row button\" (click)=\"toggleDropdown()\">\n      <span>Import Wallet</span>\n    </div>\n    <div routerLink=\"/new-wallet/\" class=\"flex-row button\" (click)=\"toggleDropdown()\">\n      <span>Create New Wallet</span>\n    </div>\n    <div routerLink=\"/connect-ledger/\" class=\"flex-row button\" (click)=\"toggleDropdown()\">\n      <span>Connect Ledger</span>\n    </div>\n  </div>\n</div>","import { Component, Input, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { WalletService } from '../../../../services/wallet/wallet.service';\nimport { Account } from '../../../../services/wallet/wallet';\nimport { DropdownComponent } from '../dropdown.component';\nimport { TranslateService } from '@ngx-translate/core';\nimport copy from 'copy-to-clipboard';\nimport { MessageService } from '../../../../services/message/message.service';\nimport { LookupService } from '../../../../services/lookup/lookup.service';\nimport { SubjectService } from '../../../../services/subject/subject.service';\nimport { ModalComponent } from '../../../../components/modals/modal.component';\nimport { take } from 'rxjs/operators';\nimport { UnlockableService } from '../../../../services/unlockable/unlockable.service';\n\n@Component({\n  selector: 'app-ui-mobile-menu',\n  templateUrl: './mobile-menu.component.html',\n  styleUrls: ['../../../../../scss/components/ui/dropdown/mobile-menu.component.scss']\n})\nexport class MobileMenuDropdownComponent extends DropdownComponent implements OnInit {\n  @Input() activeAccount: Account;\n  @Input() delegateName;\n  @Input() newAccount;\n  @Input() receive;\n\n  constructor(\n    public router: Router,\n    public walletService: WalletService,\n    public lookupService: LookupService,\n    private messageService: MessageService,\n    private translate: TranslateService,\n    private subjectService: SubjectService,\n    public unlockableService: UnlockableService\n  ) {\n    super();\n  }\n\n  ngOnInit(): void {}\n  toggleDropdown(): void {\n    if (window.innerHeight < document.body.scrollHeight) {\n      document.body.style.overflow = 'hidden';\n    }\n    this.isOpen = !this.isOpen;\n  }\n  copy(): void {\n    copy(this.activeAccount.address);\n    const copyToClipboard = this.translate.instant('OVERVIEWCOMPONENT.COPIEDTOCLIPBOARD');\n    this.messageService.add(this.activeAccount.address + ' ' + copyToClipboard, 5);\n  }\n  openSwap() {\n    this.messageService.startSpinner();\n    ModalComponent.currentModel.next({ name: 'swap-liquidity', data: null });\n  }\n  logout(): void {\n    this.subjectService.logout.next(true);\n    this.messageService.clear();\n    this.walletService.clearWallet();\n    this.lookupService.clear();\n    this.router.navigate(['']);\n  }\n}\n","<div class=\"flex-row top-container desktop\" [class]=\"router.url.indexOf('/account') === 0 ? 'default' : ''\">\n  <a routerLink=\"/\" class=\"flex-row brand-logo\">\n    <img class=\"icon\" src=\"../../../assets/img/header-logo.svg\" />\n  </a>\n  <div *ngIf=\"router.url.indexOf('/account/') === 0\" class=\"flex-row right\">\n    <div class=\"button icon\" (click)=\"unlockableService.toggleFeature('theme', 'dark')\">\n      <img [src]=\"this.unlockableService?.unlockables?.theme === 'dark' ? 'assets/img/light_mode.svg' : 'assets/img/dark_mode.svg'\" />\n      <div class=\"tooltip\">\n        <div class=\"description\">THEME</div>\n      </div>\n    </div>\n    <div class=\"flex-column left\">\n      <app-ui-dropdown-account [options]=\"accounts\" [current]=\"activeAccount\"></app-ui-dropdown-account>\n      <div class=\"delegation\">\n        <div class=\"flex-row outside-container\" *ngIf=\"!beaconMode\">\n          <div class=\"flex-row button\" routerLink=\"/account/{{activeAccount?.address}}/stakers\">\n            <span *ngIf=\"!activeAccount?.delegate\">STAKING: <span class=\"choose\">NOT\n                STAKED</span></span>\n            <span *ngIf=\"activeAccount?.delegate\" class=\"address\">STAKING: <span>{{ delegateName }}</span></span>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"flex-row right\">\n      <div class=\"button icon\" (click)=\"copy()\">\n        <img src=\"../../../assets/img/copy.svg\" />\n        <div class=\"tooltip\">\n          <div class=\"description\">COPY ADDRESS</div>\n        </div>\n      </div>\n      <div class=\"button icon receive\" (click)=\"receive()\">\n        <img src=\"../../../assets/img/qr.svg\" />\n        <div class=\"tooltip\">\n          <div class=\"description\">ADDRESS QR</div>\n        </div>\n      </div>\n      <div *ngIf=\"walletService.isHdWallet()\" class=\"button icon\" (click)=\"newAccount()\">\n        <img src=\"../../../assets/img/add.svg\" />\n        <div class=\"tooltip\">\n          <div class=\"description\">ADD ACCOUNT</div>\n        </div>\n      </div>\n      <div class=\"button icon settings\" [routerLink]=\"'/account/' + activeAccount?.address + '/settings'\">\n        <img src=\"../../../assets/img/settings.svg\" />\n        <div class=\"tooltip\">\n          <div class=\"description\">SETTINGS</div>\n        </div>\n      </div>\n      <div class=\"button icon\" (click)=\"logout()\">\n        <img src=\"../../../assets/img/logout.svg\" />\n        <div class=\"tooltip\">\n          <div class=\"description\">SIGN OUT</div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div *ngIf=\"router?.url?.indexOf('/account/') !== 0\" class=\"flex-row right\">\n    <div class=\"right\">\n      <span *ngIf=\"router.url.indexOf('/import') === 0 || router.url === '/' || router.url.startsWith('/?type')\" routerLink=\"/import/\" class=\"button\"\n        [class.selected]=\"router.url.indexOf('/import') === 0\">Import Wallet</span>\n      <span *ngIf=\"router.url.indexOf('/new-wallet') === 0 || router.url === '/' || router.url.startsWith('/?type')\" routerLink=\"/new-wallet/\"\n        class=\"button\" [class.selected]=\"router.url.indexOf('/new-wallet') === 0\">Create New Wallet</span>\n      <span *ngIf=\"router.url.indexOf('/connect-ledger') === 0 || router.url === '/' || router.url.startsWith('/?type')\" routerLink=\"/connect-ledger/\"\n        class=\"button\" [class.selected]=\"router.url.indexOf('/connect-ledger') === 0\">Connect Ledger</span>\n      <span *ngIf=\"router.url.indexOf('/activate') === 0\" routerLink=\"/activate/\" class=\"button\"\n        [class.selected]=\"router.url.indexOf('/activate') === 0\">Activate</span>\n    </div>\n  </div>\n</div>\n<div class=\"flex-row top-container mobile\" [class]=\"router.url.indexOf('/account') === 0 ? 'default' : ''\">\n  <a routerLink=\"/\" class=\"flex-row brand-logo\">\n    <img class=\"icon\" src=\"../../../assets/img/header-logo.svg\" />\n  </a>\n  <div *ngIf=\"router.url.indexOf('/account/') > -1\" class=\"flex-row center\">\n    <app-ui-dropdown-account [options]=\"accounts\" [current]=\"activeAccount\" style=\"width: 100%;\">\n    </app-ui-dropdown-account>\n  </div>\n  <app-ui-mobile-menu [activeAccount]=\"activeAccount\" [delegateName]=\"delegateName\" [newAccount]=\"newAccount\" [receive]=\"receive\"></app-ui-mobile-menu>\n</div>","import { Component, OnInit, Input, SimpleChanges, OnChanges, OnDestroy } from '@angular/core';\nimport { Router, NavigationEnd, ActivatedRoute } from '@angular/router';\nimport { WalletService } from '../../../../services/wallet/wallet.service';\nimport { Account } from '../../../../services/wallet/wallet';\nimport { LookupService } from '../../../../services/lookup/lookup.service';\nimport { MessageService } from '../../../../services/message/message.service';\nimport { CONSTANTS as _CONSTANTS } from '../../../../../environments/environment';\nimport { filter } from 'rxjs/operators';\nimport copy from 'copy-to-clipboard';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ModalComponent } from '../../../modals/modal.component';\nimport { DelegateService } from '../../../../services/delegate/delegate.service';\nimport { SubjectService } from '../../../../services/subject/subject.service';\nimport { Subscription } from 'rxjs';\nimport { DeeplinkService } from '../../../../services/deeplink/deeplink.service';\nimport { UnlockableService } from '../../../../services/unlockable/unlockable.service';\n\n@Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['../../../../../scss/components/views/layouts/header/header.component.scss']\n})\nexport class HeaderComponent implements OnInit, OnChanges, OnDestroy {\n  window = window;\n  document = document;\n  @Input() activeAccount: Account;\n  accounts: Account[];\n  delegateName = '';\n  readonly CONSTANTS = _CONSTANTS;\n  private subscriptions: Subscription = new Subscription();\n  constructor(\n    public router: Router,\n    private route: ActivatedRoute,\n    private deeplinkService: DeeplinkService,\n    public walletService: WalletService,\n    public lookupService: LookupService,\n    private messageService: MessageService,\n    private translate: TranslateService,\n    private delegateService: DelegateService,\n    private subjectService: SubjectService,\n    public unlockableService: UnlockableService\n  ) {}\n\n  ngOnInit(): void {\n    this.subscriptions.add(\n      this.subjectService.walletUpdated.subscribe(async () => {\n        this.accounts = this.walletService.wallet?.getAccounts();\n        this.delegateName = await this.getDelegateName(this.activeAccount?.delegate);\n      })\n    );\n    this.accounts = this.walletService.wallet?.getAccounts();\n    this.subscriptions.add(\n      this.route.queryParams.subscribe(async (params) => {\n        if (params?.type) {\n          this.deeplinkService.set(params);\n        }\n      })\n    );\n    this.subscriptions.add(\n      this.router.events.pipe(filter((evt) => evt instanceof NavigationEnd)).subscribe(async (r: NavigationEnd) => {\n        document.body.scrollTop = 0;\n        if (!(this.accounts?.length > 0) && r.url.indexOf('/account/') === 0) {\n          this.router.navigateByUrl('/');\n        } else if (this.accounts?.length > 0 && !r.url.match(/terms\\-of\\-use|privacy\\-policy/g)) {\n          let accountAddress = r.url.substr(r.url.indexOf('/account/') + 9);\n          accountAddress = accountAddress.indexOf('/') !== -1 ? accountAddress.substring(0, accountAddress.indexOf('/')) : accountAddress;\n          if (!this.walletService.addressExists(accountAddress)) {\n            this.router.navigateByUrl(`/account/${this.accounts[0].address}`);\n            this.activeAccount = this.accounts[0];\n            this.subjectService.activeAccount.next(this.accounts[0]);\n          } else {\n            this.activeAccount = this.walletService.wallet?.getAccount(accountAddress);\n            this.subjectService.activeAccount.next(this.activeAccount);\n          }\n          this.delegateName = await this.getDelegateName(this.activeAccount?.delegate);\n        }\n      })\n    );\n  }\n\n  async ngOnChanges(changes: SimpleChanges): Promise<void> {\n    if (changes?.activeAccount?.currentValue) {\n      this.delegateName = await this.getDelegateName(changes?.activeAccount?.currentValue.delegate);\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n\n  logout(): void {\n    this.subjectService.logout.next(true);\n    this.messageService.clear();\n    this.walletService.clearWallet();\n    this.lookupService.clear();\n    this.router.navigate(['']);\n  }\n  copy(): void {\n    copy(this.activeAccount.address);\n    const copyToClipboard = this.translate.instant('OVERVIEWCOMPONENT.COPIEDTOCLIPBOARD');\n    this.messageService.add(this.activeAccount.address + ' ' + copyToClipboard, 5);\n  }\n\n  toggleDropdown(sel): void {\n    document.querySelector(sel).parentNode.classList.toggle('expanded');\n  }\n  newAccount(): void {\n    ModalComponent.currentModel.next({ name: 'new-implicit', data: null });\n  }\n  receive(): void {\n    ModalComponent.currentModel.next({\n      name: 'receive',\n      data: { address: this.activeAccount.address }\n    });\n  }\n\n  async getDelegateName(address: string): Promise<string> {\n    return address\n      ? (await this.delegateService.resolveDelegateByAddress(address))?.name ??\n          address.substring(0, 7) + '...' + address.substring(address.length - 4, address.length)\n      : address;\n  }\n}\n","<div *ngIf=\"this.path !== '/embedded'\" class=\"foot-container\" [class.dark]=\"true\">\n  <div class=\"flex-row links\">\n    <div class=\"flex-row left low\">\n      <a href=\"./terms-of-use\" target=\"_blank\">Terms of Use</a>\n      <a href=\"./privacy-policy\" target=\"_blank\">Privacy</a>\n      <a class=\"desktop\" target=\"_blank\" href=\"mailto:contact@kukai.app\">Contact</a>\n    </div>\n    <div class=\"flex-column since low\">\n      <div class=\"flex-row-wrap\" id=\"follow\">\n        <span>follow kukai on</span>\n        <a href=\"https://github.com/kukai-wallet/kukai\" target=\"_blank\"><img src=\"../../../assets/img/logo-github.svg\"></a>\n        <a (click)=\"promptTelegramDialog($event)\" id=\"tg\"><img src=\"../../../assets/img/logo-telegram.svg\"></a>\n        <a href=\"https://twitter.com/KukaiWallet/\" target=\"_blank\"><img src=\"../../../assets/img/logo-twitter.svg\"></a>\n        <a id=\"since\">Since 2018 &trade;</a>\n      </div>\n    </div>\n    <div class=\"flex-row low\">\n      <a class=\"mobile\" target=\"_blank\" href=\"mailto:contact@kukai.app\">Contact</a>\n        <a class=\"docs\" href=\"https://docs.kukai.app\" target=\"_blank\">\n          Help</a>\n    </div>\n  </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { ModalComponent } from '../../../../components/modals/modal.component';\n\n@Component({\n  selector: 'app-footer',\n  templateUrl: './footer.component.html',\n  styleUrls: ['../../../../../scss/components/views/layouts/footer/footer.component.scss']\n})\nexport class FooterComponent implements OnInit {\n  darkText = false;\n  path = '';\n  ModalComponent = ModalComponent;\n  constructor() {}\n\n  ngOnInit(): void {}\n  promptTelegramDialog(ev) {\n    ev.preventDefault();\n    ModalComponent.currentModel.next({\n      name: 'info',\n      data: {\n        href: 'https://t.me/KukaiWallet',\n        message: `Social engineering attacks are currently a high threat on Telegram.\n\n Do not answer anyone that sends you private messages or calls you\n\n Do not click on any links in a private message, or share your seed words with anyone`,\n        title: 'Security Notice',\n        action: 'I understand'\n      }\n    });\n  }\n}\n","import { Component, Input, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-spinner-new',\n  templateUrl: './spinner-new.component.html',\n  styleUrls: ['./spinner-new.component.scss']\n})\nexport class SpinnerNewComponent implements OnInit {\n  @Input() logo: string;\n  constructor() {}\n\n  ngOnInit(): void {}\n}\n","<img class=\"spinner\" src=\"../../../../assets/img/spinner/gradientSpiral.svg\">\n<img class=\"logo\" src=\"../../../../assets/img/spinner/{{logo}}.svg\">","<ng-container *ngIf=\"messageService && messageService.spinnerOn\">\n  <app-spinner-new [logo]=\"logo\"></app-spinner-new>\n  <!-- <app-spinner-legacy *ngIf=\"!embedded\"></app-spinner-legacy> -->\n</ng-container>","import { Component, OnInit, Input, OnDestroy } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { MessageService } from '../../../services/message/message.service';\nimport { SubjectService } from '../../../services/subject/subject.service';\n\n@Component({\n  selector: 'app-spinner',\n  templateUrl: './spinner.component.html',\n  styleUrls: ['./spinner.component.scss']\n})\nexport class SpinnerComponent implements OnInit, OnDestroy {\n  @Input() embedded: boolean;\n  logo = 'default';\n  private subscriptions: Subscription = new Subscription();\n  constructor(public messageService: MessageService, private subjectService: SubjectService) {}\n\n  ngOnInit(): void {\n    this.subjectService.origin.subscribe((o) => {\n      if (o?.endsWith('gap.com')) {\n        this.logo = 'gap';\n      } else if (o?.endsWith('truesy.com')) {\n        this.logo = 'truesy';\n      } else if (o?.endsWith('playwithbrio.com')) {\n        this.logo = 'brio';\n      } else if (o && o?.indexOf('interpop') !== -1) {\n        this.logo = 'minterPop';\n      } else {\n        this.logo = 'default';\n      }\n    });\n  }\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n}\n","<div *ngIf=\"displayAgreement\" class=\"agreement-wrapper fade-in\">\n  <div class=\"agreement-body\">\n    <div class=\"agreement-footer fade-in\">\n      <p>By Accessing, Continuing to Use & Browse this Website including its Services provided therein (Kukai Wallet),\n        you agree that you have read and reviewed our <a href=\"./terms-of-use\" target=\"_blank\">Terms of Use</a> and <a\n          href=\"./privacy-policy\" target=\"_blank\">Privacy Policy</a>.</p>\n      <div>\n        <div class=\"flex-column accept\">\n          <button class=\"fade-in\" (click)=\"accept()\">Accept</button>\n          <p>I have reviewed the Terms of Use and Privacy Policy, I hereby Accept and Agree to the Terms of Use and\n            Privacy Policy.</p>\n        </div>\n        <div class=\"flex-column decline\">\n          <a class=\"flex-column\" href=\"about:blank\"><button>Decline</button></a>\n          <p>I have reviewed the Terms of Use and Privacy Policy, I hereby DO NOT Accept and Agree to the Terms of Use\n            and Privacy Policy.</p>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { Location } from '@angular/common';\n\n@Component({\n  selector: 'app-agreement',\n  templateUrl: './agreement.component.html',\n  styleUrls: ['../../../../../scss/components/views/start/agreement/agreement.component.scss']\n})\nexport class AgreementComponent implements OnInit {\n  displayAgreement = false;\n  key = 'accepted-terms';\n  constructor(private location: Location) {}\n  ngOnInit(): void {\n    // localStorage.removeItem(this.key);\n    const accepted = localStorage.getItem(this.key);\n    const path = this.location.path();\n    if (!accepted && path !== '/terms-of-use' && path !== '/privacy-policy') {\n      this.displayAgreement = true;\n      const scrollBarWidth = window.innerWidth - document.body.offsetWidth;\n      document.body.style.marginRight = scrollBarWidth.toString();\n      document.body.style.overflowY = 'hidden';\n    }\n  }\n  accept(): void {\n    localStorage.setItem(this.key, '1');\n    this.displayAgreement = false;\n    document.body.style.marginRight = '';\n    document.body.style.overflowY = '';\n  }\n  reject(): void {\n    document.body.style.marginRight = '';\n    document.body.style.overflowY = '';\n    window.open('', '_self');\n  }\n}\n","<div *ngIf=\"!CONSTANTS.MAINNET && !embedded\" class=\"network\"\n  [style.boxShadow]=\"document?.body.scrollTop !== 0 ? '0 2px 10px #3333' : ''\">\n  WARNING: TEST ONLY {{ CONSTANTS.NETWORK.toUpperCase() }}\n</div>\n<app-header *ngIf=\"!embedded\"></app-header>\n<router-outlet></router-outlet>\n<app-messages *ngIf=\"!embedded\"></app-messages>\n<app-spinner [embedded]=\"embedded\"></app-spinner>\n<app-agreement *ngIf=\"!embedded\"></app-agreement>\n<app-info></app-info>\n<app-footer *ngIf=\"!embedded\" [class.initial]=\"router.url !== '/'\"></app-footer>","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { Router, Event, NavigationEnd } from '@angular/router';\nimport { WalletService } from './services/wallet/wallet.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Location } from '@angular/common';\nimport { CONSTANTS as _CONSTANTS } from '../environments/environment';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent implements OnInit, OnDestroy {\n  readonly CONSTANTS = _CONSTANTS;\n  embedded = false;\n  isMobile = false;\n  previous = 0;\n  current = 0;\n  diff = 0;\n  container = null;\n  post = false;\n  private subscriptions: Subscription = new Subscription();\n  constructor(private walletService: WalletService, public router: Router, public translate: TranslateService, private location: Location) {\n    // this language will be used as a fallback when a translation isn't found in the current language\n    translate.setDefaultLang('en');\n\n    // the lang to use, if the lang isn't available, it will use the current loader to get them\n    const languagePreference = window.localStorage.getItem('languagePreference');\n    const browserLang = translate.getBrowserLang();\n    translate.use('en');\n  }\n\n  ngOnInit() {\n    this.checkEmbedded();\n    if (!this.embedded) {\n      this.walletService.loadStoredWallet();\n    }\n    this.subscriptions.add(\n      this.router.events.subscribe((event: Event) => {\n        if (event instanceof NavigationEnd) {\n          this.checkEmbedded();\n          window.scrollTo(0, 0);\n        }\n      })\n    );\n    if (!this.embedded) {\n      window.addEventListener('storage', (e) => {\n        this.handleStorageEvent(e);\n      });\n    }\n\n    const e = () => {\n      const brk = getComputedStyle(document.documentElement).getPropertyValue('--layout-break-5');\n      if (parseFloat(brk.replace(/[a-zA-Z]/g, '')) * 16 > document.documentElement.clientWidth) {\n        document.documentElement.style.setProperty('--is-mobile', '1');\n      } else {\n        document.documentElement.style.setProperty('--is-mobile', '0');\n      }\n    };\n    window.addEventListener('resize', e);\n    window.addEventListener('load', e);\n    e();\n  }\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n  private handleStorageEvent(e: StorageEvent) {\n    if (e.key === 'kukai-wallet' && !this.embedded) {\n      if (e.oldValue && !e.newValue) {\n        window.location.reload();\n      } else if (!e.oldValue && e.newValue) {\n        setTimeout(async () => {\n          await this.router.navigate(['']);\n          window.location.reload();\n        }, 10000);\n      }\n    }\n  }\n  returnLanguage(lang: string) {\n    // this.translate.use(lang);\n    // console.log('lang ', lang);\n\n    const map: Map<string, string> = new Map([\n      ['en', 'English'],\n      ['cn', ''],\n      ['es', 'Espaol'],\n      ['fr', 'Franais'],\n      ['ru', 'P'],\n      ['jp', ''],\n      ['kor', ''],\n      ['por', 'Portugus'],\n      ['swe', 'Svenska']\n    ]);\n\n    const language = map.get(lang);\n\n    return language;\n  }\n  checkEmbedded() {\n    const path = this.location.path();\n    this.embedded = path.startsWith('/embedded');\n    const bg = this.embedded ? 'none' : '#f8f9fa';\n    if (!!this.embedded) {\n      document.documentElement.style.setProperty('--base-background-color', bg); // recheck\n      const resize = () => {\n        if (document.body.clientWidth < 540) {\n          document.documentElement.style.fontSize = '75%';\n        } else if (document.body.clientWidth < 650) {\n          document.documentElement.style.fontSize = '87.5%';\n        } else {\n          document.documentElement.style.fontSize = '100%';\n        }\n      };\n      window.addEventListener('resize', resize);\n      window.addEventListener('load', resize);\n      resize();\n    }\n  }\n  setLanguage(lang) {\n    window.localStorage.setItem('languagePreference', lang);\n    this.translate.use(lang);\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'truncate'\n})\nexport class TruncatePipe implements PipeTransform {\n  transform(value?: string, args?: number, endTrail?: boolean): string {\n    const limit = args ? args : 3;\n    const trail = '...';\n\n    let returnString;\n\n    if (endTrail && value.length > limit) {\n      const endTrailstring = value.slice(-limit);\n      returnString = value.substring(0, limit) + trail + endTrailstring;\n\n      return returnString;\n    } else {\n      return value.length > limit ? value.substring(0, limit) + trail : value;\n    }\n  }\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { HttpClientModule, HttpClient } from '@angular/common/http';\nimport { AppRoutingModule } from './app-routing.module';\n\n// From Angular Material\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\n\n// For translation\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\n\n// External libraries\nimport { AppComponent } from './app.component';\n\n// Services\nimport { MessageService } from './services/message/message.service';\nimport { WalletService } from './services/wallet/wallet.service';\nimport { ActivityService } from './services/activity/activity.service';\nimport { BalanceService } from './services/balance/balance.service';\nimport { EncryptionService } from './services/encryption/encryption.service';\nimport { ImportService } from './services/import/import.service';\nimport { TzrateService } from './services/tzrate/tzrate.service';\nimport { ExportService } from './services/export/export.service';\nimport { DelegateService } from './services/delegate/delegate.service';\nimport { InputValidationService } from './services/input-validation/input-validation.service';\nimport { LedgerService } from './services/ledger/ledger.service';\nimport { BeaconService } from './services/beacon/beacon.service';\nimport { TorusService } from './services/torus/torus.service';\nimport { EmbeddedAuthService } from './services/embedded-auth/embedded-auth.service';\nimport { TokenBalancesService } from './services/token-balances/token-balances.service';\nimport { SubjectService } from './services/subject/subject.service';\nimport { UnlockableService } from './services/unlockable/unlockable.service';\nimport { CoordinatorService } from './services/coordinator/coordinator.service';\nimport { OperationService } from './services/operation/operation.service';\n\n// View components\nimport { StartComponent } from './components/views/start/start.component';\nimport { NewWalletComponent } from './components/views/start/login-types/new-wallet/new-wallet.component';\nimport { MnemonicImportComponent } from './components/views/start/login-types/mnemonic-import/mnemonic-import.component';\nimport { MessagesComponent } from './components/ui/messages/messages.component';\nimport { ModalComponent } from './components/modals/modal.component';\nimport { HeaderComponent } from './components/views/layouts/header/header.component';\nimport { ConnectLedgerComponent } from './components/views/start/login-types/connect-ledger/connect-ledger.component';\nimport { FooterComponent } from './components/views/layouts/footer/footer.component';\nimport { AccountViewComponent } from './components/views/logged-in/account-view/account-view.component';\nimport { ActivityComponent } from './components/views/logged-in/account-view/activity/activity.component';\nimport { EventComponent } from './components/views/logged-in/account-view/activity/event/event.component';\nimport { NftsComponent } from './components/views/logged-in/account-view/nfts/nfts.component';\nimport { PendingComponent } from './components/views/logged-in/account-view/pending/pending.component';\nimport { BalancesComponent } from './components/views/logged-in/account-view/balances/balances.component';\nimport { BalanceTokenComponent } from './components/views/logged-in/account-view/balances/token/balance-token.component';\nimport { SpinnerComponent } from './components/ui/spinner/spinner.component';\nimport { AgreementComponent } from './components/views/start/agreement/agreement.component';\nimport { TermsOfUseComponent } from './components/views/start/agreement/terms-of-use/terms-of-use.component';\nimport { PrivacyPolicyComponent } from './components/views/start/agreement/privacy-policy/privacy-policy.component';\nimport { EmbeddedComponent } from './components/views/embedded/embedded.component';\nimport { SigninComponent } from './components/views/embedded/signin/signin.component';\nimport { CardComponent } from './components/views/embedded/card/card.component';\nimport { SendButtonComponent } from './components/ui/button/basic/send/send-button.component';\nimport { TokenDetail } from './components/modals/send/detail/token-detail.component';\nimport { AlertComponent } from './components/modals/alert/alert.component';\nimport { SpinnerLegacyComponent } from './components/ui/spinner/legacy/spinner-legacy.component';\nimport { SpinnerNewComponent } from './components/ui/spinner/new/spinner-new.component';\nimport { AccountDropdownComponent } from './components/ui/dropdown/account/account-dropdown.component';\nimport { MobileMenuDropdownComponent } from './components/ui/dropdown/mobile-menu/mobile-menu.component';\nimport { P404Component } from './components/views/error/404.component';\nimport { P500Component } from './components/views/error/500.component';\n\n// Modules\nimport { LoggedInModule } from './components/views/logged-in/logged-in.module';\n\n// Pipes\nimport { ErrorHandlingPipe } from './pipes/error-handling.pipe';\nimport { TruncatePipe } from './pipes/truncate.pipe';\nimport { TimeAgoPipe } from './pipes/time-ago.pipe';\nimport { DeeplinkService } from './services/deeplink/deeplink.service';\nimport { RemoveCommaPipe } from './pipes/remove-comma.pipe';\n\n// AoT requires an exported function for factories\nexport function HttpLoaderFactory(http: HttpClient) {\n  return new TranslateHttpLoader(http, './assets/i18n/', '.json');\n}\n\n@NgModule({\n  declarations: [\n    AppComponent,\n\n    // View components\n    NewWalletComponent,\n    StartComponent,\n    MnemonicImportComponent,\n    MessagesComponent,\n    ModalComponent,\n    HeaderComponent,\n    P404Component,\n    P500Component,\n    SendButtonComponent,\n    ConnectLedgerComponent,\n    FooterComponent,\n    AccountViewComponent,\n    ActivityComponent,\n    EventComponent,\n    NftsComponent,\n    PendingComponent,\n    BalancesComponent,\n    BalanceTokenComponent,\n    SpinnerComponent,\n    AgreementComponent,\n    TermsOfUseComponent,\n    PrivacyPolicyComponent,\n    EmbeddedComponent,\n    SigninComponent,\n    CardComponent,\n    TokenDetail,\n    SpinnerLegacyComponent,\n    SpinnerNewComponent,\n    AccountDropdownComponent,\n    MobileMenuDropdownComponent,\n    SpinnerLegacyComponent,\n\n    // Modals\n    ModalComponent,\n    AlertComponent,\n\n    // Pipes\n    ErrorHandlingPipe,\n    TruncatePipe,\n    TimeAgoPipe\n  ],\n  imports: [\n    BrowserModule,\n    BrowserAnimationsModule,\n    FormsModule,\n    AppRoutingModule,\n    HttpClientModule,\n    LoggedInModule,\n    TranslateModule.forRoot({\n      loader: {\n        provide: TranslateLoader,\n        useFactory: HttpLoaderFactory,\n        deps: [HttpClient]\n      }\n    }) // lazy loading will need TranslateModule.forChild() in the lazy loaded modules\n  ],\n  providers: [\n    // Services\n    MessageService,\n    WalletService,\n    ActivityService,\n    EncryptionService,\n    BalanceService,\n    ImportService,\n    TzrateService,\n    CoordinatorService,\n    OperationService,\n    ExportService,\n    DelegateService,\n    InputValidationService,\n    LedgerService,\n    BeaconService,\n    TorusService,\n    EmbeddedAuthService,\n    SubjectService,\n    TokenBalancesService,\n    DeeplinkService,\n    UnlockableService,\n    // Pipes\n    ErrorHandlingPipe,\n    TruncatePipe,\n    TimeAgoPipe,\n    RemoveCommaPipe\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {}\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n  window.console.log = function () {};\n}\n\nplatformBrowserDynamic()\n  .bootstrapModule(AppModule)\n  .catch((err) => console.log(err));\n","var map = {\n\t\"./af\": 58685,\n\t\"./af.js\": 58685,\n\t\"./ar\": 254,\n\t\"./ar-dz\": 4312,\n\t\"./ar-dz.js\": 4312,\n\t\"./ar-kw\": 32614,\n\t\"./ar-kw.js\": 32614,\n\t\"./ar-ly\": 18630,\n\t\"./ar-ly.js\": 18630,\n\t\"./ar-ma\": 28674,\n\t\"./ar-ma.js\": 28674,\n\t\"./ar-sa\": 49032,\n\t\"./ar-sa.js\": 49032,\n\t\"./ar-tn\": 24730,\n\t\"./ar-tn.js\": 24730,\n\t\"./ar.js\": 254,\n\t\"./az\": 53052,\n\t\"./az.js\": 53052,\n\t\"./be\": 60150,\n\t\"./be.js\": 60150,\n\t\"./bg\": 63069,\n\t\"./bg.js\": 63069,\n\t\"./bm\": 13466,\n\t\"./bm.js\": 13466,\n\t\"./bn\": 18516,\n\t\"./bn-bd\": 90557,\n\t\"./bn-bd.js\": 90557,\n\t\"./bn.js\": 18516,\n\t\"./bo\": 26273,\n\t\"./bo.js\": 26273,\n\t\"./br\": 9588,\n\t\"./br.js\": 9588,\n\t\"./bs\": 19815,\n\t\"./bs.js\": 19815,\n\t\"./ca\": 83331,\n\t\"./ca.js\": 83331,\n\t\"./cs\": 21320,\n\t\"./cs.js\": 21320,\n\t\"./cv\": 72219,\n\t\"./cv.js\": 72219,\n\t\"./cy\": 68266,\n\t\"./cy.js\": 68266,\n\t\"./da\": 66427,\n\t\"./da.js\": 66427,\n\t\"./de\": 67435,\n\t\"./de-at\": 52871,\n\t\"./de-at.js\": 52871,\n\t\"./de-ch\": 12994,\n\t\"./de-ch.js\": 12994,\n\t\"./de.js\": 67435,\n\t\"./dv\": 82357,\n\t\"./dv.js\": 82357,\n\t\"./el\": 95649,\n\t\"./el.js\": 95649,\n\t\"./en-au\": 59961,\n\t\"./en-au.js\": 59961,\n\t\"./en-ca\": 10860,\n\t\"./en-ca.js\": 10860,\n\t\"./en-gb\": 3924,\n\t\"./en-gb.js\": 3924,\n\t\"./en-ie\": 70864,\n\t\"./en-ie.js\": 70864,\n\t\"./en-il\": 91579,\n\t\"./en-il.js\": 91579,\n\t\"./en-in\": 30940,\n\t\"./en-in.js\": 30940,\n\t\"./en-nz\": 16181,\n\t\"./en-nz.js\": 16181,\n\t\"./en-sg\": 44301,\n\t\"./en-sg.js\": 44301,\n\t\"./eo\": 85291,\n\t\"./eo.js\": 85291,\n\t\"./es\": 54529,\n\t\"./es-do\": 53764,\n\t\"./es-do.js\": 53764,\n\t\"./es-mx\": 12584,\n\t\"./es-mx.js\": 12584,\n\t\"./es-us\": 63425,\n\t\"./es-us.js\": 63425,\n\t\"./es.js\": 54529,\n\t\"./et\": 35203,\n\t\"./et.js\": 35203,\n\t\"./eu\": 70678,\n\t\"./eu.js\": 70678,\n\t\"./fa\": 83483,\n\t\"./fa.js\": 83483,\n\t\"./fi\": 96262,\n\t\"./fi.js\": 96262,\n\t\"./fil\": 52521,\n\t\"./fil.js\": 52521,\n\t\"./fo\": 34555,\n\t\"./fo.js\": 34555,\n\t\"./fr\": 63131,\n\t\"./fr-ca\": 88239,\n\t\"./fr-ca.js\": 88239,\n\t\"./fr-ch\": 21702,\n\t\"./fr-ch.js\": 21702,\n\t\"./fr.js\": 63131,\n\t\"./fy\": 267,\n\t\"./fy.js\": 267,\n\t\"./ga\": 23821,\n\t\"./ga.js\": 23821,\n\t\"./gd\": 71753,\n\t\"./gd.js\": 71753,\n\t\"./gl\": 4074,\n\t\"./gl.js\": 4074,\n\t\"./gom-deva\": 92762,\n\t\"./gom-deva.js\": 92762,\n\t\"./gom-latn\": 5969,\n\t\"./gom-latn.js\": 5969,\n\t\"./gu\": 82809,\n\t\"./gu.js\": 82809,\n\t\"./he\": 45402,\n\t\"./he.js\": 45402,\n\t\"./hi\": 315,\n\t\"./hi.js\": 315,\n\t\"./hr\": 10410,\n\t\"./hr.js\": 10410,\n\t\"./hu\": 38288,\n\t\"./hu.js\": 38288,\n\t\"./hy-am\": 67928,\n\t\"./hy-am.js\": 67928,\n\t\"./id\": 71334,\n\t\"./id.js\": 71334,\n\t\"./is\": 86959,\n\t\"./is.js\": 86959,\n\t\"./it\": 34864,\n\t\"./it-ch\": 51124,\n\t\"./it-ch.js\": 51124,\n\t\"./it.js\": 34864,\n\t\"./ja\": 36141,\n\t\"./ja.js\": 36141,\n\t\"./jv\": 29187,\n\t\"./jv.js\": 29187,\n\t\"./ka\": 42136,\n\t\"./ka.js\": 42136,\n\t\"./kk\": 94332,\n\t\"./kk.js\": 94332,\n\t\"./km\": 18607,\n\t\"./km.js\": 18607,\n\t\"./kn\": 84305,\n\t\"./kn.js\": 84305,\n\t\"./ko\": 70234,\n\t\"./ko.js\": 70234,\n\t\"./ku\": 16003,\n\t\"./ku.js\": 16003,\n\t\"./ky\": 75061,\n\t\"./ky.js\": 75061,\n\t\"./lb\": 32786,\n\t\"./lb.js\": 32786,\n\t\"./lo\": 66183,\n\t\"./lo.js\": 66183,\n\t\"./lt\": 50029,\n\t\"./lt.js\": 50029,\n\t\"./lv\": 24169,\n\t\"./lv.js\": 24169,\n\t\"./me\": 68577,\n\t\"./me.js\": 68577,\n\t\"./mi\": 68177,\n\t\"./mi.js\": 68177,\n\t\"./mk\": 50337,\n\t\"./mk.js\": 50337,\n\t\"./ml\": 65260,\n\t\"./ml.js\": 65260,\n\t\"./mn\": 52325,\n\t\"./mn.js\": 52325,\n\t\"./mr\": 14695,\n\t\"./mr.js\": 14695,\n\t\"./ms\": 75334,\n\t\"./ms-my\": 37151,\n\t\"./ms-my.js\": 37151,\n\t\"./ms.js\": 75334,\n\t\"./mt\": 63570,\n\t\"./mt.js\": 63570,\n\t\"./my\": 97963,\n\t\"./my.js\": 97963,\n\t\"./nb\": 88028,\n\t\"./nb.js\": 88028,\n\t\"./ne\": 86638,\n\t\"./ne.js\": 86638,\n\t\"./nl\": 50302,\n\t\"./nl-be\": 66782,\n\t\"./nl-be.js\": 66782,\n\t\"./nl.js\": 50302,\n\t\"./nn\": 33501,\n\t\"./nn.js\": 33501,\n\t\"./oc-lnc\": 50563,\n\t\"./oc-lnc.js\": 50563,\n\t\"./pa-in\": 50869,\n\t\"./pa-in.js\": 50869,\n\t\"./pl\": 65302,\n\t\"./pl.js\": 65302,\n\t\"./pt\": 49687,\n\t\"./pt-br\": 74884,\n\t\"./pt-br.js\": 74884,\n\t\"./pt.js\": 49687,\n\t\"./ro\": 79107,\n\t\"./ro.js\": 79107,\n\t\"./ru\": 33627,\n\t\"./ru.js\": 33627,\n\t\"./sd\": 30355,\n\t\"./sd.js\": 30355,\n\t\"./se\": 83427,\n\t\"./se.js\": 83427,\n\t\"./si\": 43906,\n\t\"./si.js\": 43906,\n\t\"./sk\": 54590,\n\t\"./sk.js\": 54590,\n\t\"./sl\": 20184,\n\t\"./sl.js\": 20184,\n\t\"./sq\": 56361,\n\t\"./sq.js\": 56361,\n\t\"./sr\": 78965,\n\t\"./sr-cyrl\": 81287,\n\t\"./sr-cyrl.js\": 81287,\n\t\"./sr.js\": 78965,\n\t\"./ss\": 25456,\n\t\"./ss.js\": 25456,\n\t\"./sv\": 70451,\n\t\"./sv.js\": 70451,\n\t\"./sw\": 77558,\n\t\"./sw.js\": 77558,\n\t\"./ta\": 51356,\n\t\"./ta.js\": 51356,\n\t\"./te\": 73693,\n\t\"./te.js\": 73693,\n\t\"./tet\": 21243,\n\t\"./tet.js\": 21243,\n\t\"./tg\": 42500,\n\t\"./tg.js\": 42500,\n\t\"./th\": 55768,\n\t\"./th.js\": 55768,\n\t\"./tk\": 77761,\n\t\"./tk.js\": 77761,\n\t\"./tl-ph\": 35780,\n\t\"./tl-ph.js\": 35780,\n\t\"./tlh\": 29590,\n\t\"./tlh.js\": 29590,\n\t\"./tr\": 33807,\n\t\"./tr.js\": 33807,\n\t\"./tzl\": 93857,\n\t\"./tzl.js\": 93857,\n\t\"./tzm\": 60654,\n\t\"./tzm-latn\": 8806,\n\t\"./tzm-latn.js\": 8806,\n\t\"./tzm.js\": 60654,\n\t\"./ug-cn\": 30845,\n\t\"./ug-cn.js\": 30845,\n\t\"./uk\": 19232,\n\t\"./uk.js\": 19232,\n\t\"./ur\": 47052,\n\t\"./ur.js\": 47052,\n\t\"./uz\": 77967,\n\t\"./uz-latn\": 32233,\n\t\"./uz-latn.js\": 32233,\n\t\"./uz.js\": 77967,\n\t\"./vi\": 98615,\n\t\"./vi.js\": 98615,\n\t\"./x-pseudo\": 12320,\n\t\"./x-pseudo.js\": 12320,\n\t\"./yo\": 31313,\n\t\"./yo.js\": 31313,\n\t\"./zh-cn\": 64490,\n\t\"./zh-cn.js\": 64490,\n\t\"./zh-hk\": 55910,\n\t\"./zh-hk.js\": 55910,\n\t\"./zh-mo\": 98262,\n\t\"./zh-mo.js\": 98262,\n\t\"./zh-tw\": 44223,\n\t\"./zh-tw.js\": 44223\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 46700;"],"names":["ModalComponent","constructor","cd","isOpen","name","modalSub","Subscription","this","currentModel","subscribe","load","forceClose","undefined","willOpen","open","data","close","detectChanges","ngOnInit","ngOnDestroy","unsubscribe","window","innerHeight","document","body","scrollHeight","style","marginRight","overflowY","Number","documentElement","getPropertyValue","setTimeout","scrollTo","top","BehaviorSubject","i0","selectors","decls","vars","template","encapsulation","QrScannerComponent","beaconService","deeplinkService","messageService","super","CONSTANTS","_CONSTANTS","env","environment","scanResponse","EventEmitter","override","manualInput","loadingCam","errorMessage","openModal","scan","QrScanner","videoplayer","_a","nativeElement","qrScanner","_b","result","handleQrCode","start","stop","destroy","e","console","warn","scanResult","qrString","log","pairingInfo","QRtoPairingJson","preNotifyPairing","addPeer","emit","pkh","closeModal","addError","handlePaste","ev","clipboardString","clipboardData","getData","viewQuery","ctx_r1","ctx_r2","Display","Size","AssetComponent","elRef","tokenService","display","image","size","medium","priorityList","controlsList","controls","requires","hideSpinner","muted","autoplay","loop","playsinline","inView","loaderUrl","unknownUrl","dataSrc","preSrc","postSrc","mimeType","errors","none","ngOnChanges","changes","assets","previousValue","currentValue","JSON","stringify","_c","_d","p0","assetToUrl","pickAsset","_e","p1","_f","from","to","reload","ngAfterViewInit","lazyLoad","updateDisplay","isImage","includes","isAudio","audio","isVideo","video","is3D","threeD","startsWith","onLoad","target","id","onLoadData","volume","onError","evaluateInvalid","type","uri","evaluate","poster","asset","determineMime","error","setSrc","obs","IntersectionObserver","entries","_","forEach","entry","isIntersecting","unobserve","observe","url","Error","MODEL_3D_WHITELIST","getContractAddressFromAsset","response","i","ok","fetch","method","headers","get","contractAddress","slice","ToggleComponent","text","default","stateChange","state","toggle","inputs","outputs","AdvancedToggleComponent","features","consts","ctx","ctx_r7","width","height","gradient","getGradientBackground","chartArea","theme","getComputedStyle","replace","chartWidth","right","left","chartHeight","bottom","createLinearGradient","addColorStop","Chart","registerables","ChartSeries","ChartComponent","Object","attributes","datasets","labels","datas","options","ddSets","sets","set","units","layout","tooltipValue","drawn","chart","series","day","ddExpanded","chartExpanded","afterTooltipDraw","args","x","tooltip","dataPoints","element","yAxis","scales","y","save","beginPath","moveTo","lineTo","lineWidth","setLineDash","strokeStyle","stroke","textAlign","font","fillStyle","fillText","title","restore","toggleChartExpand","chartRef","parentElement","classList","refreshDDSets","sort","a","b","nameA","toLowerCase","nameB","draw","ChartTitle","find","ds","label","parseFloat","length","toString","toFixed","toLocaleString","_g","_h","getContext","_j","_k","map","plugins","toggleSeries","overrideDatasetConfig","getChartOptions","toggleSet","reset","key","keys","hidden","pointHoverBorderWidth","design","pointHitRadius","pointHoverBackgroundColor","pointHoverBorderColor","pointBackgroundColor","backgroundColor","context","yTickPadding","padding","beginAtZero","position","ticks","maxTicksLimit","align","weight","family","textStrokeColor","z","callback","index","grid","drawBorder","responsive","maintainAspectRatio","legend","hover","mode","axis","intersect","tooltips","interaction","elements","line","tension","point","radius","enabled","titleColor","bodyColor","footerColor","displayColors","callbacks","item","dataset","dataIndex","DropdownComponent","ListComponent","dropdownResponse","ecmpId","closeDropdown","closest","toggleDropdown","hostBindings","current","list","_r12","_r15","EventComponent","translate","timeAgoPipe","activityService","subjectService","OpStatus","LookupType","fresh","subscriptions","trigger","setInterval","add","confirmedOp","opHash","activity","hash","getType","destination","address","operationType","source","account","explorerURL","getCounterparty","transaction","c","trim","getEventIcon","lookupType","getEventStatusIcon","status","printAmount","formatAmount","tokenId","amount","sentKind","entrypoint","zeroSent","receivedKind","split","getAddressPrefix","copy","copyToClipboard","instant","tmp_b_0","_r1","ctx_r5","_r2","ActivityComponent","trackEvent","block","NftsTokenComponent","tokenBalancesService","DisplayLinkOption","isNew","contractAliases","token","balance","viewToken","balanceChangeTimer","formatBalance","Big","div","Math","parseInt","decimals","SearchBarComponent","onInput","itemCount","matchCount","inputUpdated","Subject","filter","isActive","hasValue","placeholder","placeholderText","searchText","pipe","debounceTime","value","activeAccount","onKeydown","next","onFocus","searchButtonClicked","input","focus","onBlur","NftsBodyComponent","searchable","tokensToDisplay","loaded","filtered","raw","chunkSize","sliceEnd","refresh","isDisplaying","tokens","search","cb","scrollTop","clientHeight","addEventListener","t","match","RegExp","isNaN","updateFilter","prevFilter","trackToken","ctx_r9","contract_r8","ctx_r0","NftsComponent","walletService","nfts","nftsArray","isDiscover","isInitLoad","activeAddress","nftsUpdated","p","getValue","flat","logout","o","displayTokenCard","sel","querySelector","innerWidth","scroll","offsetTop","shouldDisplayLink","option","wallet","TorusWallet","sanitizeKey","trackContract","contract","getContractAlias","category","join","BasicButtonComponent","SendButtonComponent","getAsset","tokenTransfer","prepareTransaction","prepareTokenTransfer","symbol","BalanceTokenComponent","removeCommaPipe","getBalance","balanceXTZ","getBalanceFiat","balanceUSD","price","buyTez","moonpay","balance_r2","BalancesComponent","totalBalances","isFiat","balances","calcTotalBalances","walletUpdated","wrap","remove","ngAfterViewChecked","thumbnailAsset","toggleTotalBalances","reduce","prev","XTZrate","openSwap","startSpinner","ctx_r22","ctx_r11","ctx_r12","TokenDetail","unlockableService","tokenFiltered","moreInfo","imageExpanded","autoOverflow","descOverflow","isNFT","assetLoaded","blacklistMeta","feat","contains","description","expand","expandImage","toggleFeature","AccountViewComponent","moreThan15","ImplicitAccount","SettingsComponent","router","coordinatorService","implicitAccounts","wideAccounts","getImplicitAccounts","syncBeaconState","onResize","accountAvailable","findIndex","impAcc","formatAddress","rescan","resetCounters","update","navigate","rescanAll","resetAllMetadata","revealMnemonic","canRevealMnomonic","HdWallet","LegacyWalletV3","routes","path","component","DelegatePageComponent","delegateService","inputValidationService","messageServcie","customAddress","isShowingCustom","delegates","take","d","delegate","ceil","freeSpace","estimatedRoi","openForDelegation","minDelegation","obj","stake","round","val","toPercent","toggleCustom","ActivateComponent","LoggedInRoutingModule","RouterModule","LoggedInModule","SwapLiquidityService","ChartService","EstimateService","RemoveCommaPipe","imports","CommonModule","HttpClientModule","FormsModule","operationService","formInvalid","activate","checkInput","secret","ans","success","payload","res","addSuccess","addWarning","msg","err","activateFailed","code","WalletType","ErrorHandlingPipe","ERROR_LIST","transform","errorId","withObj","location","protocol","s","string","int","jsonWith","indexOf","lines","pure","TimeAgoPipe","timestamp","now","sec","secs","mn","mns","hr","hrs","days","month","months","year","years","timeNow","Date","getTime","diff","timediff","count","output","minutes","seconds","ActivityService","lookupService","indexerService","maxTransactions","tokenBalanceUpdated","updateTransactions","getAccount","getTransactonsCounter","flatMap","of","knownTokenIds","fromPromise","accountInfo","counter","unknownTokenIds","searchAllMetadata","recheckMetadata","updateTokenBalances","getAllTransactions","activities","storeWallet","upToDate","Array","isArray","idsWithBalance","push","updateTokenBalance","currentTokenIds","getTokenBalances","getOperations","resp","operations","oldActivities","unconfirmedOps","op","opNew","concat","oldState","promptNewActivities","counterParty","check","newActivities","shortAddress","ref","metadataUpdated","takeUntil","delay","modify","withLookup","resolve","factory","BalanceService","tzrateService","getBalanceAll","getAccounts","getAccountBalance","updateAccountBalance","newBalance","updateTotalBalance","updateFiatBalances","change","totalBalanceXTZ","BeaconService","tzktService","client","peers","permissions","pairInfoJson","pairInfo","parse","isNewPairingRequest","addBeaconWait","peersJson","localStorage","getItem","newPublicKey","publicKey","peer","force","removeBeaconMsg","icon","cacheIcon","json","cachedIcon","setItem","getPeers","getPermissions","removePeers","removePeer","senderId","getSenderId","peerResponse","removeAppMetadata","removePermissions","removeAllPermissions","removePermission","accountIdentifier","getAppMetadataList","rejectOnPermission","message","respondWithError","BeaconErrorType","rejectOnNetwork","rejectOnUserAbort","rejectOnSourceAddress","rejectOnTooManyOps","rejectOnUnknown","rejectOnParameters","rejectOnBroadcastError","errorType","requestMessage","BeaconMessageType","version","BEACON_VERSION","beaconId","respond","approvePermissionRequest","network","scopes","approveSignPayloadRequest","signature","signingType","responseSync","removeItem","providedIn","swapLiquidityService","stats","fetchLBGraphData","tzbtc","fetchHistoricalQuotesByContract","tzBTCContract","fetchHistoricalStatsByContract","lqdContract","interval","reverse","tvlUsd","getDate","getHours","defaultDatasetValues","borderColor","borderRadius","borderWidth","pointBorderWidth","pointBorderColor","pointRadius","pointHoverColor","fill","XTZtzBTC","tzBTCXTZ","totalValueLocked","offset","req","query","quotes1h","quotes1d","stats1d","SignalService","balanceService","connection","init","HubConnectionBuilder","withUrl","build","on","sender","invoke","parameter","confirmStatus","onclose","__awaiter","updateAccountData","acc","handleDelegateResponse","subscribeToAccount","types","State","CoordinatorService","teztoolsService","signalService","scheduler","Map","defaultDelayActivity","shortDelayActivity","longDelayActivity","defaultDelayPrice","stopAll","accounts","startXTZ","tzrateInterval","getTzrate","getMarkets","recheckWalletAddresses","restoreFeatures","scheduleData","UpToDate","stateCounter","setDelay","boost","metadata","addressExists","addUnconfirmedOperations","Wait","changeState","Updating","latestActivity","shift","newState","time","delete","transactions","times","fee","parameters","unshift","delegation","origination","kt1","DeeplinkService","pairingJson","params","extractPairingJson","b58cdecode","popPairingJson","qrPayload","DelegateService","bcd","tzkt","getDelegates","getDelegate","then","resolveDelegateByAddress","Promise","EncryptionService","encrypt","plaintext","password","salt","encrypt_v2","decrypt","chiphertext","decrypt_v1","decrypt_v2","encrypt_v1","pbkdf2","AES","salty","Buffer","cryptob","scrypt","cipher","forge","iv","byteStringBuffer","finish","toHex","tag","chipher","parts","decipher","shiftIV","isInteger","buf","http","imputValidationService","costPerByte","revealGasLimit","queue","nodeURL","contractsOverride","chainId","manager","pk","preLoadData","head","all","getHeader","toPromise","getCounter","getManager","chain_id","estimateTransactions","estimate","estimateOrigination","isOrigination","retry","_estimate","catch","simulation","gasLimit","min","floor","storageLimit","tx","createOriginationObject","createTransactionObject","simulate","contents","reveal","limits","kind","operation_result","opObj","gas","storage","getOpUsage","localForge","fop","bytes","totalGasLimit","totalStorageLimit","dtp","customLimits","recommendFee","burn","burnFee","content","gasUsage","minus","plus","balance_updates","balanceUpdate","consumed_gas","internal_operation_results","internalResult","storageUsage","getOpLimits","gasUnits","numberOfOperations","postRpc","operation","checkApplied","catchError","errHandler","limit","contractOverride","gasRecommendation","relativeLimit","percentage","max","gasEstimation","storageRecommendation","storageEstimation","getRpc","IndexerService","isUsedAccount","getContractAddresses","getTokenMetadata","skipTzkt","TeztoolsService","storeKey","defiTokens","rehydrate","r","_defiTokens","_markets","contracts","tokenAddress","usdValue","tezPool","threshold","markets","store","parsed","TzktService","tokenBalanceCache","TZKT_TOKEN_QUERY_SIZE","Tezos","TezosToolkit","customHandlers","IpfsHttpHandler","TezosStorageHandler","customMetadataProvider","MetadataProvider","addExtension","Tzip12Module","originatedContract","getHashAndBlockById","transactionId","ops","tokenBalances","getAllTokenBalances","digest","tokenBalancesCount","tokenCount","hasInternals","opId","extractEntrypoint","newDelegate","contractBalance","tokenTxs","tokenArr","substring","meta","tokenType","standard","normalizeMetadata","filterMetadata","getTokenMetadataWithTaquito","at","tzip12","parsed_uri","token_metadata_uri","fetchToken","tzktTokensResponse","toAsset","formats","charAt","aryCamelKey","char","toUpperCase","camelKey","hasOwnProperty","mutableConvertObjectPropertiesSnakeToCamel","handleMetadataExceptions","isTransferable","shouldPreferSymbol","isBooleanAmount","displayUri","thumbnailUri","artifactUri","f","InputValidationService","mnemonics","validMnemonic","zxcvbn","score","passwordStrengthDisplay","validAddress","torusAccount","verifierId","loginType","email","redditAccount","twitterAccount","tezosDomain","username","test","domain","sub","twitterId","passphrase","expr","endsWith","derivationPath","hexString","hex","isMessageSigning","isMichelineExpr","parsedPayload","valueDecoder","Uint8ArrayConsumer","LookupService","torusService","tezosDomainsService","records","pendingLookups","initCheck","lookups","TezosDomains","clear","mark","indexTop","getDomainFromAddress","torusLookup","torusKeyLookup","Verifiers","verifierMap","verifier","Google","Reddit","verifierArray","twitterLookup","Twitter","noReveal","torusEntryExist","record","j","party","alias","Alias","MessageService","spinnerOn","spinnerText","messages","defaultTime","beaconResponse","pairingCompleteMsg","timeout","newMessage","emailNotify","redditNotify","twitterNotify","handler","loader","splice","stopSpinner","httpOptions","OperationService","errorHandlingPipe","prefix","tz1","Uint8Array","tz2","tz3","edpk","sppk","edsk","spsk","edsig","spsig","sig","B","TZ","KT","microTez","feeHardCap","header","branch","opbytes","sopbytes","preApplyResult","final","opCheck","newPkh","originate","actions","gas_limit","storage_limit","public_key","script","transfer","currentFee","invocation","txAmount","mod","eq","getFA12Transaction","getFA2Transaction","transactionOp","managerTransaction","getContractPkhTransaction","getContractKtTransaction","delegationOp","getContractDelegation","getContractUnDelegation","localOpbytes","sk","signed","sign","sbytes","applied","originated_contracts","unsignedOperation","broadcast","sig2edsig","localForger","tz2address","decompress","torusReq","jsonrpc","pub_key_X","X","pub_key_Y","Y","post","PublicKey","failed","n","with","statusText","localForgedBytes","getVotingRights","listings","isRevealed","getVerifiedOpBytes","operationLevel","operationHash","opHashes","opIndex","managerPubkey","manager_pubkey","opBytes","pk2pkh","verify","buf2hex","getConstants","seed2keyPair","seed","keyPair","naclSign","b58cencode","secretKey","blake2b","mnemonic2seed","mnemonic","bip39","mnemonic2entropy","pkDecoded","spPrivKeyToKeyPair","hex2buf","elliptic","keyFromPrivate","yArray","getPublic","getY","toArray","prefixVal","pad","getX","isInvertedPk","invertSpsk","inv","remainder","spPointsToPkh","pubX","pubY","keyFromPublic","decodedPk","hexPk","secp256k1","instantiateSecp256k1","compressed","hexToBin","uncompressed","uncompressPublicKey","xy","binToHex","hex2pk","h","buffer","byteArray","hexParts","paddedHex","prefixx","Bs58check","enc","ledgerPreHash","canonical","hexsigToEdsig","decodeString","zarithDecode","byte","zarithDecodeInt","prim","getManagerScript","pkHex","annots","getApproveAmountParameters","getRevokeAmountParameters","getXTZToTokenParameters","minimum","expirationTime","getTokenToXTZParameters","minimumToken","minimumXTZ","getAddLiquidityParameters","minimumLqt","getRemoveLiquidityParameters","lqtBurn","minXtzWithdrawn","minTokensWithdrawn","getTezToTokenPaymentParameters","getTokenToTezPaymentParameters","minimumXtz","parseTokenTransfer","opJson","addresses","amounts","fa12ref","isEqual","fa2ref","String","retryPipeline","retries","retryWhen","concatMap","iif","throwError","delayOperator","retryWithWarning","SubjectService","origin","Amount","decimalPlaces","internalBigInt","internalNormalised","rpcAmount","normalisedAmount","multiplierIntValue","pow","lqdTokenContract","dipdupContracts","fetchContracts","dipdupContract","fetchStorage","total_pool","tez_pool","token_pool","settings","dex","includeSubsidy","createPoolAmounts","xtzPool","tokenPool","calculateXtzToToken","xtzToSell","maxSlippage","expected","xtzToTokenExpectedReturn","xtzToTokenMinimumReturn","rate","xtzToTokenExchangeRateDisplay","priceImpact","xtzToTokenPriceImpact","impactDouble","calculateXtzToTokenFromToken","tokenToSell","calculateTokenToXTZ","xtz","tokenToXtzExpectedReturn","tokenToXtzMinimumReturn","tokenToXtzExchangeRateDisplay","tokenToXtzPriceImpact","calculateTokenToXTZFromXTZ","calculateAddLiquidityXTZ","totalLiquidity","tokenRequired","addLiquidityTokenRequired","liquidityReturned","addLiquidityReturn","exchangeRate","liquidityExpected","liquidityMinimum","calculateAddLiquidityToken","xtzRequired","addLiquidityXtzRequired","calculateRemoveLiquidity","liquidityBurned","xtzOut","removeLiquidityXtzReceived","tokenOut","removeLiquidityTokenReceived","xtzExpected","xtzMinimum","tokenExpected","tokenMinimum","xPool","tPool","dexterCalculations","includeSibsidy","tokenAmount","slippage","xtzToTokenRequiredXtzFor","xtzPoolRpc","tokenPoolRpc","xtzToTokenExchangeRate","xtzAmount","tokenToXtzRequiredTokenFor","tokenToXtzExchangeRate","tokenToXtzMarketRate","xtzToDeposit","xtzIn","totalLqt","tokenToDeposit","tokenIn","lqtBurned","tLqt","estimateLiquidityBakingAPY","TezosDomainsService","pending","tezosToolkit","Tzip16Module","TaquitoTezosDomainsClient","tezos","caching","getAddressFromDomain","resolver","resolveNameToAddress","collect","reject","q","items","getDomainFromAddresses","promise","baseUrl","reverseRecords","TokenBalancesService","_thumbnailsToCreate","mergeMarket","combineLatest","resolveAsset","contractAlias","CONTRACT_ALIASES","thumbnailUrl","getContractName","getContractLogo","link","visitUrl","getPlaceholderToken","orderedNfts","getThumbnailUrl","_nfts","aliases","pixels","decode","canvas","createElement","imageData","createImageData","putImageData","toDataURL","logo_url","displayUrl","ObjktService","resolveToken","resolveCollection","sleep","resolveCollections","contractAddresses","_objkts","fa","objkts","objkt","logo","ms","TokenService","objktService","AUTO_DISCOVER","exploredIds","pendingSave","unlockablesKey","workers","loadMetadata","saveMetadata","events","evt","NavigationEnd","className","tokenIdArray","ids","idx","span","first","last","gte","lte","displayAsset","artifactAsset","isKnownTokenId","tokenIds","contractKeys","contractKey","tokenKeys","tokenKey","isCategoryType","regex","isKnownTokenContract","addAsset","currentKeys","newKeys","checkObjktData","updated","_objkt","_saveMetadata","searchMetadata","tokenObject","ttl","exp","lastCheck","explore","startWorker","recentDay","firstCheck","handleMetadata","tokenCategory","TRUSTED_TOKEN_CONTRACTS","t1","searchTimeMs","isUnknownToken","metadataJson","BLACKLISTED_TOKEN_CONTRACTS","baseUnit","GOOGLE","REDDIT","TWITTER","FACEBOOK","EMAIL","AUTH_DOMAIN","AUTH_DOMAIN_MAINNET","TorusService","torus","nodeDetails","verifierMaps","testnet","typeOfLogin","clientId","subVerifier","caseSensitiveVerifierID","aggregated","mainnet","_loginToConnectionMap","scope","verifierIdField","isVerifierIdCaseSensitive","isVerifierCaseSensitive","proxy","verifierMapKeys","initTorus","torusdirectsdk","DirectWebSdk","redirectToOpener","enableLogging","proxyContractAddress","skipSw","lookupPkh","selectedVerifier","fetchNodeDetails","FetchNodeDetails","proxyAddress","TorusUtils","torusNodeEndpoints","torusNodePub","torusIndexes","getNodeDetails","sanitizedVerifierId","toLocaleLowerCase","getPublicAddress","referrerPolicy","loginTorus","skipTorusKey","checkIfNewKey","host","mockLogin","jwtParams","login_hint","loginDetails","triggerAggregateLogin","aggregateVerifierType","verifierIdentifier","subVerifierDetailsArray","triggerLogin","userInfo","accessToken","privateKey","existingPk","preexistingPkh","isNewKey","getTorusKeyPair","TzrateService","apiUrl","usd","tot","totalBalanceUSD","UnlockableService","settingsKey","unlockables","WalletService","encryptionService","storageId","createNewWallet","utils","createEncryptedWallet","hdSeed","entropy","hd","encrypted","encryptedSeed","iv2","encryptedEntropy","exportKeyStoreInit","getKeys","pwd","LegacyWalletV1","LegacyWalletV2","IV","LedgerWallet","EmbeddedTorusWallet","getImplicitAccount","revealMnemonicPhrase","addImplicitAccount","addOriginatedAccount","kt","implicitAccount","origAcc","OriginatedAccount","originatedAccounts","incrementAccountIndex","clearWallet","instanceId","sessionStorage","isFullWallet","FullWallet","isViewOnlyWallet","isObserverWallet","isLedgerWallet","isHdWallet","isTorusWallet","isEmbeddedTorusWallet","isWatchWallet","WatchWallet","isPwdWallet","walletType","provider","initStorage","localStorageId","getLocalStorageId","getStorage","walletData","loadStoredWallet","parsedWalletData","wd","deserializeStoredWallet","implicit","originated","Wallet","originatedAccount","encrypedSeed","displayName","Account","getTokenBalance","isImplicit","ktAddress","managerPkh","managerPk","NETWORK","NAME","TEZOS_DOMAIN","CONTRACT","TOP_DOMAINS","MAINNET","NODE_URL","BLOCK_EXPLORER_URL","HARD_LIMITS","hard_gas_limit_per_operation","hard_gas_limit_per_block","hard_storage_limit_per_operation","EmergentsTCG","discoverUrl","zoomDiscoverImg","ASSETS","NFT_CONTRACT_OVERRIDES","CONTRACT_OVERRIDES","FEATURE_CONTRACTS","production","_TTC","_BLTC","_M3DW","ImportService","pwdRequired","importWalletFromJson","importWalletFromObject","findContracts","importWalletFromPk","verifierDetails","ledgerImport","torusImport","watch","embedded","updateTwitterName","StartComponent","importService","route","isMobile","queryParams","devtool","prompt","torusLogin","ExportService","downloadWallet","blob","Blob","filename","saveAs","downloadOperationData","$event","stopPropagation","NewWalletComponent","exportService","showTacos","pwd1","pwd2","userMnemonic","hideBlur","isSelectedMnemonic","pwdStrength","ekfDownloaded","activePanel","longClickTs","generateSeed","MNEMONIC","array","wordsToVerify","mnemonicLength","random","checkWord","wordInput","getElementById","blur","formatVerifyDescription","indexFormat","valueFormat","verifyView","pwdView","mnemonicMatch","encryptWallet","validPwd","offsetWidth","calcStrength","done","export","getPkh","download","mouseOut","getSelection","removeAllRanges","checkSelection","isTextSelected","selection","isCollapsed","hostVars","_r5","ctx_r15","ctx_r40","ctx_r42","ctx_r43","MnemonicImportComponent","MIN_PWD_LENGTH","importOption","hdImport","Downloaded","fileName","browser","advancedForm","navigation","getCurrentNavigation","extras","allowDrop","bind","handleFileDragAndDrop","clickPassword","removeAttribute","blurPassword","setAttribute","retrieve","setPwd","showPkh","importPreCheck","keyFile","typeCheckFile","walletJson","checkImportPwd","import","preventDefault","handleFileInput","dataTransfer","files","fileToUpload","validateFile","fileNotSupported","reader","FileReader","readAsText","onload","ext","lastIndexOf","LedgerService","setTransport","transport","TransportWebHID","TransportU2F","transportCheck","getAddress","sanitize","signOperation","signHash","getPk","ConnectLedgerComponent","ledgerService","defaultPath","defaultText","pendingLedgerConfirmation","isHDDerivationPathCustom","checkBrowser","navigator","userAgent","userAgentData","brands","some","brand","platform","importFromPk","setDefaultPath","v","P404Component","P500Component","PrivacyPolicyComponent","getHostName","hostname","TermsOfUseComponent","EmbeddedAuthService","authenticate","authReq","authMessage","createAuthMessage","nonce","signMessage","signExprSilent","hexExpr","requestId","authPayload","purpose","currentTime","_network","Parser","parseMichelineExpression","hexMessage","valueEncoder","LqdEntrypoints","Mode","zeroTxParams","SwapLiquidityComponent","estimateService","tezosDomainService","tezosDomains","chartService","prepareResponse","swap","xtzToToken","defaultTransactionParams","latestSimError","customFee","customGasLimit","customStorageLimit","minimumLqd","qty","qtyRaw","qtyOut","qtyRawOut","xtzBalance","lqdBalance","tzBTCBalance","simSemaphore","chartDatas","chartOptions","chartInit","setTokenBalances","initChartsMobile","arr","leftChart","miniChart","tokenToXtz","addLiquidity","removeLiquidity","initChartsDesktop","initCharts","birthExchangeRate","expectedRate","hydratePools","APY","_super","call","xtzToBuy","tokenToBuy","calcSwap","calcAddLiquidity","toSell","calcRemoveLiquidity","lqtToBurn","estimateFees","preview","getFullyPreparedTxs","toggleMode","chartToggle","liquidity","toggleDirection","dir","evalAmount","getTotalFee","getTotalBurn","mul","burnAmount","customSlippage","customSlippageFocus","customSlippageBlur","getMaxAmount","accountBalance","tez","lqd","tzBTC","prevSimError","txs","getMinimalPreparedTxs","checkBalances","updateMaxAmount","assert","minimalTxs","opsWithCustomLimits","extraGas","extraStorage","extraGasPerOp","extraStoragePerOp","fullyTx","maxTez","maxLQD","maxtzBTC","gt","sanitizeNumberInput","openInfoModal","ctx_r8","ctx_r32","ctx_r51","ctx_r54","_r16","ConfirmSendComponent","tokenBalanceService","confirmRequest","operationResponse","externalReq","batchParamIndex","micheline","batchParameters","parametersFormat","parametersDisplay","showAll","showFullBatch","sendResponse","ledgerError","pwdInvalid","syncSub","closeModalAction","loadParameters","num","updateParameters","parametersToMicheline","parametersTextboxDisplay","setParametersFormat","beaconTokenTransfer","assertMichelsonData","emitMicheline","indent","newline","getTotalAmount","totalSent","getTotalCost","totalFee","totalActiveStorageLimit","getTotalDefaultStorage","getTotalDefaultGas","totalGas","totalStorage","getQuantity","totalAmount","ledgerRetry","sendTransaction","inject","broadCastLedgerTransaction","torusNotification","requestLedgerSignature","signedOp","signedOperation","getUsername","getVerifier","previewAttention","recipientKind","tmp","ctx_r3","PrepareSendDropdownComponent","torusVerifierName","torusVerifier","ctx_r18","ctx_r19","ctx_r44","ctx_r45","ctx_r47","ctx_r48","PrepareSendComponent","prepareRequest","active","isMultipleDestinations","hideAmount","accountDropdownIsOpen","torusLookupId","torusLookupAddress","torusTwitterId","torusPendingLookup","toMultipleDestinationsString","prevEquiClass","sendMax","toPkh","clearTorus","getTitle","getAssetName","short","amountChange","equiClass","checkBalance","updateDefaultValues","toPkhChange","finalCheck","getBatch","invalidTorusAccount","torusReady","checkTx","row","cols","col","torusError","google","reddit","twitter","sendEntireBalance","event","checkMaxAmount","toggleDestination","maxToSend","maxKt","maxTz","maxAmount","verifierChange","batchSpace","numberOfTxs","txsLimit","numberWithCommas","dynSize","pasteToPkh","clipboard","readText","clipText","handleScanResponse","_r8","_r19","_r27","ctx_r25","_r31","ConfirmSendEmbedComponent","templateRequest","isApproved","showMore","descriptions","hideScrollbar","cancel","approve","resetScrollbar","scrollBarWidth","overflow","_r13","SwapLiquidityConfirmComponent","semaphore","confirmTitle","parseTransactions","csr","hasTrailingZeroApproval","values","expectedXtz","expectedToken","expectedLqd","SendComponent","confirmSwapLiquidityRequest","thresholdUSD","swapLiquidityEntrypoints","externalRequest","selectedAccount","checkOpReq","operationRequest","opReq","operationDetails","silent","validParameters","simulateRequest","tokenTransferObj","getTokenTransferObj","partialOps","fullyPrepared","getTemplateFee","total","silentInject","confirmTransactions","isLbReq","Set","_l","_m","_o","_p","_q","_r","_s","_t","handlePrepareResponse","preparedTransactions","handleConfirmResponse","handleTemplateApproval","_r10","ExprTemplateComponent","SignExprEmbedComponent","signResponse","isMessage","signRequest","ui","acceptSigning","rejectSigning","QueueEmbedComponent","queueTime","hours","updateTime","SigninComponent","loginResponse","loginOptions","queueTimeVisible","queueLen","statusCounter","queueEndpoint","loginConfig","customPrio","LoginPrio","queueLenInterval","getQueueLen","dismiss","startQueue","loginOption","setHighPrio","queueInterval","timeBetweenChecks","checkQueue","stopQueue","clearInterval","abort","back","login","loginData","len","setLowPrio","skipQueue","action","identity","groups","updateQueue","EstimatedTimeSeconds","Status","triesLeft","CardComponent","Permission","EmbeddedComponent","embeddedAuthService","permissionMatrix","brio","origins","minterpop","interpop","humanMachine","ubisoft","gap","micheline_silent","lexus","blockspace","evian","souvie","tzstaging","studioexception","cleantree","vitality","kanvas","proofof","emergents","thegoodsociety","circa","mooncakes","truename","pendingOps","blockCard","queueMode","currentInstanceId","handleRequest","hasPermission","RequestTypes","handleLoginRequest","handleOperationRequest","handleSignExprRequest","handleTrackRequest","handleLogoutRequest","handleAuthRequest","handleCardRequest","background","attachEvent","subscribeToConfirmedOps","parent","postMessage","ResponseTypes","MICHELINE","MICHELINE_SILENT","normalizeTemplate","LOGIN","config","customSpinnerDismissal","OPERATIONS","isValidOperation","noWalletError","toImport","idToken","long_lived_token","filteredUserInfo","generateInstanceId","userData","authParams","authResponse","strictAuth","importAccount","show","common","ophashSubscription","permission","allowedOrigin","ReceiveComponent","showReceiveFormat","btnOutline","dropdownItem","getQR","QRCode","errorCorrectionLevel","scaleFactor","color","light","NewImplicitComponent","errorMsg","openPkhSpot","addPkh","navigateByUrl","PermissionRequestDropdownComponent","PermissionRequestComponent","permissionResponse","preSelectedAccount","permissionRequest","rejectPermissions","grantPermissions","scopeToText","app","ctx_r16","SignExprComponent","ctx_r21","ctx_r24","OriginateComponent","beaconMode","customGas","customStorage","simError","activeTab","isValidOrigination","recommendations","clearForm","assertMichelsonContract","getOrigination","getScript","validateOrigination","sendOrigination","ledgerSign","keyPressNumbersDecimal","charCode","which","keyCode","_r3","DelegateComponent","domainPendingLookup","defaultFee","pkhFee","ktFee","advanced","snapshot","paramMap","estimateDefaultFee","pwdValid","sendDelegation","getFee","revealed","revealFee","invalidInput","AccountListBodyComponent","postfix","accountAddress","substr","selRef","viewRef","getTotalBalance","getTotalFiat","AccountListComponent","ctx_r17","ExportMnemonicComponent","mnemonicPhrase","UriHandlerComponent","connectApp","WalletClient","connect","handlePermissionRequest","isSupportedOperationRequest","changeFavicon","isSupportedSignPayload","pairingString","handleStorageEvent","isConnected","hasFocus","src","PermissionScope","sourceAddress","invalidParameters","invalidOptionals","transactionHash","newValue","senderIds","newPeer","pop","MoonpayComponent","sanitizer","dev","mobile","signUrl","encodeURIComponent","bypassSecurityTrustResourceUrl","children","LoggedInComponent","loadChildren","module","redirectTo","AppRoutingModule","relativeLinkResolution","InfoComponent","href","proceed","newTab","opener","AlertComponent","subject","removeMessage","notifyFormat","mailtoFormat","redditPmFormat","twitterPmFormat","encodeURI","encodedBody","accountType","getAlias","i_r2","MessagesComponent","ctx_r14","AccountDropdownComponent","trackAccount","ctx_r6","ctx_r10","MobileMenuDropdownComponent","delegateName","newAccount","receive","HeaderComponent","getDelegateName","parentNode","FooterComponent","darkText","promptTelegramDialog","SpinnerNewComponent","SpinnerComponent","AgreementComponent","displayAgreement","accepted","accept","AppComponent","previous","container","setDefaultLang","getBrowserLang","use","checkEmbedded","brk","clientWidth","setProperty","oldValue","returnLanguage","lang","bg","resize","fontSize","setLanguage","TruncatePipe","endTrail","returnString","endTrailstring","HttpLoaderFactory","TranslateHttpLoader","AppModule","bootstrap","BrowserModule","BrowserAnimationsModule","TranslateModule","provide","TranslateLoader","useFactory","deps","HttpClient","enableProdMode","__NgCli_bootstrap_1","bootstrapModule","webpackContext","webpackContextResolve","__webpack_require__","exports"],"sourceRoot":"webpack:///","x_google_ignoreList":[177]}